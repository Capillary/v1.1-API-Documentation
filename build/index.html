<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Doc v1.1</title>
	<link href="https://intouch.capillary.co.in/images/favicon_v3.ico" rel="icon" type="image/ico" />

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #272822;
  background-color: #f92672;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #75715e;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #f8f8f2;
}
.highlight .p, .highlight .pi {
  color: #f8f8f2;
}
.highlight .gi {
  color: #a6e22e;
}
.highlight .gd {
  color: #f92672;
}
.highlight .gh {
  color: #66d9ef;
  background-color: #272822;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #ae81ff;
}
.highlight .kc {
  color: #fd971f;
}
.highlight .kt {
  color: #fd971f;
}
.highlight .kd {
  color: #fd971f;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #a6e22e;
}
.highlight .sr {
  color: #a1efe4;
}
.highlight .si {
  color: #cc6633;
}
.highlight .se {
  color: #cc6633;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #66d9ef;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #a6e22e;
}
.highlight .ss {
  color: #a6e22e;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;json&quot;,&quot;xml&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.svg" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="json">json</a>
              <a href="#" data-language-name="xml">xml</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><b>Other API Documents</b></li>
            <li><a href="https://capillary.github.io/api-documentation/">CRM API Documentation v2.0</a></li>
            <li><a href="https://capillary.github.io/ecom-api-document/">AnywhereCommerce API Documentation</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="getting-started">Getting Started</h1>

<p>The Capillary APIs are RESTful APIs that help third party applications manage an Organization’s CRM and Loyalty Program through the Capillary platform. This document provides all the APIs that can be used to integrate with the Capillary Applications, their descriptions, resource information, request parameters, request URIs, and sample requests.</p>

<h2 id="organization-setup">Organization Setup</h2>

<p>An organization associated with Capillary is registered in InTouch. Based on the organization&rsquo;s architecture, store TILL or Store Center accounts are created besides zones, concepts, and stores. Only Capillary users have access to register an organization in inTouch. For more information, contact your  Account Manager or Delivery Manager of Capillary.</p>

<p>To set up an organization as a Capillary admin, see Setting up Organization. </p>

<h2 id="authentication">Authentication</h2>

<p>Capillary APIs are accessed using the TILL/Store Center credentials created when the organization is registered. Please note that it is mandatory to use only the store specific Till/Store Center credentials of the organization as the data in the API response depends on this identification.</p>

<aside class="notice">
Use Case: 
For instance, assume that a retailer XYZ of India cluster is registered with Capillary with two stores - store1 and store2. Each store has 2 TILLS - till1 and till2(for store1), till3 and till4(for store2). 

If you authenticate using till1 credentials, you can access org level data and only the data of Store1. You cannot access the data of Store2.
</aside>

<aside class="warning">
For any assistance on Organization setup, please contact your Account Manager of Capillary.
</aside>

<h2 id="authentication">Authentication</h2>

<p>To obtain access to the entities of the Capillary Rest APIs, you need to authenticate the TILL/store center account that you are referring to for using the HTTP Basic Authentication.</p>

<p>Authorization Header is used for validating authentication credentials. The Authorization Header is constructed as shown below:</p>

<p><code class="prettyprint">Authorization: Basic &lt;Base64 encoded (username: md5(password))&gt;</code></p>

<p>In the Authorization Header pass the encoded Base64 form of username and md5 formatted password.</p>

<aside class="notice">
For example, to authenticate using TILL1 credentials whose password is 123: <br>

First convert the password ‘123’ in md5 form. i,e., 202cb962ac59075b964b07152d234b70 <br>

Then encode the username and md5 password to Base64. i.e. <br>

`Base64(till1:202cb962ac59075b964b07152d234b70)` which is `Authorization: Basic dGlsbDE6IDIwMmNiOTYyYWM1OTA3NWI5NjRiMDcxNTJkMjM0Yjcw`
</aside>

<h2 id="tracking-request">Tracking Request</h2>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"Date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wed, 16 Dec 2015 06:05:13 GMT"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json; charset=utf-8"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Cache-Control"</span><span class="p">:</span><span class="w"> </span><span class="s2">"must-revalidate,no-cache,no-store"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"X-Cap-Requestid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5670FF17B7D58"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Server"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CapWS"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Content-Encoding"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gzip"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"X-Cache"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MISS from localhost"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Transfer-Encoding"</span><span class="p">:</span><span class="w"> </span><span class="s2">"chunked"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Connection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"keep-alive"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>A unique id is generated for every request made using Capillary APIs and is sent to the requester in the Response Headers as &ldquo;X-Cap-Requestid&rdquo;. 
You can use this request id to track the request end-to-end.
&lt;aside class=&ldquo;notice&rdquo;
It is recommended to note the <code class="prettyprint">X-Cap-Requestid</code> of a request for future requirements.</p>

<aside class="notice">
When an API call is made with 4 batch transactions, A response header is generated with the `X-Cap-Requestid` as shown above. This id can be used to track the details of the entire API call (both request and response).
</aside>

<h2 id="required-headers">Required Headers</h2>

<p>Capillary CRM V1.1 APIs support both XML and JSON formats for requests and responses. You can set header as per your required format. </p>

<table><thead>
<tr>
<th>Header</th>
<th>Description</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Accept</td>
<td>Request format from the server side</td>
<td>Pass <code class="prettyprint">application/json</code> for JSON format, <code class="prettyprint">application/xml</code> for XML format.</td>
</tr>
<tr>
<td>Content-Type</td>
<td>Determine desired representation client the side</td>
<td>Pass <code class="prettyprint">application/json</code> for JSON format, <code class="prettyprint">application/xml</code> for XML format.</td>
</tr>
</tbody></table>

<aside class="notice"> You can also manually set the format for an API by passing the query parameter `format=xml` or `format=json`. </aside>

<h2 id="resource-information">Resource Information</h2>

<table><thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Request URL</td>
<td><code class="prettyprint">https://{host}/v1.1/{entity}/{method}?{QueryParams}&amp;{format}</code></td>
</tr>
<tr>
<td>Host</td>
<td>The server to which the API calls are made (cluster URL). <br><strong>India</strong>: apac.api.capillary.co.in <br><strong>APAC2</strong>: apac2.api.capillarytech.com <br><strong>EU</strong>: eu.api.capillarytech.com <br><strong>US</strong>: us.api.capillarytech.com <br><strong>China</strong>: cdn-api.capillarytech.cn.com [or] api.capillarytech.cn.com</td>
</tr>
<tr>
<td>API Version Number</td>
<td>v1.1</td>
</tr>
<tr>
<td>Entity</td>
<td>Resource for which actions are performed. Example: communications, coupon, customer, organization, points, product, store, and transaction</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>The Capillary Cloud REST APIs support the standard HTTP methods - GET and POST</td>
</tr>
<tr>
<td>Format</td>
<td>Preferred format of requesting data - <code class="prettyprint">xml</code>, <code class="prettyprint">json</code>. By default, these APIs return data in the format represented in Headers. You can explicitly override by passing <code class="prettyprint">format=json</code> or <code class="prettyprint">format=xml</code> <br>Example: <code class="prettyprint">https://eu.api.capillarytech.com/v1.1/customer/add?format=json</code></td>
</tr>
</tbody></table>

<h2 id="response-codes">Response Codes</h2>
<pre class="highlight xml"><code># API level Response Code

<span class="nt">&lt;status&gt;</span>
<span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
<span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
<span class="nt">&lt;message&gt;</span>Operation Successful<span class="nt">&lt;/message&gt;</span>
<span class="nt">&lt;/status&gt;</span>
</code></pre><pre class="highlight json"><code><span class="err">#</span><span class="w"> </span><span class="err">API</span><span class="w"> </span><span class="err">level</span><span class="w"> </span><span class="err">Response</span><span class="w"> </span><span class="err">Code</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code># Item Level Response Code

<span class="nt">&lt;item_status&gt;</span>
<span class="nt">&lt;success&gt;</span>false<span class="nt">&lt;/success&gt;</span>
<span class="nt">&lt;code&gt;</span>1001<span class="nt">&lt;/code&gt;</span>
<span class="nt">&lt;message&gt;</span>Invalid Mobile Number<span class="nt">&lt;/message&gt;</span>
<span class="nt">&lt;/item_status&gt;</span>
</code></pre><pre class="highlight json"><code><span class="err">#</span><span class="w"> </span><span class="err">Item</span><span class="w"> </span><span class="err">Level</span><span class="w"> </span><span class="err">Response</span><span class="w"> </span><span class="err">Code</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1001"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid Mobile Number"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<p>API responses are generated at request level and item level.</p>

<ul>
<li><strong>Request Level Responses</strong>: These response codes are generated at the request level (for an entire request).</li>
<li><strong>Item Level Responses</strong>: These response codes are generated at individual items of a request.</li>
</ul>

<aside class="notice"> For instance, assume that a batch API call is made to add multiple transactions. The entire request will have a status (successful, failed or partial success)and also each transaction item will have its own response code element. You can see API level response in the <status> element and item level in the <item_status> element.
</aside>

<h3 id="api-level-response-codes">API Level Response Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success</td>
</tr>
<tr>
<td>201</td>
<td>Some requests have failed due to errors</td>
</tr>
<tr>
<td>500</td>
<td>All requests have failed due to errors</td>
</tr>
<tr>
<td>400</td>
<td>Input is invalid, Please check request parameters or input xml/json</td>
</tr>
<tr>
<td>401</td>
<td>Please check your username/password or authentication token</td>
</tr>
<tr>
<td>402</td>
<td>Version is not supported for this resource</td>
</tr>
<tr>
<td>404</td>
<td>Incorrect resource</td>
</tr>
<tr>
<td>405</td>
<td>Incorrect HTTP Method</td>
</tr>
<tr>
<td>406</td>
<td>Operation is not supported for the resource</td>
</tr>
<tr>
<td>407</td>
<td>Unknown Error happened while processing the request</td>
</tr>
<tr>
<td>408</td>
<td>Network MAC ID does not match</td>
</tr>
</tbody></table>

<h3 id="item-level-response-codes">Item Level Response Codes</h3>

<p>Each entity has a different set of response codes. Item level response codes for each entity is provided in the respective entity section. </p>

          <h1 id="customer">Customer</h1>

<p>A customer is an individual who either buys goods/services, or subscribes to the organization’s newsletters. An organization refers to a store, business firm, hospital or restaurant.</p>

<p>Based on the registration status, customers are categorized into three types:</p>

<ul>
<li><strong>Loyalty customers</strong>: Customers who have registered into the organization’s loyalty program </li>
<li><strong>Non-loyalty customers</strong>: Customers who have subscribed (mobile number or email id) to organization&rsquo;s newsletter to receive campaign/transaction messages but not enrolled into the organization’s loyalty program </li>
<li><strong>Not-interested or anonymous customers</strong>: Customers who have neither enrolled in the loyalty program nor subscribed to the organization&rsquo;s newsletter </li>
</ul>

<p>The customer entity contains APIs related to registering customers into the loyalty program, managing loyalty accounts and updating subscription status of both registered and non-registered customers. It stores customer related information such as identifiers, profile details, custom field details, transactions, preferences, subscription details (mobile number/email id), tier details, points history and coupons history.</p>

<p>Customer APIs allow you to :</p>

<ul>
<li>Register customers into your organization’s loyalty program </li>
<li>Update loyalty customers&rsquo; profile information</li>
<li>Update primary or secondary identifiers (mobile no, email id, or external id)</li>
<li>Retrieve customer details of loyalty and non-loyalty customers</li>
<li>Capture complaints and feedback of loyalty customers</li>
<li>Add, update and retrieve customer preferences of loyalty customers</li>
<li>Retrieve transactions of loyalty/non-loyalty customers</li>
</ul>

<h2 id="register-customer">Register Customer</h2>

<blockquote>
<p>Sample Request URL</p>
</blockquote>
<pre class="highlight html"><code>POST https://us.api.capillarytech.com/v1.1/customer/add?format=json
</code></pre>
<blockquote>
<p>Sample POST Request</p>
</blockquote>
<pre class="highlight json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nt">"root"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900000"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom.sawyer@example.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XYPZ001"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tom"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sawyer"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"registered_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-09-11 11:11:11"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"registered_till"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NorthEast"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"associated_with"</span><span class="p">:</span><span class="s2">"two.till01"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"extended_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"field"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gender"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Male"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"city"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bangalore"</span><span class="w">
            </span><span class="p">},</span><span class="w">

            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dob"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1998/12/01"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"custom_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"field"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hobbies"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[“Playing”]"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Favorite Color"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Green"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900999"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rita.john@example.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XYPZ006"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rita"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"registered_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-09-11 11:11:15"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"extended_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"field"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gender"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"female"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"city"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bangalore"</span><span class="w">
            </span><span class="p">},</span><span class="w">

            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dob"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1998/09/01"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"subscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"subscription"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"priority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRANS"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"scope"</span><span class="p">:</span><span class="w"> </span><span class="s2">"all"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"is_subscribed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"priority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BULK"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"scope"</span><span class="p">:</span><span class="w"> </span><span class="s2">"all"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"is_subscribed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"priority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRANS"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"scope"</span><span class="p">:</span><span class="w"> </span><span class="s2">"all"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"is_subscribed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sms"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"priority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BULK"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"scope"</span><span class="p">:</span><span class="w"> </span><span class="s2">"all"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"is_subscribed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sms"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"custom_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"field"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hobbies"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[“Singing”]&gt;"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Favorite Color"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blue"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code>
<span class="nt">&lt;root&gt;</span>
    <span class="nt">&lt;customer&gt;</span>
        <span class="nt">&lt;mobile&gt;</span>44700900000<span class="nt">&lt;/mobile&gt;</span>
        <span class="nt">&lt;email&gt;</span>tom.sawyer@example.com<span class="nt">&lt;/email&gt;</span>
        <span class="nt">&lt;external_id&gt;</span>XYPZ001<span class="nt">&lt;/external_id&gt;</span>
        <span class="nt">&lt;firstname&gt;</span>Tom<span class="nt">&lt;/firstname&gt;</span>
        <span class="nt">&lt;lastname&gt;</span>Sawyer<span class="nt">&lt;/lastname&gt;</span>
        <span class="nt">&lt;registered_till&gt;</span>NorthEast<span class="nt">&lt;/registered_till&gt;</span>
        <span class="nt">&lt;registered_on&gt;</span>2012-09-11 11:11:11<span class="nt">&lt;/registered_on&gt;</span>
        <span class="nt">&lt;extended_fields&gt;</span>
            <span class="nt">&lt;field&gt;</span>
                <span class="nt">&lt;name&gt;</span>gender<span class="nt">&lt;/name&gt;</span>
                <span class="nt">&lt;value&gt;</span>male<span class="nt">&lt;/value&gt;</span>
            <span class="nt">&lt;/field&gt;</span>

            <span class="nt">&lt;field&gt;</span>
                <span class="nt">&lt;name&gt;</span>city<span class="nt">&lt;/name&gt;</span>
                <span class="nt">&lt;value&gt;</span>Bangalore<span class="nt">&lt;/value&gt;</span>
            <span class="nt">&lt;/field&gt;</span>
            <span class="nt">&lt;field&gt;</span>
                <span class="nt">&lt;name&gt;</span>dob<span class="nt">&lt;/name&gt;</span>
                <span class="nt">&lt;value&gt;</span>1998/09/01<span class="nt">&lt;/value&gt;</span>
            <span class="nt">&lt;/field&gt;</span>
        <span class="nt">&lt;/extended_fields&gt;</span>
        <span class="nt">&lt;custom_fields&gt;</span>
            <span class="nt">&lt;field&gt;</span>
                <span class="nt">&lt;name&gt;</span>Hobbies<span class="nt">&lt;/name&gt;</span>
                <span class="nt">&lt;value&gt;</span>[“Playing”]<span class="nt">&lt;/value&gt;</span>
            <span class="nt">&lt;/field&gt;</span>

        <span class="nt">&lt;/custom_fields&gt;</span>
    <span class="nt">&lt;/customer&gt;</span>
    <span class="nt">&lt;customer&gt;</span>
        <span class="nt">&lt;mobile&gt;</span>44700900999<span class="nt">&lt;/mobile&gt;</span>
        <span class="nt">&lt;email&gt;</span>rita.john@example.com<span class="nt">&lt;/email&gt;</span>
        <span class="nt">&lt;external_id&gt;</span>XYPZ006<span class="nt">&lt;/external_id&gt;</span>
        <span class="nt">&lt;firstname&gt;</span>Rita<span class="nt">&lt;/firstname&gt;</span>
        <span class="nt">&lt;lastname&gt;</span>John<span class="nt">&lt;/lastname&gt;</span>
        <span class="nt">&lt;associated_with&gt;</span>two.till01<span class="nt">&lt;/associated_with&gt;</span>
        <span class="nt">&lt;registered_on&gt;</span>2012-09-11 11:11:15<span class="nt">&lt;/registered_on&gt;</span>
        <span class="nt">&lt;extended_fields&gt;</span>
            <span class="nt">&lt;field&gt;</span>
                <span class="nt">&lt;name&gt;</span>gender<span class="nt">&lt;/name&gt;</span>
                <span class="nt">&lt;value&gt;</span>female<span class="nt">&lt;/value&gt;</span>
            <span class="nt">&lt;/field&gt;</span>

            <span class="nt">&lt;field&gt;</span>
                <span class="nt">&lt;name&gt;</span>city<span class="nt">&lt;/name&gt;</span>
                <span class="nt">&lt;value&gt;</span>Bangalore<span class="nt">&lt;/value&gt;</span>
            <span class="nt">&lt;/field&gt;</span>
            <span class="nt">&lt;field&gt;</span>
                <span class="nt">&lt;name&gt;</span>dob<span class="nt">&lt;/name&gt;</span>
                <span class="nt">&lt;value&gt;</span>1998/12/01<span class="nt">&lt;/value&gt;</span>
            <span class="nt">&lt;/field&gt;</span>
        <span class="nt">&lt;/extended_fields&gt;</span>
        <span class="nt">&lt;subscriptions&gt;</span>
            <span class="nt">&lt;subscription&gt;</span>
                <span class="nt">&lt;priority&gt;</span>TRANS<span class="nt">&lt;/priority&gt;</span>
                <span class="nt">&lt;scope&gt;</span>all<span class="nt">&lt;/scope&gt;</span>
                <span class="nt">&lt;is_subscribed&gt;</span>0<span class="nt">&lt;/is_subscribed&gt;</span>
                <span class="nt">&lt;channel&gt;</span>email<span class="nt">&lt;/channel&gt;</span>
            <span class="nt">&lt;/subscription&gt;</span>
            <span class="nt">&lt;subscription&gt;</span>
                <span class="nt">&lt;priority&gt;</span>BULK<span class="nt">&lt;/priority&gt;</span>
                <span class="nt">&lt;scope&gt;</span>all<span class="nt">&lt;/scope&gt;</span>
                <span class="nt">&lt;is_subscribed&gt;</span>0<span class="nt">&lt;/is_subscribed&gt;</span>
                <span class="nt">&lt;channel&gt;</span>email<span class="nt">&lt;/channel&gt;</span>
            <span class="nt">&lt;/subscription&gt;</span>
            <span class="nt">&lt;subscription&gt;</span>
                <span class="nt">&lt;priority&gt;</span>TRANS<span class="nt">&lt;/priority&gt;</span>
                <span class="nt">&lt;scope&gt;</span>all<span class="nt">&lt;/scope&gt;</span>
                <span class="nt">&lt;is_subscribed&gt;</span>0<span class="nt">&lt;/is_subscribed&gt;</span>
                <span class="nt">&lt;channel&gt;</span>sms<span class="nt">&lt;/channel&gt;</span>
            <span class="nt">&lt;/subscription&gt;</span>
            <span class="nt">&lt;subscription&gt;</span>
                <span class="nt">&lt;priority&gt;</span>BULK<span class="nt">&lt;/priority&gt;</span>
                <span class="nt">&lt;scope&gt;</span>all<span class="nt">&lt;/scope&gt;</span>
                <span class="nt">&lt;is_subscribed&gt;</span>0<span class="nt">&lt;/is_subscribed&gt;</span>
                <span class="nt">&lt;channel&gt;</span>sms<span class="nt">&lt;/channel&gt;</span>
            <span class="nt">&lt;/subscription&gt;</span>
        <span class="nt">&lt;/subscriptions&gt;</span>
        <span class="nt">&lt;custom_fields&gt;</span>
            <span class="nt">&lt;field&gt;</span>
                <span class="nt">&lt;name&gt;</span>Hobbies<span class="nt">&lt;/name&gt;</span>
                <span class="nt">&lt;value&gt;</span>[“Singing”]<span class="ni">&amp;gt;</span><span class="nt">&lt;/value&gt;</span>
            <span class="nt">&lt;/field&gt;</span>
            <span class="nt">&lt;field&gt;</span>
                <span class="nt">&lt;name&gt;</span>a<span class="nt">&lt;/name&gt;</span>
                <span class="nt">&lt;value&gt;</span>[“b”]<span class="nt">&lt;/value&gt;</span>
            <span class="nt">&lt;/field&gt;</span>
        <span class="nt">&lt;/custom_fields&gt;</span>
    <span class="nt">&lt;/customer&gt;</span>
<span class="nt">&lt;/root&gt;</span>

</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"customers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900000"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom.sawyer@example.com"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XYPZ001"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"registered_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-09-11 11:11:11"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Customer Registration Successful"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"side_effects"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"effect"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"points"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"awarded_points"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19490463"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"total_points"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19490463"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"coupon"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"coupon_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"095790"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample description"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"coupon_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CAMPAIGN/DVS"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"42601779"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tom"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sawyer"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"lifetime_points"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"lifetime_purchases"</span><span class="p">:</span><span class="w"> </span><span class="s2">"180"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"loyalty_points"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"current_slab"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SILVER"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"updated_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-11 11:11:11"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44342"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900999"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rita.john@example.com"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XYPZ006"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"registered_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-11 11:11:15"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"extended_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"field"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"color"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"black"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ItemWeight"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Status"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w"> </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ser_tax"</span><span class="w"> </span><span class="p">}</span><span class="w">

            </span><span class="p">]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Customer Registration Successful"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"side_effects"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">

          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rita"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"lifetime_points"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"lifetime_purchases"</span><span class="p">:</span><span class="w"> </span><span class="s2">"345"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"loyalty_points"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"current_slab"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SILVER"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"updated_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-11 11:11:15"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><pre class="highlight xml"><code><span class="nt">&lt;response&gt;</span>
    <span class="nt">&lt;status&gt;</span>
        <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
        <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/status&gt;</span>
    <span class="nt">&lt;customers&gt;</span>
        <span class="nt">&lt;customer&gt;</span>
            <span class="nt">&lt;user_id&gt;</span>123<span class="nt">&lt;/user_id&gt;</span>
            <span class="nt">&lt;mobile&gt;</span>44700900000<span class="nt">&lt;/mobile&gt;</span>
            <span class="nt">&lt;email&gt;</span>tom.sawyer@example.com<span class="nt">&lt;/email&gt;</span>
            <span class="nt">&lt;external_id&gt;</span>XYPZ001<span class="nt">&lt;/external_id&gt;</span>
            <span class="nt">&lt;registered_on&gt;</span>2012-09-11 11:11:11<span class="nt">&lt;/registered_on&gt;</span>
            <span class="nt">&lt;extended_fields&gt;</span>
                <span class="nt">&lt;field&gt;</span>
                    <span class="nt">&lt;name&gt;</span>gender<span class="nt">&lt;/name&gt;</span>
                    <span class="nt">&lt;value&gt;</span>male<span class="nt">&lt;/value&gt;</span>
                <span class="nt">&lt;/field&gt;</span>
                <span class="nt">&lt;field&gt;</span>
                    <span class="nt">&lt;name&gt;</span>city<span class="nt">&lt;/name&gt;</span>
                    <span class="nt">&lt;value&gt;</span>Bangalore<span class="nt">&lt;/value&gt;</span>
                <span class="nt">&lt;/field&gt;</span>
                <span class="nt">&lt;field&gt;</span>
                    <span class="nt">&lt;name&gt;</span>dob<span class="nt">&lt;/name&gt;</span>
                    <span class="nt">&lt;value&gt;</span>1998/09/01<span class="nt">&lt;/value&gt;</span>
                <span class="nt">&lt;/field&gt;</span>

            <span class="nt">&lt;/extended_fields&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
                <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
                <span class="nt">&lt;code&gt;</span>1000<span class="nt">&lt;/code&gt;</span>
                <span class="nt">&lt;message&gt;</span>Customer Registration Successful<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
            <span class="nt">&lt;side_effects&gt;</span>
                <span class="nt">&lt;effect&gt;</span>
                    <span class="nt">&lt;type&gt;</span>points<span class="nt">&lt;/type&gt;</span>
                    <span class="nt">&lt;awarded_points&gt;</span>19490463<span class="nt">&lt;/awarded_points&gt;</span>
                    <span class="nt">&lt;total_points&gt;</span>19490463<span class="nt">&lt;/total_points&gt;</span>
                <span class="nt">&lt;/effect&gt;</span>
                <span class="nt">&lt;effect&gt;</span>
                    <span class="nt">&lt;type&gt;</span>coupon<span class="nt">&lt;/type&gt;</span>
                    <span class="nt">&lt;coupon_code&gt;</span>095790<span class="nt">&lt;/coupon_code&gt;</span>
                    <span class="nt">&lt;description&gt;</span>Sample description<span class="nt">&lt;/description&gt;</span>
                    <span class="nt">&lt;coupon_type&gt;</span>CAMPAIGN/DVS<span class="nt">&lt;/coupon_type&gt;</span>
                    <span class="nt">&lt;discount_code/&gt;</span>
                    <span class="nt">&lt;discount_value/&gt;</span>
                    <span class="nt">&lt;valid_till/&gt;</span>
                    <span class="nt">&lt;id&gt;</span>42601779<span class="nt">&lt;/id&gt;</span>
                <span class="nt">&lt;/effect&gt;</span>
            <span class="nt">&lt;/side_effects&gt;</span>
            <span class="c">&lt;!-- new fields start --&gt;</span>
            <span class="nt">&lt;firstname&gt;</span>Tom<span class="nt">&lt;/firstname&gt;</span>
            <span class="nt">&lt;lastname&gt;</span>Sawyer<span class="nt">&lt;/lastname&gt;</span>
            <span class="nt">&lt;lifetime_points&gt;</span>50<span class="nt">&lt;/lifetime_points&gt;</span>
            <span class="nt">&lt;lifetime_purchases&gt;</span>180<span class="nt">&lt;/lifetime_purchases&gt;</span>
            <span class="nt">&lt;loyalty_points&gt;</span>50<span class="nt">&lt;/loyalty_points&gt;</span>
            <span class="nt">&lt;current_slab&gt;</span>SILVER<span class="nt">&lt;/current_slab&gt;</span>
            <span class="nt">&lt;updated_on&gt;</span>2016-09-11 11:11:11<span class="nt">&lt;/updated_on&gt;</span>
            <span class="c">&lt;!-- new fields end : these fields will come after implementing register by email functionality --&gt;</span>
        <span class="nt">&lt;/customer&gt;</span>
        <span class="nt">&lt;customer&gt;</span>
            <span class="nt">&lt;user_id&gt;</span>44342<span class="nt">&lt;/user_id&gt;</span>
            <span class="nt">&lt;mobile&gt;</span>44700900999<span class="nt">&lt;/mobile&gt;</span>
            <span class="nt">&lt;email&gt;</span>rita.john@example.com<span class="nt">&lt;/email&gt;</span>
            <span class="nt">&lt;external_id&gt;</span>XYPZ006<span class="nt">&lt;/external_id&gt;</span>
            <span class="nt">&lt;registered_on&gt;</span>2016-09-11 11:11:15<span class="nt">&lt;/registered_on&gt;</span>
            <span class="nt">&lt;extended_fields&gt;</span>
                <span class="nt">&lt;field&gt;</span>
                    <span class="nt">&lt;name&gt;</span>gender<span class="nt">&lt;/name&gt;</span>
                    <span class="nt">&lt;value&gt;</span>Female<span class="nt">&lt;/value&gt;</span>
                <span class="nt">&lt;/field&gt;</span>
                <span class="nt">&lt;field&gt;</span>
                    <span class="nt">&lt;name&gt;</span>city<span class="nt">&lt;/name&gt;</span>
                    <span class="nt">&lt;value&gt;</span>Bangalore<span class="nt">&lt;/value&gt;</span>
                <span class="nt">&lt;/field&gt;</span>
                <span class="nt">&lt;field&gt;</span>
                    <span class="nt">&lt;name&gt;</span>dob<span class="nt">&lt;/name&gt;</span>
                    <span class="nt">&lt;value&gt;</span>1998/12/01<span class="nt">&lt;/value&gt;</span>
                <span class="nt">&lt;/field&gt;</span>

            <span class="nt">&lt;/extended_fields&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
                <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
                <span class="nt">&lt;code&gt;</span>1000<span class="nt">&lt;/code&gt;</span>
                <span class="nt">&lt;message&gt;</span>Customer Registration Successful<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
            <span class="nt">&lt;side_effects&gt;</span>
                <span class="nt">&lt;effect</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;/side_effects&gt;</span>
            <span class="c">&lt;!-- new fields start --&gt;</span>
            <span class="nt">&lt;firstname&gt;</span>Rita<span class="nt">&lt;/firstname&gt;</span>
            <span class="nt">&lt;lastname&gt;</span>John<span class="nt">&lt;/lastname&gt;</span>
            <span class="nt">&lt;lifetime_points&gt;</span>50<span class="nt">&lt;/lifetime_points&gt;</span>
            <span class="nt">&lt;lifetime_purchases&gt;</span>345<span class="nt">&lt;/lifetime_purchases&gt;</span>
            <span class="nt">&lt;loyalty_points&gt;</span>50<span class="nt">&lt;/loyalty_points&gt;</span>
            <span class="nt">&lt;current_slab&gt;</span>SILVER<span class="nt">&lt;/current_slab&gt;</span>
            <span class="nt">&lt;updated_on&gt;</span>2016-09-11 11:11:15<span class="nt">&lt;/updated_on&gt;</span>
            <span class="c">&lt;!-- new fields end : these fields will come after implementing register by email functionality --&gt;</span>
        <span class="nt">&lt;/customer&gt;</span>
    <span class="nt">&lt;/customers&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre>
<p>Registers customers in the org’s loyalty program with the primary identifier (mobile number/email id/external id). </p>

<p>Updates existing customer details (other than identifiers such as mobile number, email id, and external id) if you try registering an existing identifier. </p>

<p>Behavior of the API when an existing identifier is passed.
* Updates existing customer details other than existing identifier(s) such as mobile number, email id, or external id.
* Updates null identifiers from null to a value, but not value to value. <i>Existing identifiers cannot be updated</i>.
* Updates secondary identifiers if the respective configuration is enabled on InTouch <strong>Settings</strong> &gt; <strong>Miscellaneous</strong> &gt; <strong>Registration Configuration</strong> page.
    * CONF_ALLOW_MOBILE_UPDATE (for mobile number).
    * CONF_ALLOW_EMAIL_UPDATE (for email id).
    * CONF_LOYALTY_ALLOW_EXTERNAL_ID_UPDATE (for external id).
* Adds/updates <strong>custom field</strong> details.
* Adds/updates <strong>extended field</strong> values.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/add</code></td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>HTTP Method</td>
<td>POST</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/v1.1/customer/add?format={xml/json}</code></p>

<h3 id="request-body-parameters">Request Body Parameters</h3>

<p>The mandatory attributes for customer registration depends on the configurations set on InTouch <strong>Settings</strong> &gt; <strong>Registration Configuration</strong>. You need to know your org configurations before using this API.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Datatype</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>mobile**</td>
<td>long</td>
<td>Mobile number of the customer with country code.</td>
</tr>
<tr>
<td>email**</td>
<td>string</td>
<td>Email ID of the customer.</td>
</tr>
<tr>
<td>external_id**</td>
<td>string</td>
<td>External ID of the customer if applicable for the org.</td>
</tr>
<tr>
<td>firstname</td>
<td>string</td>
<td>First name of the customer.</td>
</tr>
<tr>
<td>lastname</td>
<td>string</td>
<td>Last name of the customer.</td>
</tr>
<tr>
<td>type</td>
<td>enum</td>
<td>Type of registration. Values: LOYALTY (for loyalty customer), NON_LOYALTY (registered one or more identifiers but not enrolled in the loyalty program), NOT_INTERESTED (not interested to register identifiers or enrol in the loyalty program).</td>
</tr>
<tr>
<td>registered_on</td>
<td>date-time</td>
<td>Date on which the customer is registered. Format: YYYY-MM-DD HH:MM:SS, <br>Example: 2016-09-11 11:11:11</td>
</tr>
<tr>
<td>registered_till</td>
<td>string</td>
<td>The TILL at which customer is registered.</td>
</tr>
<tr>
<td>custom_fields</td>
<td>obj</td>
<td>Provide the custom field values of the customer in name and value pairs. You can only pass custom fields that are configured for the org.</td>
</tr>
<tr>
<td>extended_fields</td>
<td>obj</td>
<td>Provide the extended field details of the customer in name and value pairs. You can only pass extended fields that are configured for the org.</td>
</tr>
<tr>
<td>subscriptions</td>
<td>obj</td>
<td>Provide the subscription details of the customer.</td>
</tr>
<tr>
<td>priority</td>
<td>enum</td>
<td>Type of message. Value: <code class="prettyprint">TRANS</code> for personalized or transaction messages, <code class="prettyprint">BULK</code> for promotional messages.</td>
</tr>
<tr>
<td>is_subscribed</td>
<td>enum</td>
<td>Value 0, 1</td>
</tr>
<tr>
<td>channel</td>
<td>enum</td>
<td>Current communication channel. Value: <code class="prettyprint">sms</code>, <code class="prettyprint">email</code>.</td>
</tr>
</tbody></table>

<aside class="notice">At least one among the parameters marked with ** is mandatory.</aside>

<h2 id="update-customer-details">Update Customer Details</h2>

<blockquote>
<p>Sample Request URL</p>
</blockquote>
<pre class="highlight html"><code>POST https://api.capillary.co.in/v1.1/customer/update?format=json
</code></pre>
<blockquote>
<p>Sample POST Request</p>
</blockquote>
<pre class="highlight json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nt">"root"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"customer"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"mobile"</span><span class="p">:</span><span class="s2">"44700900000"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="s2">"tom.sawyer@example.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"external_id"</span><span class="p">:</span><span class="s2">"ts1234"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"firstname"</span><span class="p">:</span><span class="s2">"Tom"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"lastname"</span><span class="p">:</span><span class="s2">"Sawyer"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"registered_till"</span><span class="p">:</span><span class="s2">"NorthEast"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"associated_with"</span><span class="p">:</span><span class="s2">"two.till01"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ndnc_status"</span><span class="p">:</span><span class="s2">"NDNC"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"extended_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"field"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"gender"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"value"</span><span class="p">:</span><span class="s2">"male"</span><span class="w">
            </span><span class="p">},</span><span class="w">

            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Nationality"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"value"</span><span class="p">:</span><span class="s2">"Indian"</span><span class="w">
            </span><span class="p">}</span><span class="w">


          </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"custom_fields"</span><span class="p">:{</span><span class="w">
          </span><span class="nt">"field"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"age"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"value"</span><span class="p">:</span><span class="s2">"[“46”]"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code>
<span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;root&gt;</span>
   <span class="nt">&lt;customer&gt;</span>
      <span class="nt">&lt;mobile&gt;</span>44700900000<span class="nt">&lt;/mobile&gt;</span>
      <span class="nt">&lt;email&gt;</span>tom.sawyer@example.com<span class="nt">&lt;/email&gt;</span>
      <span class="nt">&lt;external_id&gt;</span>ts1234<span class="nt">&lt;/external_id&gt;</span>
      <span class="nt">&lt;firstname&gt;</span>Tom<span class="nt">&lt;/firstname&gt;</span>
      <span class="nt">&lt;lastname&gt;</span>Sawyer<span class="nt">&lt;/lastname&gt;</span>
      <span class="nt">&lt;associated_with&gt;</span>two.till01<span class="nt">&lt;/associated_with&gt;</span>
      <span class="nt">&lt;ndnc_status&gt;</span>NDNC<span class="nt">&lt;/ndnc_status&gt;</span> <span class="cp">&lt;! Possible Values: NDNC, INVALID, NONE &gt;</span>
      <span class="nt">&lt;extended_fields&gt;</span>
         <span class="nt">&lt;field&gt;</span>
            <span class="nt">&lt;name&gt;</span>gender<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;value&gt;</span>Male<span class="nt">&lt;/value&gt;</span>
         <span class="nt">&lt;/field&gt;</span>
         <span class="nt">&lt;field&gt;</span>
            <span class="nt">&lt;name&gt;</span>nationality<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;value&gt;</span>Indian<span class="nt">&lt;/value&gt;</span>
         <span class="nt">&lt;/field&gt;</span>

      <span class="nt">&lt;/extended_fields&gt;</span>
      <span class="nt">&lt;custom_fields&gt;</span>
         <span class="nt">&lt;field&gt;</span>
            <span class="nt">&lt;name&gt;</span>age<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;value&gt;</span>[“46”]<span class="nt">&lt;/value&gt;</span>
         <span class="nt">&lt;/field&gt;</span>
      <span class="nt">&lt;/custom_fields&gt;</span>
   <span class="nt">&lt;/customer&gt;</span>
<span class="nt">&lt;/root&gt;</span>

</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"customers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"776538"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900000"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom.sawyer@example.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ts1234"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tom"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sawyer"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"associated_with"</span><span class="p">:</span><span class="w"> </span><span class="s2">"two.till01"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"extended_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"field"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gender"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"male"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nationality"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Indian"</span><span class="w">
          </span><span class="p">}</span><span class="w">

        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
        </span><span class="nt">"custom_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"field"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hobbies"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[“Playing”]"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User Successfully Updated."</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"lifetime_points"</span><span class="p">:</span><span class="w"> </span><span class="s2">"245"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"lifetime_purchases"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24500"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"loyalty_points"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"current_slab"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SILVER"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"registered_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-08-16 15:13:16"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-09-22 10:48:00"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;root&gt;</span>
   <span class="nt">&lt;response&gt;</span>
      <span class="nt">&lt;customers&gt;</span>
         <span class="nt">&lt;customer&gt;</span>
            <span class="nt">&lt;current_slab&gt;</span>SILVER<span class="nt">&lt;/current_slab&gt;</span>
            <span class="nt">&lt;custom_fields&gt;</span>
               <span class="nt">&lt;field&gt;</span>
                  <span class="nt">&lt;name&gt;</span>hobbies<span class="nt">&lt;/name&gt;</span>
                  <span class="nt">&lt;value&gt;</span>[“Playing”]<span class="nt">&lt;/value&gt;</span>
               <span class="nt">&lt;/field&gt;</span>
            <span class="nt">&lt;/custom_fields&gt;</span>
            <span class="nt">&lt;email&gt;</span>tom.sawyer@example.com<span class="nt">&lt;/email&gt;</span>
            <span class="nt">&lt;extended_fields&gt;</span>
               <span class="nt">&lt;field&gt;</span>
                  <span class="nt">&lt;element&gt;</span>
                     <span class="nt">&lt;name&gt;</span>gender<span class="nt">&lt;/name&gt;</span>
                     <span class="nt">&lt;value&gt;</span>Male<span class="nt">&lt;/value&gt;</span>
                  <span class="nt">&lt;/element&gt;</span>
                  <span class="nt">&lt;element&gt;</span>
                     <span class="nt">&lt;name&gt;</span>Nationality<span class="nt">&lt;/name&gt;</span>
                     <span class="nt">&lt;value&gt;</span>Indian<span class="nt">&lt;/value&gt;</span>
                  <span class="nt">&lt;/element&gt;</span>

               <span class="nt">&lt;/field&gt;</span>
            <span class="nt">&lt;/extended_fields&gt;</span>
            <span class="nt">&lt;external_id&gt;</span>ts1234<span class="nt">&lt;/external_id&gt;</span>
            <span class="nt">&lt;firstname&gt;</span>Tom<span class="nt">&lt;/firstname&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
               <span class="nt">&lt;code&gt;</span>1000<span class="nt">&lt;/code&gt;</span>
               <span class="nt">&lt;message&gt;</span>User Successfully Updated.<span class="nt">&lt;/message&gt;</span>
               <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
            <span class="nt">&lt;lastname&gt;</span>Sawyer<span class="nt">&lt;/lastname&gt;</span>
             <span class="nt">&lt;associated_with&gt;</span>two.till01<span class="nt">&lt;/associated_with&gt;</span>
            <span class="nt">&lt;lifetime_points&gt;</span>245<span class="nt">&lt;/lifetime_points&gt;</span>
            <span class="nt">&lt;lifetime_purchases&gt;</span>24500<span class="nt">&lt;/lifetime_purchases&gt;</span>
            <span class="nt">&lt;loyalty_points&gt;</span>60<span class="nt">&lt;/loyalty_points&gt;</span>
            <span class="nt">&lt;mobile&gt;</span>44700900000<span class="nt">&lt;/mobile&gt;</span>
            <span class="nt">&lt;registered_on&gt;</span>2012-08-16 15:13:16<span class="nt">&lt;/registered_on&gt;</span>
            <span class="nt">&lt;updated_on&gt;</span>2012-09-22 10:48:00<span class="nt">&lt;/updated_on&gt;</span>
            <span class="nt">&lt;user_id&gt;</span>776538<span class="nt">&lt;/user_id&gt;</span>
         <span class="nt">&lt;/customer&gt;</span>
      <span class="nt">&lt;/customers&gt;</span>
      <span class="nt">&lt;status&gt;</span>
         <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
         <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
         <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
      <span class="nt">&lt;/status&gt;</span>
   <span class="nt">&lt;/response&gt;</span>
<span class="nt">&lt;/root&gt;</span>
</code></pre>
<p>Lets you update the details of an existing customer other than primary or secondary identifiers. If any of the identifiers you pass already exists for a different account, then the customer details will be merged automatically.</p>

<p>Behavior of the API:</p>

<ul>
<li>Updates existing customer details other than primary/secondary identifiers including custom fields and extended fields. </li>
<li>Updates secondary identifiers only with null values will be updated. Hence, <i>existing identifiers cannot be updated with this API</i>.</li>
</ul>

<aside class="notice">
You can update secondary identifiers (mobile no./email id./external id) only if the respective config mentioned in the following are enabled on InTouch **Settings** > **Miscellaneous** > **Registration Configuration**.

* CONF_ALLOW_MOBILE_UPDATE (for mobile number).
* CONF_ALLOW_EMAIL_UPDATE (for email id).
* CONF_LOYALTY_ALLOW_EXTERNAL_ID_UPDATE (for external id).

</aside>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>customer/update</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>HTTP Method</td>
<td>POST</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/v1.1/customer/update?format={xml/json}</code></p>

<h3 id="request-body-parameters">Request Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Datatype</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Mobile/email/external_id/id*</td>
<td>string</td>
<td>Pass any one of the following identifiers of the customer whose details you want to update.</td>
</tr>
<tr>
<td>firstname</td>
<td>string</td>
<td>First name of the customer.</td>
</tr>
<tr>
<td>lastname</td>
<td>string</td>
<td>Last name of the customer.</td>
</tr>
<tr>
<td>registered_on</td>
<td>date-time</td>
<td>Date on which the customer is registered. Format: YYYY-MM-DD HH:MM:SS, <br>Example: 2016-09-11 11:11:11</td>
</tr>
<tr>
<td>registered_till</td>
<td>string</td>
<td>The TILL at which customer is registered.</td>
</tr>
<tr>
<td>associated_with</td>
<td>string</td>
<td>Till code that you want to associate with the customer.</td>
</tr>
<tr>
<td>ndnc_status</td>
<td>enum</td>
<td>National Do not Call status of the customer.</td>
</tr>
<tr>
<td>custom_fields</td>
<td>obj</td>
<td>Provide the custom field values of the customer in name and value pairs. You can only pass custom fields that are configured for the org.</td>
</tr>
<tr>
<td>extended_fields</td>
<td>obj</td>
<td>Provide the extended field details of the customer in name and value pairs. You can only pass extended fields that are configured for the org.</td>
</tr>
<tr>
<td>subscriptions</td>
<td>obj</td>
<td>Provide the subscription details of the customer.</td>
</tr>
<tr>
<td>priority</td>
<td>enum</td>
<td>Type of message. Value: <code class="prettyprint">TRANS</code> for personalized or transaction messages, <code class="prettyprint">BULK</code> for promotional messages.</td>
</tr>
<tr>
<td>channel</td>
<td>enum</td>
<td>Current communication channel. Value: <code class="prettyprint">sms</code>, <code class="prettyprint">email</code>.</td>
</tr>
</tbody></table>

<aside class="notice">At least one among the parameters marked with ** is mandatory.</aside>

<h2 id="update-customer-identifiers">Update Customer Identifiers</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight html"><code>https://us.api.capillarytech.com/v1.1/customer/update_identity?format=xml
</code></pre>
<blockquote>
<p>Sample POST Request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"root"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mobile"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"old_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900000"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"new_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900090"</span><span class="w">
      </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="nt">&lt;root&gt;</span>
    <span class="nt">&lt;customer&gt;</span>
        <span class="nt">&lt;identifier&gt;</span>mobile<span class="nt">&lt;/identifier&gt;</span>  <span class="c">&lt;!-- Pass mobile/email/external_id that you want to update --&gt;</span>
        <span class="nt">&lt;new_value&gt;</span>44700900090<span class="nt">&lt;/new_value&gt;</span> 
        <span class="nt">&lt;old_value&gt;</span>44700900000<span class="nt">&lt;/old_value&gt;</span>
    <span class="nt">&lt;/customer&gt;</span>
<span class="nt">&lt;/root&gt;</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"customers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mobile"</span><span class="p">,</span><span class="w">  
            </span><span class="nt">"old_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"new_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900090"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
               </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1040"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Customer Identity change request added successfully"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;response&gt;</span>
   <span class="nt">&lt;status&gt;</span>
      <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
      <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
      <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
   <span class="nt">&lt;/status&gt;</span>
   <span class="nt">&lt;customers&gt;</span>
      <span class="nt">&lt;customer&gt;</span>
         <span class="nt">&lt;identifier&gt;</span>mobile<span class="nt">&lt;/identifier&gt;</span>  <span class="c">&lt;!--mobile/email/external_id--&gt;</span> 
         <span class="nt">&lt;old_value&gt;</span>44700900000<span class="nt">&lt;/old_value&gt;</span>
         <span class="nt">&lt;new_value&gt;</span>44700900090<span class="nt">&lt;/new_value&gt;</span>
         <span class="nt">&lt;updated&gt;</span>true<span class="nt">&lt;/updated&gt;</span>
         <span class="nt">&lt;item_status&gt;</span>
            <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
            <span class="nt">&lt;code&gt;</span>1040<span class="nt">&lt;/code&gt;</span>
            <span class="nt">&lt;message&gt;</span>Customer Identity change request added successfully<span class="nt">&lt;/message&gt;</span>
         <span class="nt">&lt;/item_status&gt;</span>
      <span class="nt">&lt;/customer&gt;</span>
   <span class="nt">&lt;/customers&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre>
<p>Lets you submit request to update primary and secondary identifiers (mobile no./email id/external id) of a loyalty customer. Requests submitted through <code class="prettyprint">customer/update_identity</code> will be in pending state by default. Capillary back-end team verifies the requests and process it accordingly.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>customer/update_identity</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>HTTP Method</td>
<td>POST</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/v1.1/customer/update_identity?format={xml/json}</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Datatype</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>identifier*</td>
<td>enum</td>
<td>Pass the identifier name that you want to update. <strong>Value</strong>: mobile, email, external_id.</td>
</tr>
<tr>
<td>old_value*</td>
<td>string</td>
<td>Provide the existing value the identifier that you want to update.</td>
</tr>
<tr>
<td>new_value*</td>
<td>string</td>
<td>Provide the new value of the identifier.</td>
</tr>
</tbody></table>

<h2 id="search-customers-advanced-search">Search Customers (Advanced Search)</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight html"><code>https://api.capillary.co.in/v1.1/customer/search?q=mobile:EQUALS:44700900000
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w"> 
    </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">

        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">

            </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">

            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">

            </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">

        </span><span class="p">},</span><span class="w">

        </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">

            </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">

            </span><span class="nt">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">

            </span><span class="nt">"rows"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">

            </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">

                </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">

                    </span><span class="p">{</span><span class="w">

                        </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102"</span><span class="p">,</span><span class="w">

                        </span><span class="nt">"org_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29"</span><span class="p">,</span><span class="w">

                        </span><span class="nt">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tom"</span><span class="p">,</span><span class="w">

                        </span><span class="nt">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sawyer"</span><span class="p">,</span><span class="w">

                        </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900000"</span><span class="p">,</span><span class="w">

                        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom.sawyer@example.com"</span><span class="p">,</span><span class="w">

                        </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"None"</span><span class="p">,</span><span class="w">

                        </span><span class="nt">"loyalty_points"</span><span class="p">:</span><span class="w"> </span><span class="s2">"355"</span><span class="p">,</span><span class="w">

                        </span><span class="nt">"lifetime_points"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5400"</span><span class="p">,</span><span class="w">

                        </span><span class="nt">"lifetime_purchases"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10800"</span><span class="p">,</span><span class="w">

                        </span><span class="nt">"current_slab"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CLASSIC"</span><span class="p">,</span><span class="w">

                        </span><span class="nt">"registered_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-12-25 11:25:32"</span><span class="p">,</span><span class="w">

                        </span><span class="nt">"registered_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pe.london.bondstreet"</span><span class="p">,</span><span class="w">

                        </span><span class="nt">"last_trans_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">

                        </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">

                            </span><span class="nt">"attribute"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">

                                </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"customer_age"</span><span class="p">,</span><span class="w">

                                </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"26-35"</span><span class="w">

                            </span><span class="p">}</span><span class="w">

                        </span><span class="p">}</span><span class="w">

                    </span><span class="p">},</span><span class="w">

                    </span><span class="p">{</span><span class="w">

                        </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"122"</span><span class="p">,</span><span class="w">

                        </span><span class="nt">"org_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29"</span><span class="p">,</span><span class="w">

                        </span><span class="nt">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">

                        </span><span class="nt">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="p">,</span><span class="w">

                        </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900888"</span><span class="p">,</span><span class="w">

                        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.smith@example.com"</span><span class="p">,</span><span class="w">

                        </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"None"</span><span class="p">,</span><span class="w">

                        </span><span class="nt">"loyalty_points"</span><span class="p">:</span><span class="w"> </span><span class="s2">"355"</span><span class="p">,</span><span class="w">

                        </span><span class="nt">"lifetime_points"</span><span class="p">:</span><span class="w"> </span><span class="s2">"355"</span><span class="p">,</span><span class="w">

                        </span><span class="nt">"lifetime_purchases"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4598"</span><span class="p">,</span><span class="w">

                        </span><span class="nt">"current_slab"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CLASSIC"</span><span class="p">,</span><span class="w">

                        </span><span class="nt">"registered_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-12-25 11:25:32"</span><span class="p">,</span><span class="w">

                        </span><span class="nt">"registered_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"px.london.bondstreet"</span><span class="p">,</span><span class="w">

                        </span><span class="nt">"last_trans_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">

                        </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">

                            </span><span class="nt">"attribute"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">

                                </span><span class="p">{</span><span class="w">

                                    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"occupation"</span><span class="p">,</span><span class="w">

                                    </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Student"</span><span class="w">

                                </span><span class="p">},</span><span class="w">

                                </span><span class="p">{</span><span class="w">

                                    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"customer_age"</span><span class="p">,</span><span class="w">

                                    </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19-25"</span><span class="w">

                                </span><span class="p">}</span><span class="w">

                            </span><span class="p">]</span><span class="w">

                        </span><span class="p">}</span><span class="w">

                    </span><span class="p">}</span><span class="w">

                </span><span class="p">]</span><span class="w">

            </span><span class="p">}</span><span class="w">

        </span><span class="p">}</span><span class="w">

    </span><span class="p">}</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;response&gt;</span>
   <span class="nt">&lt;status&gt;</span>
      <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
      <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
      <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
   <span class="nt">&lt;/status&gt;</span>
   <span class="nt">&lt;customer&gt;</span>
      <span class="nt">&lt;count&gt;</span>2<span class="nt">&lt;/count&gt;</span>
      <span class="nt">&lt;start&gt;</span>0<span class="nt">&lt;/start&gt;</span>
      <span class="nt">&lt;rows&gt;</span>10<span class="nt">&lt;/rows&gt;</span>
      <span class="nt">&lt;results&gt;</span>
         <span class="nt">&lt;item&gt;</span>
            <span class="nt">&lt;user_id&gt;</span>102<span class="nt">&lt;/user_id&gt;</span>
            <span class="nt">&lt;org_id&gt;</span>29<span class="nt">&lt;/org_id&gt;</span>
            <span class="nt">&lt;firstname&gt;</span>Tom<span class="nt">&lt;/firstname&gt;</span>
            <span class="nt">&lt;lastname&gt;</span>Sawyer<span class="nt">&lt;/lastname&gt;</span>
            <span class="nt">&lt;mobile&gt;</span>44700900000<span class="nt">&lt;/mobile&gt;</span>
            <span class="nt">&lt;email&gt;</span>tom.sawyer@example.com<span class="nt">&lt;/email&gt;</span>
            <span class="nt">&lt;external_id&gt;</span>None<span class="nt">&lt;/external_id&gt;</span>

            <span class="nt">&lt;loyalty_points&gt;</span>355<span class="nt">&lt;/loyalty_points&gt;</span>
            <span class="nt">&lt;lifetime_points&gt;</span>5400<span class="nt">&lt;/lifetime_points&gt;</span>
            <span class="nt">&lt;lifetime_purchases&gt;</span>10800<span class="nt">&lt;/lifetime_purchases&gt;</span>
            <span class="nt">&lt;current_slab&gt;</span>CLASSIC<span class="nt">&lt;/current_slab&gt;</span>
            <span class="nt">&lt;registered_on&gt;</span>2012-12-25 11:25:32<span class="nt">&lt;/registered_on&gt;</span>
            <span class="nt">&lt;registered_by&gt;</span>pe.london.bondstreet<span class="nt">&lt;/registered_by&gt;</span>
            <span class="nt">&lt;last_trans_value&gt;</span>1000<span class="nt">&lt;/last_trans_value&gt;</span>
            <span class="nt">&lt;attributes&gt;</span>
               <span class="nt">&lt;attribute&gt;</span>
                  <span class="nt">&lt;name&gt;</span>customer_age<span class="nt">&lt;/name&gt;</span>
                  <span class="nt">&lt;value&gt;</span>26-35<span class="nt">&lt;/value&gt;</span>
               <span class="nt">&lt;/attribute&gt;</span>
            <span class="nt">&lt;/attributes&gt;</span>
         <span class="nt">&lt;/item&gt;</span>
         <span class="nt">&lt;item&gt;</span>
            <span class="nt">&lt;user_id&gt;</span>122<span class="nt">&lt;/user_id&gt;</span>
            <span class="nt">&lt;org_id&gt;</span>29<span class="nt">&lt;/org_id&gt;</span>
            <span class="nt">&lt;firstname&gt;</span>John<span class="nt">&lt;/firstname&gt;</span>
            <span class="nt">&lt;lastname&gt;</span>Smith<span class="nt">&lt;/lastname&gt;</span>
            <span class="nt">&lt;mobile&gt;</span>44700900888<span class="nt">&lt;/mobile&gt;</span>
            <span class="nt">&lt;email&gt;</span>john.smith@example.com<span class="nt">&lt;/email&gt;</span>
            <span class="nt">&lt;external_id&gt;</span>None<span class="nt">&lt;/external_id&gt;</span>
            <span class="nt">&lt;loyalty_points&gt;</span>355<span class="nt">&lt;/loyalty_points&gt;</span>
            <span class="nt">&lt;lifetime_points&gt;</span>355<span class="nt">&lt;/lifetime_points&gt;</span>
            <span class="nt">&lt;lifetime_purchases&gt;</span>4598<span class="nt">&lt;/lifetime_purchases&gt;</span>
            <span class="nt">&lt;current_slab&gt;</span>CLASSIC<span class="nt">&lt;/current_slab&gt;</span>
            <span class="nt">&lt;registered_on&gt;</span>2012-12-25 11:25:32<span class="nt">&lt;/registered_on&gt;</span>
            <span class="nt">&lt;registered_by&gt;</span>pe.london.bondstreet<span class="nt">&lt;/registered_by&gt;</span>
            <span class="nt">&lt;last_trans_value&gt;</span>1000<span class="nt">&lt;/last_trans_value&gt;</span>
            <span class="nt">&lt;attributes&gt;</span>
               <span class="nt">&lt;attribute&gt;</span>
                  <span class="nt">&lt;name&gt;</span>occupation<span class="nt">&lt;/name&gt;</span>
                  <span class="nt">&lt;value&gt;</span>Student<span class="nt">&lt;/value&gt;</span>
               <span class="nt">&lt;/attribute&gt;</span>
               <span class="nt">&lt;attribute&gt;</span>
                  <span class="nt">&lt;name&gt;</span>customer_age<span class="nt">&lt;/name&gt;</span>
                  <span class="nt">&lt;value&gt;</span>19-25<span class="nt">&lt;/value&gt;</span>
               <span class="nt">&lt;/attribute&gt;</span>
            <span class="nt">&lt;/attributes&gt;</span>
         <span class="nt">&lt;/item&gt;</span>
      <span class="nt">&lt;/results&gt;</span>
   <span class="nt">&lt;/customer&gt;</span>
<span class="nt">&lt;/response&gt;</span>


</code></pre>
<p>Lets you fetch customers based on partial or complete keywords passed. You can fetch customers by name, customer identifier, registered store id, registered date, loyalty points, lifetime points, lifetime purchases amount, current tier, transaction amount, and custom field values.</p>

<aside class="notice">
If customer details are not found, then customer data is not retrieved. However, currently, `customer not found error` is not shown in V1.1. 
As there are no integrations built on V1.1 `customer/search`, it is recommended to use <a href="https://capillary.github.io/api-documentation/#fetch-customers-advanced-customer-search"> V2.0 customer/Search </a> API to see proper response status.
</aside>

<aside class="notice">
<b>Error Code: 461</b> <br>

This represents timeout error when you try to fetch customers with all the three identifiers - mobile, email, and external id - and Solr DB times out.
<br>
This is because, when you make an API call, Solr DB is queried firstly. If Solr times out, MySQL is searched, but MySQL does not support search on multiple identifiers.
</aside>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>`/search?q={param}:{Query}:{value}&amp;format={xml/json}</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>HTTP Method</td>
<td>GET</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/v1.1/customer/search?q={param}:{Operator}:{value}&amp;format={xml/json}</code></p>

<h3 id="request-query-parameters">Request Query Parameters</h3>

<p>You need to understand Query Grammar to learn how to use input parameters for customer/search API. For more details, see the Query Grammar section.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>firstname*</td>
<td>Retrieves the list of customers whose first name matches with the string passed. <br><strong>Query</strong>: <code class="prettyprint">firstname:EXACT:&lt;first name&gt;</code></td>
</tr>
<tr>
<td>lastname*</td>
<td>Retrieves the list of customers whose last name matches with the string passed.<br></td>
</tr>
</tbody></table>

<p><br><strong>Query</strong>: <code class="prettyprint">lastname:EXACT:&lt;last Name&gt;</code>
org_id* | Retrieves the list of entire customers of the respective organization. <br><strong>Query</strong>: <code class="prettyprint">org_id:EQUALS:&lt;org id&gt;</code>
mobile* | Retrieves customers whose registered mobile numbers matches with the string passed. <br><strong>Query</strong>: <code class="prettyprint">mobile:EQUALS:&lt;mobile number&gt;</code>
email* | Retrieves the list of registered customers whose email id matches with the string passed. <br><strong>Query</strong>: <code class="prettyprint">email:EQUALS:&lt;email id&gt;</code>
external_id | Retrieves customers whose external id matches with the string passed. <br><strong>Query</strong>: <code class="prettyprint">external_id:EQUALS:&lt;external id&gt;</code>
registered_date | Retrieves customers whose registered date matches the specified date.
loyalty_points | Retrieves the list of customers whose active loyalty points matches the specified query. <br><strong>Query</strong>: <code class="prettyprint">loyalty_points:GREATER:&lt;loyalty points&gt;</code>
lifetime_points | Retrieves the list of customers whose lifetime points matches the specified query. <br><strong>Query</strong>: <code class="prettyprint">lifetime_points:GREATER:&lt;lifetime points&gt;</code>
lifetime_purchases | Retrieves the list of customers whose lifetime purchases amount matches the specified query. <strong>Query</strong>: <code class="prettyprint">lifetime_purchases:GREATER:&lt;lifetime purchases&gt;</code>
slab | Retrieves the list of customers whose current loyalty tier matches the specified value. <br><strong>Query</strong>: <code class="prettyprint">slab:EQUALS:&lt;Slab name&gt;</code>
registered_store | Retrieves the list of customers who are registered at a specific store. <br><strong>Query</strong>: <code class="prettyprint">registered_store:EQUALS:&lt;Store id&gt;</code>
last_trans_value | Retrieves the list of customers whose transaction amount matches the specified query. <br><strong>Query</strong>: <code class="prettyprint">transaction_value:GREATER:&lt;transaction amount&gt;</code>
Custom fields | Retrieves the list of customers whose custom field values matches the specified value. <br><strong>Query</strong>: <code class="prettyprint">&lt;Field Name&gt;:&lt;Field Value&gt;</code>
Operator | enum | Predefined conditions based on which you want to fetch results. Values: STARTS, ENDS, EXACT, RANGE, LESS, GREATER, EQUALS, IN. For more details, see the following section, Search Query Grammar.</p>

<h3 id="search-query-grammar">Search Query Grammar</h3>

<p>The following is a formal definition of the Query Grammar</p>

<p><strong>QUERY</strong>: <code class="prettyprint">(CONDITION) | (CONDITION &amp; (CONDITION)*)</code></p>

<p><strong>CONDITION</strong>: <code class="prettyprint">ATTRIBUTE:OPERATOR:VALUES</code></p>

<p><strong>ATTRIBUTE</strong>: Set of inventory/customer attributes that are searchable.</p>

<p><strong>Dynamic List</strong>
* <strong>OPERATOR</strong>: STARTS, ENDS, EXACT, RANGE, LESS, GREATER, EQUALS, IN
* <strong>VALUES</strong>: ALPHANUMERIC | ALPHANUMERIC;ALPHANUMERIC(for RANGE, IN OPERATOR, separator is &rsquo;;&rsquo; )</p>

<h2 id="get-customer-details">Get Customer Details</h2>
<pre class="highlight html"><code># Sample Request URL
https://api.capillary.co.in/v1.1/customer/get?mobile=919889999999<span class="err">&amp;</span>mlp=true
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"success_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nt">"customers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nt">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tom"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sawyer"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"91900000000"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom.sawyer@example.com"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TS123"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"lifetime_points"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2300"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"lifetime_purchases"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25000"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"loyalty_points"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"current_slab"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Silver"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"registered_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-31 14:57:04"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"updated_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-31 14:57:04"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LOYALTY"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"instore"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"identifiers"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
         </span><span class="nt">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Male"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"registered_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jim"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"registered_store"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"autotest2_one"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"autotest2_one"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nt">"registered_till"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"one.till01"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"one.till01"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nt">"fraud_details"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NONE"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"marked_by"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nt">"modified_on"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nt">"trackers"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
         </span><span class="nt">"current_nps_status"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
         </span><span class="nt">"custom_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"field"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
               </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gender"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value_308645"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nt">"extended_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"field"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nt">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nt">"coupons"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
               </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44521519"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"series_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19293"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4OZ1UDDA"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API Coupon 3"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"created_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-31 14:57:06"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"valid_till"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-30 23:59:59"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"redeemed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
               </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44521520"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"series_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19290"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ZBW1S4QT"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API Series"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"created_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-31 14:57:07"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"valid_till"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-01 23:59:59"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"redeemed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">],</span><span class="w">
         </span><span class="nt">"notes"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
         </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Customer successfully retrieved"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"warnings"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;response&gt;</span>
   <span class="nt">&lt;status&gt;</span>
      <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
      <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
      <span class="nt">&lt;message&gt;</span>Success<span class="nt">&lt;/message&gt;</span>
      <span class="nt">&lt;total&gt;</span>1<span class="nt">&lt;/total&gt;</span>
      <span class="nt">&lt;success_count&gt;</span>1<span class="nt">&lt;/success_count&gt;</span>
   <span class="nt">&lt;/status&gt;</span>
   <span class="nt">&lt;customers&gt;</span>
      <span class="nt">&lt;customer&gt;</span>
         <span class="nt">&lt;firstname&gt;</span>Tom<span class="nt">&lt;/firstname&gt;</span>
         <span class="nt">&lt;lastname&gt;</span>Sawyer<span class="nt">&lt;/lastname&gt;</span>
         <span class="nt">&lt;mobile&gt;</span>91900000000<span class="nt">&lt;/mobile&gt;</span>
         <span class="nt">&lt;email&gt;</span>tom.sawyer@example.com<span class="nt">&lt;/email&gt;</span>
         <span class="nt">&lt;external_id&gt;</span>TS123<span class="nt">&lt;/external_id&gt;</span>
         <span class="nt">&lt;lifetime_points&gt;</span>2300<span class="nt">&lt;/lifetime_points&gt;</span>
         <span class="nt">&lt;lifetime_purchases&gt;</span>25000<span class="nt">&lt;/lifetime_purchases&gt;</span>
         <span class="nt">&lt;loyalty_points&gt;</span>500<span class="nt">&lt;/loyalty_points&gt;</span>
         <span class="nt">&lt;current_slab&gt;</span>Silver<span class="nt">&lt;/current_slab&gt;</span>
         <span class="nt">&lt;registered_on&gt;</span>2017-05-31 14:57:04<span class="nt">&lt;/registered_on&gt;</span>
         <span class="nt">&lt;updated_on&gt;</span>2018-05-31 14:57:04<span class="nt">&lt;/updated_on&gt;</span>
         <span class="nt">&lt;type&gt;</span>LOYALTY<span class="nt">&lt;/type&gt;</span>
         <span class="nt">&lt;source&gt;</span>instore<span class="nt">&lt;/source&gt;</span>
         <span class="nt">&lt;identifiers</span> <span class="nt">/&gt;</span>
         <span class="nt">&lt;gender&gt;</span>Male<span class="nt">&lt;/gender&gt;</span>
         <span class="nt">&lt;registered_by&gt;</span>Jim<span class="nt">&lt;/registered_by&gt;</span>
         <span class="nt">&lt;registered_store&gt;</span>
            <span class="nt">&lt;code&gt;</span>autotest2_one<span class="nt">&lt;/code&gt;</span>
            <span class="nt">&lt;name&gt;</span>autotest2_one<span class="nt">&lt;/name&gt;</span>
         <span class="nt">&lt;/registered_store&gt;</span>
         <span class="nt">&lt;registered_till&gt;</span>
            <span class="nt">&lt;code&gt;</span>one.till01<span class="nt">&lt;/code&gt;</span>
            <span class="nt">&lt;name&gt;</span>one.till01<span class="nt">&lt;/name&gt;</span>
         <span class="nt">&lt;/registered_till&gt;</span>
         <span class="nt">&lt;fraud_details&gt;</span>
            <span class="nt">&lt;status&gt;</span>NONE<span class="nt">&lt;/status&gt;</span>
            <span class="nt">&lt;marked_by</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;modified_on</span> <span class="nt">/&gt;</span>
         <span class="nt">&lt;/fraud_details&gt;</span>
         <span class="nt">&lt;trackers</span> <span class="nt">/&gt;</span>
         <span class="nt">&lt;current_nps_status</span> <span class="nt">/&gt;</span>
         <span class="nt">&lt;custom_fields&gt;</span>
            <span class="nt">&lt;field&gt;</span>
               <span class="nt">&lt;name&gt;</span>gender<span class="nt">&lt;/name&gt;</span>
               <span class="nt">&lt;value&gt;</span>value_308645<span class="nt">&lt;/value&gt;</span>
            <span class="nt">&lt;/field&gt;</span>
         <span class="nt">&lt;/custom_fields&gt;</span>
         <span class="nt">&lt;extended_fields&gt;</span>
            <span class="nt">&lt;field</span> <span class="nt">/&gt;</span>
         <span class="nt">&lt;/extended_fields&gt;</span>
         <span class="nt">&lt;transactions&gt;</span>
            <span class="nt">&lt;transaction</span> <span class="nt">/&gt;</span>
         <span class="nt">&lt;/transactions&gt;</span>
         <span class="nt">&lt;coupons&gt;</span>
            <span class="nt">&lt;coupon&gt;</span>
               <span class="nt">&lt;id&gt;</span>44521519<span class="nt">&lt;/id&gt;</span>
               <span class="nt">&lt;series_id&gt;</span>19293<span class="nt">&lt;/series_id&gt;</span>
               <span class="nt">&lt;code&gt;</span>4OZ1UDDA<span class="nt">&lt;/code&gt;</span>
               <span class="nt">&lt;description&gt;</span>API Coupon 3<span class="nt">&lt;/description&gt;</span>
               <span class="nt">&lt;created_date&gt;</span>2018-05-31 14:57:06<span class="nt">&lt;/created_date&gt;</span>
               <span class="nt">&lt;valid_till&gt;</span>2018-06-30 23:59:59<span class="nt">&lt;/valid_till&gt;</span>
               <span class="nt">&lt;redeemed&gt;</span>true<span class="nt">&lt;/redeemed&gt;</span>
            <span class="nt">&lt;/coupon&gt;</span>
            <span class="nt">&lt;coupon&gt;</span>
               <span class="nt">&lt;id&gt;</span>44521520<span class="nt">&lt;/id&gt;</span>
               <span class="nt">&lt;series_id&gt;</span>19290<span class="nt">&lt;/series_id&gt;</span>
               <span class="nt">&lt;code&gt;</span>ZBW1S4QT<span class="nt">&lt;/code&gt;</span>
               <span class="nt">&lt;description&gt;</span>API Series<span class="nt">&lt;/description&gt;</span>
               <span class="nt">&lt;created_date&gt;</span>2018-05-31 14:57:07<span class="nt">&lt;/created_date&gt;</span>
               <span class="nt">&lt;valid_till&gt;</span>2018-06-01 23:59:59<span class="nt">&lt;/valid_till&gt;</span>
               <span class="nt">&lt;redeemed&gt;</span>false<span class="nt">&lt;/redeemed&gt;</span>
            <span class="nt">&lt;/coupon&gt;</span>
         <span class="nt">&lt;/coupons&gt;</span>
         <span class="nt">&lt;notes</span> <span class="nt">/&gt;</span>
         <span class="nt">&lt;item_status&gt;</span>
            <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
            <span class="nt">&lt;code&gt;</span>1000<span class="nt">&lt;/code&gt;</span>
            <span class="nt">&lt;message&gt;</span>Customer successfully retrieved<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;warnings</span> <span class="nt">/&gt;</span>
         <span class="nt">&lt;/item_status&gt;</span>
      <span class="nt">&lt;/customer&gt;</span>
   <span class="nt">&lt;/customers&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre>
<p>Retrieve details of a specific loyalty customer such as loyalty information, subscription status, 10 recent transactions, active coupons, recent store interactions, custom fields, extended fields, and customer&rsquo;s unique id.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/get</code></td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://api.capillary.co.in/v1.1/customer/get?{identifier_type}={identifier_value}&amp;mlp=true&amp;format={xml/json}</code></p>

<h3 id="additional-header">Additional Header</h3>

<table><thead>
<tr>
<th>Header</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>language</td>
<td>Specify the ISO language code to get customer level extended field details in your preferred language (other than English). For example, <code class="prettyprint">zh</code> for Chinese, <code class="prettyprint">id</code> for Indonesian, <code class="prettyprint">ar</code> for Arabic.</td>
</tr>
</tbody></table>

<h3 id="request-query-parameters">Request Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Datatype</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Identifier*</td>
<td>string</td>
<td>Pass any identifier (mobile/email/external_id/id) of the customer whose details needs to be retrieved. <br> For example, mobile=44700900000. To retrieve details of multiple customers at a time, pass each value separating with comma (,) For example,  <code class="prettyprint">mobile=44700900000,44700900999,4470090345</code>.</td>
</tr>
<tr>
<td>coupon_limit</td>
<td>int</td>
<td>Limits the number of coupon interactions (issued,redeemed and expired). Example: coupon_limit=5 retrieves five recent coupon interactions.</td>
</tr>
<tr>
<td>coupon_offset</td>
<td>int</td>
<td>Retrieves next set of coupons according to issual sequence. For example, if 10 coupons are issued to a customer till date, then coupon_offset=6, returns the 7th, 8th, 9th, and 10th coupon (ignoring the first 6 coupons).</td>
</tr>
<tr>
<td>coupon_order_by</td>
<td>date-time</td>
<td>Orders the coupon history by created date (descending order of created date), created by (ascending order of till name), or coupon validity (valid till: ascending order of expiry). Values: created_date, created_by, valid_till respectively.</td>
</tr>
<tr>
<td>user_id=true</td>
<td>-</td>
<td>Returns the unique id of the customer (generated at our end when the customer is registered).</td>
</tr>
<tr>
<td>next_slab=true</td>
<td>-</td>
<td>Returns the details of next tier of the  loyalty customer.</td>
</tr>
<tr>
<td>slab_history=true</td>
<td>-</td>
<td>Returns the details of loyalty tier changes of the customer.</td>
</tr>
<tr>
<td>registered_store</td>
<td>string</td>
<td>Returns the store at which the customer is registered. This is returned by default.</td>
</tr>
<tr>
<td>registered_till</td>
<td>string</td>
<td>Returns the store-TILL at which the customer is registered. This is returned by default.</td>
</tr>
<tr>
<td>fraud_details=true</td>
<td>-</td>
<td>Returns the fraud details of a customer. This field is returned by default.</td>
</tr>
<tr>
<td>ndsc_status=true</td>
<td>-</td>
<td>Returns the status of the customer&rsquo;s registered mobile number on NDSC/DND.</td>
</tr>
<tr>
<td>optin_status=true</td>
<td>-</td>
<td>Returns the services (SMS/email) to which the customer has opted in and opted out.</td>
</tr>
<tr>
<td>expiry_schedule=true</td>
<td>-</td>
<td>Returns the details of points expiry summary.</td>
</tr>
<tr>
<td>expired_points=true</td>
<td>-</td>
<td>Returns the details of expired points of the customer.</td>
</tr>
<tr>
<td>points_summary=true</td>
<td>-</td>
<td>Returns the history of points issued and redeemed.</td>
</tr>
<tr>
<td>promotion_points=true</td>
<td>-</td>
<td>Returns the history of promotional points issued and redeemed. It also shows the store that issued the points and expiry date for each set of points issued.</td>
</tr>
<tr>
<td>membership_retention_criteria=true</td>
<td>-</td>
<td>Returns the criteria set for membership retention (for membership based loyalty program).</td>
</tr>
<tr>
<td>mlp=true</td>
<td>-</td>
<td>Retrieves the details of each loyalty program of the customer if the org has multiple loyalty programs (multi-brand loyalty).</td>
</tr>
<tr>
<td>user_group=true</td>
<td>-</td>
<td>Retrieves the details of user group associated to the user (if available).</td>
</tr>
</tbody></table>

<aside class="notice">Parameter marked with * is mandatory. </aside>

<h2 id="get-customer-transactions">Get Customer Transactions</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight html"><code>https://api.capillary.co.in/v1.1/customer/transactions?format=json<span class="err">&amp;</span>mobile=44700900000<span class="err">&amp;</span>start_date=2016-12-21+23:45:45<span class="err">&amp;</span>end_date=2016-12-29+12:11:45
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
</span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
</span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
</span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
</span><span class="p">},</span><span class="w"> 
</span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
</span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900000"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom.sawyer@example.com"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ts1234"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tom"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sawyer"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"lifetime_points"</span><span class="p">:</span><span class="w"> </span><span class="s2">"13700"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"lifetime_purchases"</span><span class="p">:</span><span class="w"> </span><span class="s2">"138000"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"loyalty_points"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12000"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"registered_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-10 11:11:15"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"updated_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-12-25 11:19:11"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"current_slab"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gold"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"26"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23622808"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"rows"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
</span><span class="nt">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
</span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23622808"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ANBDCGD"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REGULAR"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3000"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bill added by mobile"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"billing_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-12-16 17:02:22"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"gross_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3000"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"discount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"store"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"points"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
</span><span class="nt">"issued"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"redeemed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20"</span><span class="w">
</span><span class="p">},</span><span class="w"> 
</span><span class="nt">"coupons"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"basket_size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"line_items"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
</span><span class="nt">"line_item"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;response&gt;</span>
    <span class="nt">&lt;status&gt;</span>
        <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
        <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/status&gt;</span>
    <span class="nt">&lt;customer&gt;</span>
        <span class="nt">&lt;mobile&gt;</span>44700900000<span class="nt">&lt;/mobile&gt;</span>
        <span class="nt">&lt;email&gt;</span>tom.sawyer@example.com<span class="nt">&lt;/email&gt;</span>
        <span class="nt">&lt;external_id&gt;</span>ts1234<span class="nt">&lt;/external_id&gt;</span>
        <span class="nt">&lt;firstname&gt;</span>Tom<span class="nt">&lt;/firstname&gt;</span>
        <span class="nt">&lt;lastname&gt;</span>Sawyer<span class="nt">&lt;/lastname&gt;</span>
        <span class="nt">&lt;lifetime_points&gt;</span>13700<span class="nt">&lt;/lifetime_points&gt;</span>
        <span class="nt">&lt;lifetime_purchases&gt;</span>138000<span class="nt">&lt;/lifetime_purchases&gt;</span>
        <span class="nt">&lt;loyalty_points&gt;</span>12000<span class="nt">&lt;/loyalty_points&gt;</span>
        <span class="nt">&lt;registered_on&gt;</span>2016-07-10 11:11:15<span class="nt">&lt;/registered_on&gt;</span>
        <span class="nt">&lt;updated_on&gt;</span>2016-12-25 11:19:11<span class="nt">&lt;/updated_on&gt;</span>
        <span class="nt">&lt;current_slab&gt;</span>gold<span class="nt">&lt;/current_slab&gt;</span>
        <span class="nt">&lt;count&gt;</span>26<span class="nt">&lt;/count&gt;</span>
        <span class="nt">&lt;start&gt;</span>23622808<span class="nt">&lt;/start&gt;</span>
        <span class="nt">&lt;rows&gt;</span>10<span class="nt">&lt;/rows&gt;</span>
        <span class="nt">&lt;transactions&gt;</span>
            <span class="nt">&lt;transaction&gt;</span>
                <span class="nt">&lt;id&gt;</span>23622808<span class="nt">&lt;/id&gt;</span>
                <span class="nt">&lt;number&gt;</span>ANBDCGD<span class="nt">&lt;/number&gt;</span>
                <span class="nt">&lt;type&gt;</span>REGULAR<span class="nt">&lt;/type&gt;</span>
                <span class="nt">&lt;amount&gt;</span>3000<span class="nt">&lt;/amount&gt;</span>
                <span class="nt">&lt;notes&gt;</span>Bill added by mobile<span class="nt">&lt;/notes&gt;</span>
                <span class="nt">&lt;billing_time&gt;</span>2013-12-16 17:02:22<span class="nt">&lt;/billing_time&gt;</span>
                <span class="nt">&lt;gross_amount&gt;</span>3000<span class="nt">&lt;/gross_amount&gt;</span>
                <span class="nt">&lt;discount&gt;</span>10<span class="nt">&lt;/discount&gt;</span>
                <span class="nt">&lt;store</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;points&gt;</span>
                    <span class="nt">&lt;issued&gt;</span>30<span class="nt">&lt;/issued&gt;</span>
                    <span class="nt">&lt;redeemed&gt;</span>20<span class="nt">&lt;/redeemed&gt;</span>
                <span class="nt">&lt;/points&gt;</span>
                <span class="nt">&lt;coupons</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;basket_size&gt;</span>10<span class="nt">&lt;/basket_size&gt;</span>
                <span class="nt">&lt;line_items&gt;</span>
                    <span class="nt">&lt;line_item</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;/line_items&gt;</span>
            <span class="nt">&lt;/transaction&gt;</span>
        <span class="nt">&lt;/transactions&gt;</span>
    <span class="nt">&lt;/customer&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre>
<p>Retrieves transaction history of a customer which includes the following information.</p>

<p>Transaction type, gross transaction amount, transaction date, points issued, points redeemed, coupons redeemed and so on. </p>

<p>You can filter the results for better understanding and sort the information in ascending or descending order.</p>

<aside class="notice">You cannot retrieve individual line-item level details of a transaction.</aside>

<p>You can filter results using various parameters to analyze the data that you want to see and hide that you don’t want to see. For more details on supported filters, see the <strong><em>Request Parameters</em></strong> table below.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/transactions</code></td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>HTTP Method</td>
<td>GET</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/v1.1/customer/transactions?format={xml/json}&amp;&lt;input_params&gt;</code></p>

<p>For MLP</p>

<p><code class="prettyprint">https://{host}/v1.1/customer/transactions?&lt;customer identifier&gt;=&lt;value&gt;&amp;mlp=true</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Datatype</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Customer Identifier*</td>
<td>string</td>
<td>Provide the primary identifier of the customer to fetch the transaction details - mobile/email/external_id/id <br>To retrieve transactions of multiple customers at a time, provide each identifier separating by a comma. <br><strong>Example</strong>: <code class="prettyprint">mobile=44700900000,44700900999,4470090345</code></td>
</tr>
<tr>
<td>start_date</td>
<td>date-time</td>
<td>Retrieves transactions made in a specific duration (start_date to end_date).</td>
</tr>
<tr>
<td>end_date</td>
<td>date-time</td>
<td>Retrieves transactions made in a specific duration (start_date to end_date). <br>Example: <code class="prettyprint">start_date=2013-12-21+23:45:45&amp;end_date=2013-12-29+12:11:45</code></td>
</tr>
<tr>
<td>transaction_date</td>
<td>date</td>
<td>Filter transactions by transaction date. Pass the date in <code class="prettyprint">YYYY-MM-DD</code> format.</td>
</tr>
<tr>
<td>amount</td>
<td>int</td>
<td>Fetch transaction details by transaction amount.</td>
</tr>
<tr>
<td>number</td>
<td>string</td>
<td>Fetch transaction details by transaction number.</td>
</tr>
<tr>
<td>transaction_id</td>
<td>int</td>
<td>Fetch details of a transaction by transaction ID (internally generated unique ID for a transaction).</td>
</tr>
<tr>
<td>till_id</td>
<td>string</td>
<td>Filter transactions by associated TILL ID.</td>
</tr>
<tr>
<td>till_name</td>
<td>string</td>
<td>Filter transactions associated to a specific TILL name.</td>
</tr>
<tr>
<td>till_code</td>
<td>string</td>
<td>Filter transactions associated to a TILL code.</td>
</tr>
<tr>
<td>store_id</td>
<td>string</td>
<td>Filter transactions associated to a specific store id.</td>
</tr>
<tr>
<td>store_name</td>
<td>string</td>
<td>Filter transactions associated to a specific store name.</td>
</tr>
<tr>
<td>store_code</td>
<td>string</td>
<td>Filter transactions associated to a specific store code.</td>
</tr>
<tr>
<td>start_id</td>
<td>int</td>
<td>Filter transactions by transaction ids starting with a specific value.</td>
</tr>
<tr>
<td>end_id</td>
<td>int</td>
<td>Filter transactions by transaction ids ending with a specific value.</td>
</tr>
<tr>
<td>credit_notes</td>
<td>boolean</td>
<td>Retrieves the credit notes of the transactions. <strong>Value</strong>: true,false. Pass the parameter to retrieve credit notes along with the transaction details.<br> Credit Notes is a receipt given by a cashier to a customer for returned goods which can be used for future purchases.</td>
</tr>
<tr>
<td>custom_fields</td>
<td>boolean</td>
<td>Pass <code class="prettyprint">true</code> to retrieve transaction level custom field details.</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>Limit the number of results to be displayed. For example, if <code class="prettyprint">limit=10</code> a maximum of 10 transactions will be displayed.</td>
</tr>
<tr>
<td>sort</td>
<td>enum</td>
<td>Arranges the transactions by transaction date or transaction id based on the <code class="prettyprint">order</code> value passed. Supported value: <code class="prettyprint">trans_id</code>, <code class="prettyprint">trans_date</code>. By default, results are shown in descending order.</td>
</tr>
<tr>
<td>order</td>
<td>enum</td>
<td>Arranges the transactions based on the value set in <code class="prettyprint">sort</code> in ascending or descending order. <strong>Value</strong>: asc, desc. By default, transactions are displayed in descending order of transaction date/id.</td>
</tr>
</tbody></table>

<h2 id="retrieve-customer-redemptions">Retrieve Customer Redemptions</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight html"><code>https://us.api.capillarytech.com/v1.1/customer/redemptions?mobile=44700900000
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900000"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom.sawyer@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tom"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sawyer"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"rows"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"coupons_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"points_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"coupons_start_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"points_start_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"121613"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"redemptions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"coupons"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"coupon"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"832-pghhi6u1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"series_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"832"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample description"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"discount_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"discount_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PERC"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"transaction_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TestBill-1234"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"redeemed_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-04-18 14:00:27"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"redeemed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test store  store.server"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"points"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"point"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">121614</span><span class="p">,</span><span class="w">
              </span><span class="nt">"program_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
              </span><span class="nt">"points_redeemed"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
              </span><span class="nt">"transaction_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bill-83"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"redeemed_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2011-03-17 16:03:31"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"redeemed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test store  store.server"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">121656</span><span class="p">,</span><span class="w">
              </span><span class="nt">"program_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
              </span><span class="nt">"points_redeemed"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
              </span><span class="nt">"transaction_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bill-121"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"redeemed_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2011-03-17 16:05:22"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"redeemed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test store  store.server"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code>
<span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;response&gt;</span>
   <span class="nt">&lt;status&gt;</span>
      <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
      <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
      <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
   <span class="nt">&lt;/status&gt;</span>
   <span class="nt">&lt;customer&gt;</span>
      <span class="nt">&lt;mobile&gt;</span>44700900000<span class="nt">&lt;/mobile&gt;</span>
      <span class="nt">&lt;email&gt;</span>tom.sawyer@example.com<span class="nt">&lt;/email&gt;</span>
      <span class="nt">&lt;external_id&gt;</span>1234<span class="nt">&lt;/external_id&gt;</span>
      <span class="nt">&lt;firstname&gt;</span>Tom<span class="nt">&lt;/firstname&gt;</span>
      <span class="nt">&lt;lastname&gt;</span>Sawyer<span class="nt">&lt;/lastname&gt;</span>
      <span class="nt">&lt;rows&gt;</span>3<span class="nt">&lt;/rows&gt;</span>
      <span class="nt">&lt;coupons_count&gt;</span>3<span class="nt">&lt;/coupons_count&gt;</span>
      <span class="nt">&lt;points_count&gt;</span>15<span class="nt">&lt;/points_count&gt;</span>
      <span class="nt">&lt;coupons_start_id&gt;</span>2<span class="nt">&lt;/coupons_start_id&gt;</span>
      <span class="nt">&lt;points_start_id&gt;</span>121613<span class="nt">&lt;/points_start_id&gt;</span>
      <span class="nt">&lt;redemptions&gt;</span>
         <span class="nt">&lt;coupons&gt;</span>
            <span class="nt">&lt;coupon&gt;</span>
               <span class="nt">&lt;id&gt;</span>3<span class="nt">&lt;/id&gt;</span>
               <span class="nt">&lt;code&gt;</span>832-pghhi6u1<span class="nt">&lt;/code&gt;</span>
               <span class="nt">&lt;series_id&gt;</span>832<span class="nt">&lt;/series_id&gt;</span>
               <span class="nt">&lt;description&gt;</span>Sample description<span class="nt">&lt;/description&gt;</span>
               <span class="nt">&lt;discount_code&gt;</span>abc<span class="nt">&lt;/discount_code&gt;</span>
               <span class="nt">&lt;discount_type&gt;</span>PERC<span class="nt">&lt;/discount_type&gt;</span>
               <span class="nt">&lt;transaction_number&gt;</span>TestBill-1234<span class="nt">&lt;/transaction_number&gt;</span>
               <span class="nt">&lt;redeemed_time&gt;</span>2013-04-18 14:00:27<span class="nt">&lt;/redeemed_time&gt;</span>
               <span class="nt">&lt;redeemed_at&gt;</span>Test store  store.server<span class="nt">&lt;/redeemed_at&gt;</span>
            <span class="nt">&lt;/coupon&gt;</span>
         <span class="nt">&lt;/coupons&gt;</span>
         <span class="nt">&lt;points&gt;</span>
            <span class="nt">&lt;point&gt;</span>
               <span class="nt">&lt;id&gt;</span>121614<span class="nt">&lt;/id&gt;</span>
               <span class="nt">&lt;points_redeemed&gt;</span>200<span class="nt">&lt;/points_redeemed&gt;</span>
               <span class="nt">&lt;transaction_number&gt;</span>bill-83<span class="nt">&lt;/transaction_number&gt;</span>
               <span class="nt">&lt;redeemed_time&gt;</span>2011-03-17 16:03:31<span class="nt">&lt;/redeemed_time&gt;</span>
               <span class="nt">&lt;redeemed_at&gt;</span>Test store  store.server<span class="nt">&lt;/redeemed_at&gt;</span>
            <span class="nt">&lt;/point&gt;</span>
            <span class="nt">&lt;point&gt;</span>
               <span class="nt">&lt;id&gt;</span>121615<span class="nt">&lt;/id&gt;</span>
               <span class="nt">&lt;points_redeemed&gt;</span>200<span class="nt">&lt;/points_redeemed&gt;</span>
               <span class="nt">&lt;transaction_number&gt;</span>bill-121<span class="nt">&lt;/transaction_number&gt;</span>
               <span class="nt">&lt;redeemed_time&gt;</span>2011-03-17 16:05:22<span class="nt">&lt;/redeemed_time&gt;</span>
               <span class="nt">&lt;redeemed_at&gt;</span>Test store  store.server<span class="nt">&lt;/redeemed_at&gt;</span>
            <span class="nt">&lt;/point&gt;</span>
         <span class="nt">&lt;/points&gt;</span>
      <span class="nt">&lt;/redemptions&gt;</span>
   <span class="nt">&lt;/customer&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre>
<p>This API allows you to retrieve points and coupons redemption history of a customer. You can filter the results by type, duration, coupon ids start with, and coupon ids end with. Besides filters you can also sort the results by ascending or descending order by redemption id/time and limit number of results to retrieve.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/redemptions</code></td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>HTTP Method</td>
<td>GET</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/v1.1/customer/redemptions?{query_params}</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Datatype</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Customer Identifier*</td>
<td>string</td>
<td>Provide the primary identifier of the customer whose redemption details needs to be fetched - mobile no./email id/external id. <br>To retrieve redemption details of multiple customers at a time, provide the identifier of each customer separating by a comma. <br><strong>Example</strong>: <code class="prettyprint">mobile=44700900000,44700900999,4470090345</code></td>
</tr>
<tr>
<td>type</td>
<td>enum</td>
<td>Filter the results either by <code class="prettyprint">points</code> redemption or <code class="prettyprint">coupons</code> redemption.</td>
</tr>
<tr>
<td>start_date</td>
<td>date</td>
<td>Get redemptions done on or after a specific date (<code class="prettyprint">YYYY-MM-DD</code>). To get redemptions made in a specific duration, pass the date range in <code class="prettyprint">start_date</code> and <code class="prettyprint">end_date</code>.</td>
</tr>
<tr>
<td>end_date</td>
<td>date</td>
<td>Get redemptions made before a specific date (<code class="prettyprint">YYYY-MM-DD</code>). To get redemptions made in a specific duration, pass the date range in <code class="prettyprint">start_date</code> and <code class="prettyprint">end_date</code>.</td>
</tr>
<tr>
<td>coupons_limit</td>
<td>int</td>
<td>Limit the number of coupon redemptions to be displayed. Example:<code class="prettyprint">coupons_limit=10</code> to show only 10 coupon redemption details. Use only when the <code class="prettyprint">type</code> parameter is not passed.</td>
</tr>
<tr>
<td>points_limit</td>
<td>int</td>
<td>Limit the number of points redemption results to be displayed. Example:<code class="prettyprint">points_limit=10</code> to show only 10 points redemption details. Use only when the <code class="prettyprint">type</code> parameter is not passed.</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>Limit the number of redemption details (points and/or coupons). Use only when the <code class="prettyprint">type</code> parameter is not passed.</td>
</tr>
<tr>
<td>coupons_start_id</td>
<td>int</td>
<td>Filter the results by coupon redemption id starting with a specific number. Use only when the <code class="prettyprint">type</code> parameter is not passed.</td>
</tr>
<tr>
<td>coupons_end_id</td>
<td>int</td>
<td>Filter the results by coupon redemption id ending with a specific number. Use only when the <code class="prettyprint">type</code> parameter is not passed.</td>
</tr>
<tr>
<td>points_start_id</td>
<td>int</td>
<td>Filter the results by points redemption id starting with a specific number. Use only when the <code class="prettyprint">type</code> parameter is not passed.</td>
</tr>
<tr>
<td>points_end_id</td>
<td>int</td>
<td>Filter the results by points redemption id ending with a specific number. Use only when the <code class="prettyprint">type</code> parameter is not passed.</td>
</tr>
<tr>
<td>sort</td>
<td>enum</td>
<td>Sort the results either by redemption id (<code class="prettyprint">redemption_id</code>) or redemption time(<code class="prettyprint">redeemed_time</code>). By default, the results are sorted in the descending order of redeemed time.</td>
</tr>
<tr>
<td>order</td>
<td>enum</td>
<td>Order the results in ascending (<code class="prettyprint">asc</code>) or descending order (<code class="prettyprint">desc</code>). By default, the results are shown in the descending order of redeemed time.</td>
</tr>
<tr>
<td>mlp=true</td>
<td>-</td>
<td>Retrieves the details of points redeemed from each loyalty program of the org (only for orgs with multi-brand loyalty).</td>
</tr>
<tr>
<td>format</td>
<td>enum</td>
<td>Pass the desired representation of response content - <code class="prettyprint">format=xml</code>, or <code class="prettyprint">format=json</code>.</td>
</tr>
</tbody></table>

<h2 id="add-customer-notes">Add Customer Notes</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight html"><code>https://us.api.capillarytech.com/v1.1/customer/notes?format=json
</code></pre>
<blockquote>
<p>Sample POST Request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"root"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"customer"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"user_id"</span><span class="p">:</span><span class="s2">"15"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"mobile"</span><span class="p">:</span><span class="s2">"44700900999"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="s2">"catherine@example.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"external_id"</span><span class="p">:</span><span class="s2">"ct123"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"notes"</span><span class="p">:{</span><span class="w">
          </span><span class="nt">"note"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"date"</span><span class="p">:</span><span class="s2">"2016-05-05 15:15:00"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">"Likes Maggi"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;root&gt;</span>
    <span class="nt">&lt;customer&gt;</span>
        <span class="nt">&lt;user_id&gt;</span>15<span class="nt">&lt;/user_id&gt;</span>
        <span class="nt">&lt;mobile&gt;</span>44700900999<span class="nt">&lt;/mobile&gt;</span>
        <span class="nt">&lt;email&gt;</span>catherine@example.com<span class="nt">&lt;/email&gt;</span>
        <span class="nt">&lt;external_id&gt;</span>ct123<span class="nt">&lt;/external_id&gt;</span>
        <span class="nt">&lt;notes&gt;</span>
            <span class="nt">&lt;note&gt;</span>

                <span class="nt">&lt;date&gt;</span>2016-05-05 15:15:00<span class="nt">&lt;/date&gt;</span>
                <span class="nt">&lt;description&gt;</span>Likes Maggi<span class="nt">&lt;/description&gt;</span>
            <span class="nt">&lt;/note&gt;</span>
        <span class="nt">&lt;/notes&gt;</span>
    <span class="nt">&lt;/customer&gt;</span>
<span class="nt">&lt;/root&gt;</span>                     
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15098"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Catherine"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thomas"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900999"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"catherine@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ct123"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"notes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"note"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-05-05 15:15:00"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Likes Maggi"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Customer note added/updated successfully"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"warnings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"warning"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
            </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;response&gt;</span>
    <span class="nt">&lt;status&gt;</span>
        <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
        <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;message&gt;</span>Operation Successful<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/status&gt;</span>
    <span class="nt">&lt;customer&gt;</span>
        <span class="nt">&lt;user_id&gt;</span>15098<span class="nt">&lt;/user_id&gt;</span>
        <span class="nt">&lt;firstname&gt;</span>catherine<span class="nt">&lt;/firstname&gt;</span>
        <span class="nt">&lt;lastname&gt;</span>Thomas<span class="nt">&lt;/lastname&gt;</span>
        <span class="nt">&lt;mobile&gt;</span>44700900999<span class="nt">&lt;/mobile&gt;</span>
        <span class="nt">&lt;email&gt;</span>catherine@example.com<span class="nt">&lt;/email&gt;</span>
        <span class="nt">&lt;external_id&gt;</span>ct123<span class="nt">&lt;/external_id&gt;</span>
        <span class="nt">&lt;notes&gt;</span>
            <span class="nt">&lt;note&gt;</span>
               <span class="nt">&lt;id&gt;</span>1<span class="nt">&lt;/id&gt;</span>
                <span class="nt">&lt;date&gt;</span>2012-05-05 15:15:00<span class="nt">&lt;/date&gt;</span>
                <span class="nt">&lt;description&gt;</span>Likes Maggi<span class="nt">&lt;/description&gt;</span>
            <span class="nt">&lt;/note&gt;</span>
        <span class="nt">&lt;/notes&gt;</span>
        <span class="nt">&lt;item_status&gt;</span>
            <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
            <span class="nt">&lt;code&gt;</span>1000<span class="nt">&lt;/code&gt;</span>
            <span class="nt">&lt;message&gt;</span>Customer note added successfully<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;warnings/&gt;</span>
        <span class="nt">&lt;/item_status&gt;</span>
    <span class="nt">&lt;/customer&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre>
<p>This API allows you to capture additional information about the customer.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/notes</code></td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>HTTP Method</td>
<td>POST</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/v1.1/customer/notes?format=xml/json</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Customer identifier*</td>
<td>string</td>
</tr>
<tr>
<td>date</td>
<td>date</td>
</tr>
<tr>
<td>description*</td>
<td>Details or message of the note in a plain text format</td>
</tr>
</tbody></table>

<h2 id="update-customer-notes">Update Customer Notes</h2>
<pre class="highlight html"><code>https://us.api.capillarytech.com/v1.1/customer/notes?format=json
</code></pre>
<blockquote>
<p>Sample POST Request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"root"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900999"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"catherine@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"associate_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50010823"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"notes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"note"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8378"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Likes jeans"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8379"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Likes new arrivals"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">

</span></code></pre><pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;root&gt;</span>
   <span class="nt">&lt;customer&gt;</span>
       <span class="nt">&lt;mobile&gt;</span>44700900999<span class="nt">&lt;/mobile&gt;</span>
       <span class="nt">&lt;email&gt;</span>catherine@example.com<span class="nt">&lt;/email&gt;</span>
       <span class="nt">&lt;associate_id&gt;</span>50010823<span class="nt">&lt;/associate_id&gt;</span>
       <span class="nt">&lt;notes&gt;</span>
           <span class="nt">&lt;note&gt;</span>
               <span class="nt">&lt;id&gt;</span>8378<span class="nt">&lt;/id&gt;</span>
               <span class="nt">&lt;description&gt;</span>Likes Jeans<span class="nt">&lt;/description&gt;</span>
           <span class="nt">&lt;/note&gt;</span>
           <span class="nt">&lt;note&gt;</span>
               <span class="nt">&lt;id&gt;</span>8379<span class="nt">&lt;/id&gt;</span>
               <span class="nt">&lt;description&gt;</span>Likes new arrivals<span class="nt">&lt;/description&gt;</span>
           <span class="nt">&lt;/note&gt;</span>
       <span class="nt">&lt;/notes&gt;</span>
   <span class="nt">&lt;/customer&gt;</span>
<span class="nt">&lt;/root&gt;</span>                     
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"success_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29361138"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Catherine"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thomas"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900999"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"catherine@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ext12"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"notes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"note"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8378"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-11-05 15:15:00"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Likes jeans"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8379"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-10-05 15:15:00"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Likes new arrivals"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Customer note updated successfully"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;response&gt;</span>
   <span class="nt">&lt;status&gt;</span>
       <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
       <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
       <span class="nt">&lt;message&gt;</span>Success<span class="nt">&lt;/message&gt;</span>
       <span class="nt">&lt;total&gt;</span>1<span class="nt">&lt;/total&gt;</span>
       <span class="nt">&lt;success_count&gt;</span>1<span class="nt">&lt;/success_count&gt;</span>
   <span class="nt">&lt;/status&gt;</span>
   <span class="nt">&lt;customer&gt;</span>
       <span class="nt">&lt;user_id&gt;</span>29361138<span class="nt">&lt;/user_id&gt;</span>
       <span class="nt">&lt;firstname&gt;</span>Catherine<span class="nt">&lt;/firstname&gt;</span>
       <span class="nt">&lt;lastname&gt;</span>Thomas<span class="nt">&lt;/lastname&gt;</span>
       <span class="nt">&lt;mobile&gt;</span>44700900999<span class="nt">&lt;/mobile&gt;</span>
       <span class="nt">&lt;email&gt;</span>catherine@example.com<span class="nt">&lt;/email&gt;</span>
       <span class="nt">&lt;external_id&gt;</span>ext12<span class="nt">&lt;/external_id&gt;</span>
       <span class="nt">&lt;notes&gt;</span>
           <span class="nt">&lt;note&gt;</span>
               <span class="nt">&lt;id&gt;</span>8378<span class="nt">&lt;/id&gt;</span>
               <span class="nt">&lt;description&gt;</span>Likes jeans<span class="nt">&lt;/description&gt;</span>
           <span class="nt">&lt;/note&gt;</span>
           <span class="nt">&lt;note&gt;</span>
               <span class="nt">&lt;id&gt;</span>8379<span class="nt">&lt;/id&gt;</span>
               <span class="nt">&lt;description&gt;</span>Likes new arrivals<span class="nt">&lt;/description&gt;</span>
           <span class="nt">&lt;/note&gt;</span>
       <span class="nt">&lt;/notes&gt;</span>
       <span class="nt">&lt;item_status&gt;</span>
           <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
           <span class="nt">&lt;code&gt;</span>1000<span class="nt">&lt;/code&gt;</span>
           <span class="nt">&lt;message&gt;</span>Customer note updated successfully<span class="nt">&lt;/message&gt;</span>
           <span class="nt">&lt;warnings/&gt;</span>
       <span class="nt">&lt;/item_status&gt;</span>
   <span class="nt">&lt;/customer&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre>
<p>This API lets you update existing customer notes.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">customer/notes</code></td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>HTTP Method</td>
<td>POST</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/v1.1/customer/notes?format=xml/json</code></p>

<h3 id="request-attributes">Request Attributes</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Customer identifier*</td>
<td>Unique identifier of the customer for which you want to update customer notes (mobile no/email id/external id/user_id).</td>
</tr>
<tr>
<td>description*</td>
<td>New notes that you want to update with (plain text).</td>
</tr>
<tr>
<td>id*</td>
<td>Unique id of the customer note that you want to update.</td>
</tr>
</tbody></table>

<h2 id="retrieve-customer-notes">Retrieve Customer Notes</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight html"><code>https://us.api.capillarytech.com/v1.1/customer/notes?mobile=44700900999
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15098"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Catherine"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thomas"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900999"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"catherine@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ct123"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"notes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"note"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Like to play cricket"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"added_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-04 15:12:00"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Subscribed for birthday wishes"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"added_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-04 15:12:00"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nothing more"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"added_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-04 15:12:00"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Customer note retrieved successfully"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code>
<span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;response&gt;</span>
    <span class="nt">&lt;status&gt;</span>
        <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
        <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;message&gt;</span>Operation Successful<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/status&gt;</span>
    <span class="nt">&lt;customer&gt;</span>
        <span class="nt">&lt;user_id&gt;</span>15098<span class="nt">&lt;/user_id&gt;</span>
        <span class="c">&lt;!-- 
user_id tag will be returned only if query param user_id = true 
--&gt;</span>
        <span class="nt">&lt;firstname&gt;</span>Catherine<span class="nt">&lt;/firstname&gt;</span>
        <span class="nt">&lt;lastname&gt;</span>Thomas<span class="nt">&lt;/lastname&gt;</span>
        <span class="nt">&lt;mobile&gt;</span>44700900999<span class="nt">&lt;/mobile&gt;</span>
        <span class="nt">&lt;email&gt;</span>catherine@example.com<span class="nt">&lt;/email&gt;</span>
        <span class="nt">&lt;external_id&gt;</span>ct123<span class="nt">&lt;/external_id&gt;</span>
        <span class="nt">&lt;notes&gt;</span>
            <span class="nt">&lt;note&gt;</span>
                <span class="nt">&lt;id&gt;</span>1<span class="nt">&lt;/id&gt;</span>
                <span class="nt">&lt;description&gt;</span>Like to play cricket<span class="nt">&lt;/description&gt;</span>
                <span class="nt">&lt;added_on&gt;</span>2016-09-04 15:12:00<span class="nt">&lt;/added_on&gt;</span>
            <span class="nt">&lt;/note&gt;</span>
            <span class="nt">&lt;note&gt;</span>
                <span class="nt">&lt;id&gt;</span>2<span class="nt">&lt;/id&gt;</span>
                <span class="nt">&lt;description&gt;</span>Subscribed for birthday wishes<span class="nt">&lt;/description&gt;</span>
                <span class="nt">&lt;added_on&gt;</span>2016-09-04 15:12:00<span class="nt">&lt;/added_on&gt;</span>
            <span class="nt">&lt;/note&gt;</span>
            <span class="nt">&lt;note&gt;</span>
                <span class="nt">&lt;id&gt;</span>3<span class="nt">&lt;/id&gt;</span>
                <span class="nt">&lt;description&gt;</span>nothing more<span class="nt">&lt;/description&gt;</span>
                <span class="nt">&lt;added_on&gt;</span>2016-09-04 15:12:00<span class="nt">&lt;/added_on&gt;</span>
            <span class="nt">&lt;/note&gt;</span>
        <span class="nt">&lt;/notes&gt;</span>
        <span class="nt">&lt;item_status&gt;</span>
            <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
            <span class="nt">&lt;code&gt;</span>1000<span class="nt">&lt;/code&gt;</span>
            <span class="nt">&lt;message&gt;</span>Customer note retrieved successfully<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;warnings/&gt;</span>
        <span class="nt">&lt;/item_status&gt;</span>
    <span class="nt">&lt;/customer&gt;</span>
<span class="nt">&lt;/response&gt;</span>

</code></pre>
<p>Retrieves notes of a specific customer.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/notes</code></td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>HTTP Method</td>
<td>GET</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/v1.1/customer/notes?{identifier}={value}</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Datatype</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>identifier*</td>
<td>enum</td>
<td>Identifier you want to use to identify the customer. Value: <code class="prettyprint">mobile</code>, <code class="prettyprint">email</code>, <code class="prettyprint">external_id</code>, <code class="prettyprint">id</code>.</td>
</tr>
<tr>
<td>value*</td>
<td>string</td>
<td>Value of the specified identifier. For example, if <code class="prettyprint">identifier</code> is <code class="prettyprint">mobile</code>, value should be the customer&rsquo;s mobile number.</td>
</tr>
</tbody></table>

<aside class="notice">Parameters marked with * are mandatory.</aside>

<h2 id="retrieve-customer-coupons">Retrieve Customer Coupons</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight html"><code>https://api.capillary.co.in/v1.1/customer/coupons?format=json<span class="err">&amp;</span>mobile=44700900990
</code></pre><pre class="highlight json"><code><span class="w">
</span><span class="p">{</span><span class="w">
   </span><span class="nt">"response"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"pagination"</span><span class="p">:{</span><span class="w">
         </span><span class="nt">"limit"</span><span class="p">:</span><span class="s2">"100"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"offset"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"total"</span><span class="p">:</span><span class="mi">1</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:{</span><span class="w">
         </span><span class="nt">"success"</span><span class="p">:</span><span class="s2">"true"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"code"</span><span class="p">:</span><span class="s2">"200"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"SUCCESS"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"customers"</span><span class="p">:{</span><span class="w">
         </span><span class="nt">"customer"</span><span class="p">:{</span><span class="w">
            </span><span class="nt">"firstname"</span><span class="p">:</span><span class="s2">"John"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"lastname"</span><span class="p">:</span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"email"</span><span class="p">:</span><span class="s2">"johndoe@example.com"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"mobile"</span><span class="p">:</span><span class="s2">"44700900999"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"external_id"</span><span class="p">:</span><span class="s2">"EXT001"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"1034"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"coupons"</span><span class="p">:{</span><span class="w">
               </span><span class="nt">"coupon"</span><span class="p">:{</span><span class="w">
                  </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"2423525"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"redemption_count"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"created_date"</span><span class="p">:</span><span class="s2">"2013-12-13T16:14:54+05:30"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"valid_till"</span><span class="p">:</span><span class="s2">"2016-12-21"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"code"</span><span class="p">:</span><span class="s2">"VOCU24902"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"transaction_number"</span><span class="p">:</span><span class="s2">"BILL-10304"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"redemptions"</span><span class="p">:{</span><span class="w">
                     </span><span class="nt">"redemption"</span><span class="p">:{</span><span class="w">
                        </span><span class="nt">"date"</span><span class="p">:</span><span class="s2">"2016-12-12 12:12:12"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"transaction_number"</span><span class="p">:</span><span class="s2">"BIL2042040"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"redeemed_at"</span><span class="p">:{</span><span class="w">
                           </span><span class="nt">"code"</span><span class="p">:</span><span class="s2">"storecode"</span><span class="p">,</span><span class="w">
                           </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"My store"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                     </span><span class="p">}</span><span class="w">
                  </span><span class="p">}</span><span class="w">
               </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:{</span><span class="w">
               </span><span class="nt">"success"</span><span class="p">:</span><span class="s2">"true"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"code"</span><span class="p">:</span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Issued coupons retrieved successfully"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">


</span></code></pre><pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;root&gt;</span>
   <span class="nt">&lt;response&gt;</span>
      <span class="nt">&lt;customers&gt;</span>
         <span class="nt">&lt;customer&gt;</span>
            <span class="nt">&lt;coupons&gt;</span>
               <span class="nt">&lt;coupon&gt;</span>
                  <span class="nt">&lt;code&gt;</span>VOCU24902<span class="nt">&lt;/code&gt;</span>
                  <span class="nt">&lt;created_date&gt;</span>2013-12-13T16:14:54+05:30<span class="nt">&lt;/created_date&gt;</span>
                  <span class="nt">&lt;id&gt;</span>2423525<span class="nt">&lt;/id&gt;</span>
                  <span class="nt">&lt;redemption_count&gt;</span>1<span class="nt">&lt;/redemption_count&gt;</span>
                  <span class="nt">&lt;redemptions&gt;</span>
                     <span class="nt">&lt;redemption&gt;</span>
                        <span class="nt">&lt;date&gt;</span>2016-12-12 12:12:12<span class="nt">&lt;/date&gt;</span>
                        <span class="nt">&lt;redeemed_at&gt;</span>
                           <span class="nt">&lt;code&gt;</span>storecode<span class="nt">&lt;/code&gt;</span>
                           <span class="nt">&lt;name&gt;</span>My store<span class="nt">&lt;/name&gt;</span>
                        <span class="nt">&lt;/redeemed_at&gt;</span>
                        <span class="nt">&lt;transaction_number&gt;</span>BIL2042040<span class="nt">&lt;/transaction_number&gt;</span>
                     <span class="nt">&lt;/redemption&gt;</span>
                  <span class="nt">&lt;/redemptions&gt;</span>
                  <span class="nt">&lt;transaction_number&gt;</span>BILL-10304<span class="nt">&lt;/transaction_number&gt;</span>
                  <span class="nt">&lt;valid_till&gt;</span>2016-12-21<span class="nt">&lt;/valid_till&gt;</span>
               <span class="nt">&lt;/coupon&gt;</span>
            <span class="nt">&lt;/coupons&gt;</span>
            <span class="nt">&lt;email&gt;</span>johndoe@example.com<span class="nt">&lt;/email&gt;</span>
            <span class="nt">&lt;external_id&gt;</span>EXT001<span class="nt">&lt;/external_id&gt;</span>
            <span class="nt">&lt;firstname&gt;</span>John<span class="nt">&lt;/firstname&gt;</span>
            <span class="nt">&lt;id&gt;</span>1034<span class="nt">&lt;/id&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
               <span class="nt">&lt;code&gt;</span>1000<span class="nt">&lt;/code&gt;</span>
               <span class="nt">&lt;message&gt;</span>Issued coupons retrieved successfully<span class="nt">&lt;/message&gt;</span>
               <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
            <span class="nt">&lt;lastname&gt;</span>Doe<span class="nt">&lt;/lastname&gt;</span>
            <span class="nt">&lt;mobile&gt;</span>44700900999<span class="nt">&lt;/mobile&gt;</span>
         <span class="nt">&lt;/customer&gt;</span>
      <span class="nt">&lt;/customers&gt;</span>
      <span class="nt">&lt;pagination&gt;</span>
         <span class="nt">&lt;limit&gt;</span>100<span class="nt">&lt;/limit&gt;</span>
         <span class="nt">&lt;offset&gt;</span>0<span class="nt">&lt;/offset&gt;</span>
         <span class="nt">&lt;total&gt;</span>1<span class="nt">&lt;/total&gt;</span>
      <span class="nt">&lt;/pagination&gt;</span>
      <span class="nt">&lt;status&gt;</span>
         <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
         <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
         <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
      <span class="nt">&lt;/status&gt;</span>
   <span class="nt">&lt;/response&gt;</span>
<span class="nt">&lt;/root&gt;</span>



</code></pre>
<p>Retrieves the details of coupons of a specific customer - both issued and redeemed.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/coupons</code></td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>HTTP Method</td>
<td>GET</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/v1.1/customer/coupons?{identifier}={value}&amp;{input_params}</code></p>

<h3 id="request-query-parameters">Request Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Datatype</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>identifier*</td>
<td>enum</td>
<td>Identifier you want to use to identify the customer. Value: <code class="prettyprint">mobile</code>, <code class="prettyprint">email</code>, <code class="prettyprint">external_id</code>, <code class="prettyprint">id</code>.</td>
</tr>
<tr>
<td>value*</td>
<td>string</td>
<td>Value of the specified identifier. For example, if <code class="prettyprint">identifier</code> is <code class="prettyprint">mobile</code>, value should be the customer&rsquo;s mobile number.</td>
</tr>
<tr>
<td>start_date</td>
<td>date</td>
<td>Get coupons issued or redeemed on or after a specific date (<code class="prettyprint">YYYY-MM-DD</code>). To get coupon history of a specific duration, pass the date range in <code class="prettyprint">start_date</code> and <code class="prettyprint">end_date</code>.</td>
</tr>
<tr>
<td>end_date</td>
<td>date</td>
<td>Get coupons issued or redeemed before a specific date (<code class="prettyprint">YYYY-MM-DD</code>). To get coupon history of a specific duration, pass the date range in <code class="prettyprint">start_date</code> and <code class="prettyprint">end_date</code>.</td>
</tr>
<tr>
<td>status</td>
<td>enum</td>
<td>Retrieve coupons by coupon status. <br><strong>Values</strong>: <code class="prettyprint">redeemed</code>, <code class="prettyprint">expired</code>, <code class="prettyprint">active</code>. <br>You can also pass more than one status separating each with ; (semi-colon). for example, <code class="prettyprint">status=redeemed;expired</code>.</td>
</tr>
<tr>
<td>series_id</td>
<td>int</td>
<td>Retrieve details of a specific coupon series by series id.</td>
</tr>
<tr>
<td>store_id</td>
<td>int</td>
<td>Retrieves the details of active coupons of the customer that can be redeemed at a specific store</td>
</tr>
<tr>
<td>order_by</td>
<td>enum</td>
<td>Order the results by a specific entry. Value: <code class="prettyprint">created_date,</code>amount<code class="prettyprint">,</code>valid_till` (issued till).</td>
</tr>
<tr>
<td>sort_order</td>
<td>enum</td>
<td>Sort the results in ascending (<code class="prettyprint">asc</code>) or descending (<code class="prettyprint">desc</code>) order.</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>Limit the number of results to be retrieved. For example: limit=10 to retrieve the history of ten recent coupons of the customer.</td>
</tr>
</tbody></table>

<aside class="notice">Parameters marked with * are mandatory.</aside>

<h2 id="create-ticket">Create Ticket</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight html"><code>https://us.api.capillarytech.com/v1.1/customer/tickets?format=json
</code></pre>
<blockquote>
<p>Sample POST Request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"root"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"customer"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="s2">"johndoe@example.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"mobile"</span><span class="p">:</span><span class="s2">"44700900999"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"external_id"</span><span class="p">:</span><span class="s2">"EXT001"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"1034"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ticket"</span><span class="p">:[{</span><span class="w">
          </span><span class="nt">"status"</span><span class="p">:</span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"priority"</span><span class="p">:</span><span class="s2">"HIGH"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"department"</span><span class="p">:</span><span class="s2">"INTERNAL"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"subject"</span><span class="p">:</span><span class="s2">"points issue"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Unable to redeem points"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"custom_fields"</span><span class="p">:{</span><span class="w">
            </span><span class="nt">"field"</span><span class="p">:[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"field1"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"value"</span><span class="p">:</span><span class="s2">"value1"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><pre class="highlight xml"><code><span class="nt">&lt;root&gt;</span>
    <span class="nt">&lt;customer&gt;</span>
        <span class="nt">&lt;email&gt;</span>johndoe@example.com<span class="nt">&lt;/email&gt;</span>
        <span class="nt">&lt;mobile&gt;</span>44700900999<span class="nt">&lt;/mobile&gt;</span>
        <span class="nt">&lt;external_id&gt;</span>EXT001<span class="nt">&lt;/external_id&gt;</span>
        <span class="nt">&lt;id&gt;</span>1034<span class="nt">&lt;/id&gt;</span>
        <span class="nt">&lt;ticket&gt;</span>
            <span class="nt">&lt;status&gt;</span>OPEN<span class="nt">&lt;/status&gt;</span>
            <span class="nt">&lt;priority&gt;</span>HIGH<span class="nt">&lt;/priority&gt;</span>
            <span class="nt">&lt;department&gt;</span>INTERNAL<span class="nt">&lt;/department&gt;</span>
            <span class="nt">&lt;subject&gt;</span>points issue<span class="nt">&lt;/subject&gt;</span>
            <span class="nt">&lt;message&gt;</span>Unable to redeem points<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;custom_fields&gt;</span>
                <span class="nt">&lt;field&gt;</span>
                    <span class="nt">&lt;name&gt;</span>field1<span class="nt">&lt;/name&gt;</span>
                    <span class="nt">&lt;value&gt;</span>value1<span class="nt">&lt;/value&gt;</span>
                <span class="nt">&lt;/field&gt;</span>
            <span class="nt">&lt;/custom_fields&gt;</span>
        <span class="nt">&lt;/ticket&gt;</span>
    <span class="nt">&lt;/customer&gt;</span>
<span class="nt">&lt;/root&gt;</span>


</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"customers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"johndoe@example.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900999"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EXT001"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1034"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ticket"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35t40ld04"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"priority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HIGH"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"department"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INTERNAL"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"subject"</span><span class="p">:</span><span class="w"> </span><span class="s2">"points issue"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unable to redeem points"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"custom_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"field"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"field1"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value1"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1300"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ticket added successfully"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code>

<span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;response&gt;</span>
   <span class="nt">&lt;status&gt;</span>
      <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
      <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
      <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
   <span class="nt">&lt;/status&gt;</span>
   <span class="nt">&lt;customers&gt;</span>
      <span class="nt">&lt;customer&gt;</span>
         <span class="nt">&lt;email&gt;</span>johndoe@example.com<span class="nt">&lt;/email&gt;</span>
         <span class="nt">&lt;mobile&gt;</span>44700900999<span class="nt">&lt;/mobile&gt;</span>
         <span class="nt">&lt;external_id&gt;</span>EXT001<span class="nt">&lt;/external_id&gt;</span>
         <span class="nt">&lt;id&gt;</span>1034<span class="nt">&lt;/id&gt;</span>
         <span class="nt">&lt;ticket&gt;</span>
            <span class="nt">&lt;code&gt;</span>35t40ld04<span class="nt">&lt;/code&gt;</span>
            <span class="nt">&lt;status&gt;</span>OPEN<span class="nt">&lt;/status&gt;</span>
            <span class="nt">&lt;priority&gt;</span>HIGH<span class="nt">&lt;/priority&gt;</span>
            <span class="nt">&lt;department&gt;</span>INTERNAL<span class="nt">&lt;/department&gt;</span>
            <span class="nt">&lt;subject&gt;</span>points issue<span class="nt">&lt;/subject&gt;</span>
            <span class="nt">&lt;message&gt;</span>Unable to redeem points<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;custom_fields&gt;</span>
               <span class="nt">&lt;field&gt;</span>
                  <span class="nt">&lt;name&gt;</span>field1<span class="nt">&lt;/name&gt;</span>
                  <span class="nt">&lt;value&gt;</span>value1<span class="nt">&lt;/value&gt;</span>
               <span class="nt">&lt;/field&gt;</span>
            <span class="nt">&lt;/custom_fields&gt;</span>
         <span class="nt">&lt;/ticket&gt;</span>
         <span class="nt">&lt;item_status&gt;</span>
            <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
            <span class="nt">&lt;code&gt;</span>1300<span class="nt">&lt;/code&gt;</span>
            <span class="nt">&lt;message&gt;</span>Ticket added successfully<span class="nt">&lt;/message&gt;</span>
         <span class="nt">&lt;/item_status&gt;</span>
      <span class="nt">&lt;/customer&gt;</span>
   <span class="nt">&lt;/customers&gt;</span>
<span class="nt">&lt;/response&gt;</span>


</code></pre>
<p>Lets you to create a new ticket for a customer.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/tickets</code></td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>HTTP Method</td>
<td>POST</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p>`https://{host}/v1.1/customer/tickets</p>

<h3 id="request-body-parameters">Request Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Datatype</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Customer identifier*</td>
<td>string</td>
<td>Pass any one identifiers of the customer - mobile, email, external_id, or id (user_id).</td>
</tr>
<tr>
<td>status</td>
<td>enum</td>
<td>Status of the ticket. Accepts only values configured for the org. Sample values: Open, Close, InProgress.</td>
</tr>
<tr>
<td>priority</td>
<td>enum</td>
<td>Priority of the ticket. Value: <code class="prettyprint">low</code>, <code class="prettyprint">medium</code>, <code class="prettyprint">high</code>.</td>
</tr>
<tr>
<td>department</td>
<td>string</td>
<td>Set the department for which the ticket needs to be assigned</td>
</tr>
<tr>
<td>ticket_code</td>
<td>string</td>
<td>Pass the ticket id.</td>
</tr>
<tr>
<td>reported_from</td>
<td>enum</td>
<td>Source from which the ticket is created. Values: <code class="prettyprint">EMAIL</code>, <code class="prettyprint">INTOUCH</code>, <code class="prettyprint">CALLCENTER</code>, <code class="prettyprint">CLIENT</code>, <code class="prettyprint">MICROSITE</code>, <code class="prettyprint">SOCIAL</code>.</td>
</tr>
<tr>
<td>type</td>
<td>enum</td>
<td>Type of the ticket. Value: <code class="prettyprint">STORE</code>, <code class="prettyprint">Customer</code>.</td>
</tr>
</tbody></table>

<h2 id="retrieve-ticket-details">Retrieve Ticket Details</h2>
<pre class="highlight html"><code># Sample Request
https://us.api.capillarytech.com/v1.1/customer/tickets
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"johndoe@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900999"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EXT001"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1034"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"tickets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"ticket"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35t40ld04"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"priority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HIGH"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"department"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INTERNAL"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"subject"</span><span class="p">:</span><span class="w"> </span><span class="s2">"points issue"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Product received is damaged"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"custom_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"field"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"field1"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value1"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1300"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ticket retrieved successfully"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code>

<span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;response&gt;</span>
   <span class="nt">&lt;status&gt;</span>
      <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
      <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
      <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
   <span class="nt">&lt;/status&gt;</span>
   <span class="nt">&lt;customer&gt;</span>
      <span class="nt">&lt;firstname&gt;</span>John<span class="nt">&lt;/firstname&gt;</span>
      <span class="nt">&lt;lastname&gt;</span>Doe<span class="nt">&lt;/lastname&gt;</span>
      <span class="nt">&lt;email&gt;</span>johndoe@example.com<span class="nt">&lt;/email&gt;</span>
      <span class="nt">&lt;mobile&gt;</span>44700900999<span class="nt">&lt;/mobile&gt;</span>
      <span class="nt">&lt;external_id&gt;</span>EXT001<span class="nt">&lt;/external_id&gt;</span>
      <span class="nt">&lt;id&gt;</span>1034<span class="nt">&lt;/id&gt;</span>
      <span class="nt">&lt;tickets&gt;</span>
         <span class="nt">&lt;ticket&gt;</span>
            <span class="nt">&lt;code&gt;</span>35t40ld04<span class="nt">&lt;/code&gt;</span>
            <span class="nt">&lt;status&gt;</span>OPEN<span class="nt">&lt;/status&gt;</span>
            <span class="nt">&lt;priority&gt;</span>HIGH<span class="nt">&lt;/priority&gt;</span>
            <span class="nt">&lt;department&gt;</span>INTERNAL<span class="nt">&lt;/department&gt;</span>
            <span class="nt">&lt;subject&gt;</span>points issue<span class="nt">&lt;/subject&gt;</span>
            <span class="nt">&lt;message&gt;</span>Product received is damaged<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;custom_fields&gt;</span>
               <span class="nt">&lt;field&gt;</span>
                  <span class="nt">&lt;name&gt;</span>field1<span class="nt">&lt;/name&gt;</span>
                  <span class="nt">&lt;value&gt;</span>value1<span class="nt">&lt;/value&gt;</span>
               <span class="nt">&lt;/field&gt;</span>
            <span class="nt">&lt;/custom_fields&gt;</span>
         <span class="nt">&lt;/ticket&gt;</span>
      <span class="nt">&lt;/tickets&gt;</span>
      <span class="nt">&lt;item_status&gt;</span>
         <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
         <span class="nt">&lt;code&gt;</span>1300<span class="nt">&lt;/code&gt;</span>
         <span class="nt">&lt;message&gt;</span>Ticket retrieved successfully<span class="nt">&lt;/message&gt;</span>
      <span class="nt">&lt;/item_status&gt;</span>
   <span class="nt">&lt;/customer&gt;</span>
<span class="nt">&lt;/response&gt;</span>

</code></pre>
<p>This API allows you to fetch the details of tickets of a specific customer.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/tickets</code></td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>HTTP Method</td>
<td>GET</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/v1.1/customer/tickets?{identifier}={value}&amp;{input_params}&amp;format={xml/json}</code></p>

<h3 id="request-query-parameters">Request Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Datatype</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Customer identifier*</td>
<td>enum</td>
<td>Pass any of the customer identifiers to retrieve ticket details. Values: mobile, email, external_id, id.</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>Pass the respective identifier value.</td>
</tr>
<tr>
<td>status</td>
<td>enum</td>
<td>Filter tickets by status. Pass only from statuses that are defined for your org.</td>
</tr>
<tr>
<td>priority</td>
<td>enum</td>
<td>Filter results by ticket priority. <br>Value: <code class="prettyprint">low</code>, <code class="prettyprint">medium</code>, <code class="prettyprint">high</code>. Pass only priorities that are defined for your org.</td>
</tr>
<tr>
<td>department</td>
<td>string</td>
<td>Retrieve tickets assigned to a specific department. Pass only predefined departments of your org.</td>
</tr>
<tr>
<td>ticket_code</td>
<td>string</td>
<td>Retrieve details of a specific ticket</td>
</tr>
<tr>
<td>reported_from</td>
<td>enum</td>
<td>Retrieve tickets of a specific source. <br> Values: <code class="prettyprint">EMAIL</code>, <code class="prettyprint">INTOUCH</code>, <code class="prettyprint">CALLCENTER</code>, <code class="prettyprint">CLIENT</code>, <code class="prettyprint">MICROSITE</code>, <code class="prettyprint">SOCIAL</code>.</td>
</tr>
<tr>
<td>type</td>
<td>enum</td>
<td>Retrieve tickets by type. <br>Value: <code class="prettyprint">STORE</code>, <code class="prettyprint">Customer</code>.</td>
</tr>
<tr>
<td>start_date</td>
<td>Retrieve tickets created on or after in a specific date (<code class="prettyprint">YYYY-MM-DD</code>).  To get tickets created in a specific date range, pass the duration in <code class="prettyprint">start_date</code> and <code class="prettyprint">end_date</code>.</td>
<td></td>
</tr>
<tr>
<td>end_date</td>
<td>date</td>
<td>Retrieve tickets created after a specific date (<code class="prettyprint">YYYY-MM-DD</code>) - between start_date to end_date. To get tickets created in a specific date range, pass the duration in <code class="prettyprint">start_date</code> and <code class="prettyprint">end_date</code>.</td>
</tr>
</tbody></table>

<h2 id="refer-customer">Refer Customer</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight html"><code>https://us.api.capillarytech.com/v1.1/customer/referrals
</code></pre>
<blockquote>
<p>Sample POST Request</p>
</blockquote>
<pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;root&gt;</span>
   <span class="nt">&lt;customer&gt;</span>
      <span class="c">&lt;!-- Any one identifier is required --&gt;</span>
      <span class="nt">&lt;email</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;mobile&gt;</span>9174116390xx<span class="nt">&lt;/mobile&gt;</span>
      <span class="nt">&lt;id</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;external_id</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;referrals&gt;</span>
         <span class="c">&lt;!-- If no campaign id passed, default campaign is considered --&gt;</span>
         <span class="nt">&lt;campaign_token&gt;</span>12511<span class="nt">&lt;/campaign_token&gt;</span>
         <span class="nt">&lt;referral_type&gt;</span>
            <span class="nt">&lt;type&gt;</span>EMAIL<span class="nt">&lt;/type&gt;</span>
            <span class="nt">&lt;referral&gt;</span>
               <span class="nt">&lt;id&gt;</span>1<span class="nt">&lt;/id&gt;</span>
               <span class="nt">&lt;name&gt;</span>Dexter Morgan<span class="nt">&lt;/name&gt;</span>
               <span class="nt">&lt;identifier&gt;</span>dexter.morgan@mpd.com<span class="nt">&lt;/identifier&gt;</span>
               <span class="nt">&lt;invited_on&gt;</span>20160912T15:
19:21+05:30<span class="nt">&lt;/invited_on&gt;</span>
            <span class="nt">&lt;/referral&gt;</span>
            <span class="nt">&lt;referral&gt;</span>
               <span class="nt">&lt;id&gt;</span>2<span class="nt">&lt;/id&gt;</span>
               <span class="nt">&lt;name&gt;</span>Debra Morgan<span class="nt">&lt;/name&gt;</span>
               <span class="nt">&lt;identifier&gt;</span>debra.morgan@elwaydetectives.com<span class="nt">&lt;/identifier&gt;</span>
               <span class="nt">&lt;invited_on&gt;</span>20130912T15:
19:21+05:30<span class="nt">&lt;/invited_on&gt;</span>
            <span class="nt">&lt;/referral&gt;</span>
            <span class="nt">&lt;referral&gt;</span>
               <span class="nt">&lt;id&gt;</span>3<span class="nt">&lt;/id&gt;</span>
               <span class="nt">&lt;name&gt;</span>Eddard ‘Ned’ Stark<span class="nt">&lt;/name&gt;</span>
               <span class="nt">&lt;identifier&gt;</span>eddard.stark@winterfell.com<span class="nt">&lt;/identifier&gt;</span>
               <span class="nt">&lt;invited_on&gt;</span>2016-09-12 T15:19:21+05:30<span class="nt">&lt;/invited_on&gt;</span>
            <span class="nt">&lt;/referral&gt;</span>
         <span class="nt">&lt;/referral_type&gt;</span>
      <span class="nt">&lt;/referrals&gt;</span>
   <span class="nt">&lt;/customer&gt;</span>
<span class="nt">&lt;/root&gt;</span>
</code></pre><pre class="highlight json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nt">"root"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"customer"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"mobile"</span><span class="p">:</span><span class="s2">"9174116390xx"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"referrals"</span><span class="p">:{</span><span class="w">
          </span><span class="nt">"campaign_token"</span><span class="p">:</span><span class="s2">"12511"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"referral_type"</span><span class="p">:{</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"EMAIL"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"referral"</span><span class="p">:[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Dexter Morgan"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"identifier"</span><span class="p">:</span><span class="s2">"dexter.morgan@mpd.com"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"invited_on"</span><span class="p">:</span><span class="s2">"20160912T15:19:21+05:30"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"2"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Debra Morgan"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"identifier"</span><span class="p">:</span><span class="s2">"debra.morgan@elwaydetectives.com"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"invited_on"</span><span class="p">:</span><span class="s2">"20160912T15:19:21+05:30"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"3"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Eddard ‘Ned’ Stark"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"identifier"</span><span class="p">:</span><span class="s2">"eddard.stark@winterfell.com"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"invited_on"</span><span class="p">:</span><span class="s2">"2016-09-12 T15:19:21+05:30"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"response"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:{</span><span class="w">
         </span><span class="nt">"success"</span><span class="p">:</span><span class="s2">"true"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"code"</span><span class="p">:</span><span class="s2">"200"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"success"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"customers"</span><span class="p">:{</span><span class="w">
         </span><span class="nt">"customer"</span><span class="p">:{</span><span class="w">
            </span><span class="nt">"email"</span><span class="p">:</span><span class="s2">"tom.sawyer@example.com"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"mobile"</span><span class="p">:</span><span class="s2">"9197407983xx"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"external_id"</span><span class="p">:</span><span class="s2">"VIMAL004"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"4596849"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"firstname"</span><span class="p">:</span><span class="s2">"Vimal"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"lastname"</span><span class="p">:</span><span class="s2">"Sudhan"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"referrals"</span><span class="p">:{</span><span class="w">
               </span><span class="nt">"referral_type"</span><span class="p">:[</span><span class="w">
                  </span><span class="p">{</span><span class="w">
                     </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"EMAIL"</span><span class="p">,</span><span class="w">
                     </span><span class="nt">"referral"</span><span class="p">:[</span><span class="w">
                        </span><span class="p">{</span><span class="w">
                           </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                           </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Dexter Morgan"</span><span class="p">,</span><span class="w">
                           </span><span class="nt">"identifier"</span><span class="p">:</span><span class="s2">"dexter.morgan@mpd.com"</span><span class="p">,</span><span class="w">
                           </span><span class="nt">"invited_on"</span><span class="p">:</span><span class="s2">"2016-09-12T15:19:21+05:30"</span><span class="p">,</span><span class="w">
                           </span><span class="nt">"status"</span><span class="p">:{</span><span class="w">
                              </span><span class="nt">"success"</span><span class="p">:</span><span class="s2">"true"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"code"</span><span class="p">:</span><span class="s2">"100"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Invitee added successfully"</span><span class="w">
                           </span><span class="p">}</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="p">{</span><span class="w">
                           </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"2"</span><span class="p">,</span><span class="w">
                           </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Debra Morgan"</span><span class="p">,</span><span class="w">
                           </span><span class="nt">"identifier"</span><span class="p">:</span><span class="s2">"debra.morgan@elwaydetectives.com"</span><span class="p">,</span><span class="w">
                           </span><span class="nt">"invited_on"</span><span class="p">:</span><span class="s2">"2013-09-12T15:19:21+05:30"</span><span class="p">,</span><span class="w">
                           </span><span class="nt">"status"</span><span class="p">:{</span><span class="w">
                              </span><span class="nt">"success"</span><span class="p">:</span><span class="s2">"true"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"code"</span><span class="p">:</span><span class="s2">"100"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Invitee added successfully"</span><span class="w">
                           </span><span class="p">}</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                     </span><span class="p">]</span><span class="w">
                  </span><span class="p">},</span><span class="w">
                  </span><span class="p">{</span><span class="w">
                     </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"MOBILE"</span><span class="p">,</span><span class="w">
                     </span><span class="nt">"referral"</span><span class="p">:[</span><span class="w">
                        </span><span class="p">{</span><span class="w">
                           </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"4"</span><span class="p">,</span><span class="w">
                           </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Arya Stark"</span><span class="p">,</span><span class="w">
                           </span><span class="nt">"identifier"</span><span class="p">:</span><span class="s2">"919911223xx"</span><span class="p">,</span><span class="w">
                           </span><span class="nt">"invited_on"</span><span class="p">:</span><span class="s2">"2016-09-12T15:19:21+05:30"</span><span class="p">,</span><span class="w">
                           </span><span class="nt">"status"</span><span class="p">:{</span><span class="w">
                              </span><span class="nt">"success"</span><span class="p">:</span><span class="s2">"true"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"code"</span><span class="p">:</span><span class="s2">"100"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Invitee added successfully"</span><span class="w">
                           </span><span class="p">}</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="p">{</span><span class="w">
                           </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"10"</span><span class="p">,</span><span class="w">
                           </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Walt Jr"</span><span class="p">,</span><span class="w">
                           </span><span class="nt">"identifier"</span><span class="p">:</span><span class="s2">"919876543211"</span><span class="p">,</span><span class="w">
                           </span><span class="nt">"invited_on"</span><span class="p">:</span><span class="s2">" 2016-09-12T15:19:21+05:30"</span><span class="p">,</span><span class="w">
                           </span><span class="nt">"status"</span><span class="p">:{</span><span class="w">
                              </span><span class="nt">"success"</span><span class="p">:</span><span class="s2">"true"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"code"</span><span class="p">:</span><span class="s2">"100"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Invitee added successfully"</span><span class="w">
                           </span><span class="p">}</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                     </span><span class="p">]</span><span class="w">
                  </span><span class="p">}</span><span class="w">
               </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:{</span><span class="w">
               </span><span class="nt">"success"</span><span class="p">:</span><span class="s2">"true"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"code"</span><span class="p">:</span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Referrals are invited Successfully"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code>

<span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;root&gt;</span>
   <span class="nt">&lt;response&gt;</span>
      <span class="nt">&lt;customers&gt;</span>
         <span class="nt">&lt;customer&gt;</span>
            <span class="nt">&lt;email&gt;</span>tom.sawyer@example.com<span class="nt">&lt;/email&gt;</span>
            <span class="nt">&lt;external_id&gt;</span>VIMAL004<span class="nt">&lt;/external_id&gt;</span>
            <span class="nt">&lt;firstname&gt;</span>Vimal<span class="nt">&lt;/firstname&gt;</span>
            <span class="nt">&lt;id&gt;</span>4596849<span class="nt">&lt;/id&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
               <span class="nt">&lt;code&gt;</span>1000<span class="nt">&lt;/code&gt;</span>
               <span class="nt">&lt;message&gt;</span>Referrals are invited Successfully<span class="nt">&lt;/message&gt;</span>
               <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
            <span class="nt">&lt;lastname&gt;</span>Sudhan<span class="nt">&lt;/lastname&gt;</span>
            <span class="nt">&lt;mobile&gt;</span>9197407983xx<span class="nt">&lt;/mobile&gt;</span>
            <span class="nt">&lt;referrals&gt;</span>
               <span class="nt">&lt;referral_type&gt;</span>
                  <span class="nt">&lt;element&gt;</span>
                     <span class="nt">&lt;referral&gt;</span>
                        <span class="nt">&lt;element&gt;</span>
                           <span class="nt">&lt;id&gt;</span>1<span class="nt">&lt;/id&gt;</span>
                           <span class="nt">&lt;identifier&gt;</span>dexter.morgan@mpd.com<span class="nt">&lt;/identifier&gt;</span>
                           <span class="nt">&lt;invited_on&gt;</span>2016-09-12T15:19:21+05:30<span class="nt">&lt;/invited_on&gt;</span>
                           <span class="nt">&lt;name&gt;</span>Dexter Morgan<span class="nt">&lt;/name&gt;</span>
                           <span class="nt">&lt;status&gt;</span>
                              <span class="nt">&lt;code&gt;</span>100<span class="nt">&lt;/code&gt;</span>
                              <span class="nt">&lt;message&gt;</span>Invitee added successfully<span class="nt">&lt;/message&gt;</span>
                              <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
                           <span class="nt">&lt;/status&gt;</span>
                        <span class="nt">&lt;/element&gt;</span>
                        <span class="nt">&lt;element&gt;</span>
                           <span class="nt">&lt;id&gt;</span>2<span class="nt">&lt;/id&gt;</span>
                           <span class="nt">&lt;identifier&gt;</span>debra.morgan@elwaydetectives.com<span class="nt">&lt;/identifier&gt;</span>
                           <span class="nt">&lt;invited_on&gt;</span>2013-09-12T15:19:21+05:30<span class="nt">&lt;/invited_on&gt;</span>
                           <span class="nt">&lt;name&gt;</span>Debra Morgan<span class="nt">&lt;/name&gt;</span>
                           <span class="nt">&lt;status&gt;</span>
                              <span class="nt">&lt;code&gt;</span>100<span class="nt">&lt;/code&gt;</span>
                              <span class="nt">&lt;message&gt;</span>Invitee added successfully<span class="nt">&lt;/message&gt;</span>
                              <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
                           <span class="nt">&lt;/status&gt;</span>
                        <span class="nt">&lt;/element&gt;</span>
                     <span class="nt">&lt;/referral&gt;</span>
                     <span class="nt">&lt;type&gt;</span>EMAIL<span class="nt">&lt;/type&gt;</span>
                  <span class="nt">&lt;/element&gt;</span>
                  <span class="nt">&lt;element&gt;</span>
                     <span class="nt">&lt;referral&gt;</span>
                        <span class="nt">&lt;element&gt;</span>
                           <span class="nt">&lt;id&gt;</span>4<span class="nt">&lt;/id&gt;</span>
                           <span class="nt">&lt;identifier&gt;</span>919911223xx<span class="nt">&lt;/identifier&gt;</span>
                           <span class="nt">&lt;invited_on&gt;</span>2016-09-12T15:19:21+05:30<span class="nt">&lt;/invited_on&gt;</span>
                           <span class="nt">&lt;name&gt;</span>Arya Stark<span class="nt">&lt;/name&gt;</span>
                           <span class="nt">&lt;status&gt;</span>
                              <span class="nt">&lt;code&gt;</span>100<span class="nt">&lt;/code&gt;</span>
                              <span class="nt">&lt;message&gt;</span>Invitee added successfully<span class="nt">&lt;/message&gt;</span>
                              <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
                           <span class="nt">&lt;/status&gt;</span>
                        <span class="nt">&lt;/element&gt;</span>
                        <span class="nt">&lt;element&gt;</span>
                           <span class="nt">&lt;id&gt;</span>10<span class="nt">&lt;/id&gt;</span>
                           <span class="nt">&lt;identifier&gt;</span>919876543211<span class="nt">&lt;/identifier&gt;</span>
                           <span class="nt">&lt;invited_on&gt;</span> 2016-09-12T15:19:21+05:30<span class="nt">&lt;/invited_on&gt;</span>
                           <span class="nt">&lt;name&gt;</span>Walt Jr<span class="nt">&lt;/name&gt;</span>
                           <span class="nt">&lt;status&gt;</span>
                              <span class="nt">&lt;code&gt;</span>100<span class="nt">&lt;/code&gt;</span>
                              <span class="nt">&lt;message&gt;</span>Invitee added successfully<span class="nt">&lt;/message&gt;</span>
                              <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
                           <span class="nt">&lt;/status&gt;</span>
                        <span class="nt">&lt;/element&gt;</span>
                     <span class="nt">&lt;/referral&gt;</span>
                     <span class="nt">&lt;type&gt;</span>MOBILE<span class="nt">&lt;/type&gt;</span>
                  <span class="nt">&lt;/element&gt;</span>
               <span class="nt">&lt;/referral_type&gt;</span>
            <span class="nt">&lt;/referrals&gt;</span>
         <span class="nt">&lt;/customer&gt;</span>
      <span class="nt">&lt;/customers&gt;</span>
      <span class="nt">&lt;status&gt;</span>
         <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
         <span class="nt">&lt;message&gt;</span>success<span class="nt">&lt;/message&gt;</span>
         <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
      <span class="nt">&lt;/status&gt;</span>
   <span class="nt">&lt;/response&gt;</span>
<span class="nt">&lt;/root&gt;</span>
</code></pre>
<p>This API allows you to send the referral code of a specific campaign to a customer (auto generated referral code).</p>

<h3 id="naming-conventions">Naming Conventions</h3>

<p>It is important to understand the following terminologies that you may come across while using the customer/APIs.</p>

<ul>
<li><strong>referral_code</strong>: Unique code generated for the referrer for a specific campaign. Each referral campaign generate a unique code for each customer.</li>
<li><strong>invitee</strong>: A person who was invited by the referrer. The list will have the list of both successful and failed referees</li>
<li><strong>referees</strong>: Customers from the invitee list who turned up to the stores and made either transactions or registrations</li>
<li><strong>incentives</strong>: Rewards received by the referral for successful referees of the campaign. Currently, only coupons are issued as incentives</li>
<li><strong>scope</strong>: The channel through which the referral was made. Currently, the referrals are supported only through email and mobile number. Scopes are used as name-value pairs, the value could be referees, invitees, or incentives as per the context.</li>
</ul>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/referrals</code></td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>HTTP Method</td>
<td>POST</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/v1.1/customer/referrals?{identifier}={value}&amp;{query-params}</code></p>

<h3 id="request-body-parameters">Request Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Customer identifier*</td>
<td>enum</td>
<td>Pass any of the customer identifiers who needs to refer. Value: <code class="prettyprint">mobile</code>, <code class="prettyprint">email</code>, <code class="prettyprint">external_id</code>, <code class="prettyprint">id</code>.</td>
</tr>
<tr>
<td>campaign_token*</td>
<td>string</td>
<td>Unique token of the referral campaign.</td>
</tr>
<tr>
<td>type*</td>
<td>enum</td>
<td>Mode of communication of the referral. Values: <code class="prettyprint">SMS</code>, <code class="prettyprint">EMAIL</code></td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td>Sequence id of the referee.</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the referee.</td>
</tr>
<tr>
<td>identifier</td>
<td>string</td>
<td>Identifier of the referee according to the type set. For example, if <code class="prettyprint">type:&quot;EMAIL&quot;</code>, <code class="prettyprint">identifier</code> will be the email ID.</td>
</tr>
<tr>
<td>invited_on</td>
<td>date-time</td>
<td>Date and time of the invite.</td>
</tr>
</tbody></table>

<aside class="notice">Parameters marked with * are mandatory.</aside>

<h2 id="retrieve-customer-referral-details">Retrieve Customer Referral Details</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight html"><code>https://us.api.capillarytech.com/v1.1/customer/referrals<span class="err">&amp;</span>mobile=9197407983xx
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;response&gt;</span>
   <span class="nt">&lt;status&gt;</span>
      <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
      <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
      <span class="nt">&lt;message&gt;</span>success<span class="nt">&lt;/message&gt;</span>
   <span class="nt">&lt;/status&gt;</span>
   <span class="nt">&lt;customers&gt;</span>
      <span class="nt">&lt;customer&gt;</span>
         <span class="nt">&lt;email&gt;</span>vimalsudhan@gmail.com<span class="nt">&lt;/email&gt;</span>
         <span class="nt">&lt;mobile&gt;</span>9197407983xx<span class="nt">&lt;/mobile&gt;</span>
         <span class="nt">&lt;external_id&gt;</span>VIMAL004<span class="nt">&lt;/external_id&gt;</span>
         <span class="nt">&lt;id&gt;</span>4596849<span class="nt">&lt;/id&gt;</span>
         <span class="nt">&lt;firstname&gt;</span>Vimal<span class="nt">&lt;/firstname&gt;</span>
         <span class="nt">&lt;lastname&gt;</span>Sudhan<span class="nt">&lt;/lastname&gt;</span>
         <span class="nt">&lt;referrals&gt;</span>
            <span class="nt">&lt;referral_type&gt;</span>
               <span class="nt">&lt;type&gt;</span>EMAIL<span class="nt">&lt;/type&gt;</span>
               <span class="nt">&lt;referral&gt;</span>
                  <span class="nt">&lt;id&gt;</span>1<span class="nt">&lt;/id&gt;</span>
                  <span class="nt">&lt;name&gt;</span>Dexter Morgan<span class="nt">&lt;/name&gt;</span>
                  <span class="nt">&lt;identifier&gt;</span>dexter.morgan@mpd.com<span class="nt">&lt;/identifier&gt;</span>
                  <span class="nt">&lt;invited_on&gt;</span>2016-09-12T15:19:21+05:30<span class="nt">&lt;/invited_on&gt;</span>
                  <span class="nt">&lt;status&gt;</span>
                     <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
                     <span class="nt">&lt;code&gt;</span>100<span class="nt">&lt;/code&gt;</span>
                     <span class="nt">&lt;message&gt;</span>Invitee added
 successfully<span class="nt">&lt;/message&gt;</span>
                  <span class="nt">&lt;/status&gt;</span>
               <span class="nt">&lt;/referral&gt;</span>
               <span class="nt">&lt;referral&gt;</span>
                  <span class="nt">&lt;id&gt;</span>2<span class="nt">&lt;/id&gt;</span>
                  <span class="nt">&lt;name&gt;</span>Debra Morgan<span class="nt">&lt;/name&gt;</span>
                  <span class="nt">&lt;identifier&gt;</span>debra.morgan@elwaydetectives.com<span class="nt">&lt;/identifier&gt;</span>
                  <span class="nt">&lt;invited_on&gt;</span>2013-09-12T15:19:21+05:30<span class="nt">&lt;/invited_on&gt;</span>
                  <span class="nt">&lt;status&gt;</span>
                     <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
                     <span class="nt">&lt;code&gt;</span>100<span class="nt">&lt;/code&gt;</span>
                     <span class="nt">&lt;message&gt;</span>Invitee added
 successfully<span class="nt">&lt;/message&gt;</span>
                  <span class="nt">&lt;/status&gt;</span>
               <span class="nt">&lt;/referral&gt;</span>
            <span class="nt">&lt;/referral_type&gt;</span>
            <span class="nt">&lt;referral_type&gt;</span>
               <span class="nt">&lt;type&gt;</span>MOBILE<span class="nt">&lt;/type&gt;</span>
               <span class="nt">&lt;referral&gt;</span>
                  <span class="nt">&lt;id&gt;</span>5<span class="nt">&lt;/id&gt;</span>
                  <span class="nt">&lt;name&gt;</span>Heisenberg<span class="nt">&lt;/name&gt;</span>
                  <span class="nt">&lt;identifier&gt;</span>919123456789<span class="nt">&lt;/identifier&gt;</span>
                  <span class="nt">&lt;invited_on&gt;</span>2016-09-12T15:19:21+05:30<span class="nt">&lt;/invited_on&gt;</span>
                  <span class="nt">&lt;status&gt;</span>
                     <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
                     <span class="nt">&lt;code&gt;</span>100<span class="nt">&lt;/code&gt;</span>
                     <span class="nt">&lt;message&gt;</span>Invitee added
 successfully<span class="nt">&lt;/message&gt;</span>
                  <span class="nt">&lt;/status&gt;</span>
               <span class="nt">&lt;/referral&gt;</span>
               <span class="nt">&lt;referral&gt;</span>
                  <span class="nt">&lt;id&gt;</span>10<span class="nt">&lt;/id&gt;</span>
                  <span class="nt">&lt;name&gt;</span>Walt Jr<span class="nt">&lt;/name&gt;</span>
                  <span class="nt">&lt;identifier&gt;</span>919876543211<span class="nt">&lt;/identifier&gt;</span>
                  <span class="nt">&lt;invited_on&gt;</span>2016-09-12T15:19:21+05:30<span class="nt">&lt;/invited_on&gt;</span>
                  <span class="nt">&lt;status&gt;</span>
                     <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
                     <span class="nt">&lt;code&gt;</span>100<span class="nt">&lt;/code&gt;</span>
                     <span class="nt">&lt;message&gt;</span>Invitee added
 successfully<span class="nt">&lt;/message&gt;</span>
                  <span class="nt">&lt;/status&gt;</span>
               <span class="nt">&lt;/referral&gt;</span>
            <span class="nt">&lt;/referral_type&gt;</span>
         <span class="nt">&lt;/referrals&gt;</span>
         <span class="nt">&lt;item_status&gt;</span>
            <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
            <span class="nt">&lt;code&gt;</span>1000<span class="nt">&lt;/code&gt;</span>
            <span class="nt">&lt;message&gt;</span>Referrals are invited Successfully<span class="nt">&lt;/message&gt;</span>
         <span class="nt">&lt;/item_status&gt;</span>
      <span class="nt">&lt;/customer&gt;</span>
   <span class="nt">&lt;/customers&gt;</span>
<span class="nt">&lt;/response&gt;</span>


</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vimalsudhan@gmail.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9197407983xx"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VIMAL004"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4596849"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Vimal"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sudhan"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"referral_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DJK39"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"invitees"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"referral_type"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EMAIL"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"invitee"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nt">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dexter.morgan@mpd.com"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"invited_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-09-02 12:49:12"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"till"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"store.till"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"store till"</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nt">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"
debra.morgan@elwaydetectives.com"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"invited_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-09-01 13:04:10"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"till"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"till.cap.123"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cap till"</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nt">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"
eddard.stark@winterfell.com"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"invited_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-08-21 10:04:10"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"till"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"till.cap.123"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cap till"</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MOBILE"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"invitee"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nt">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"919123456789"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"invited_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-09-02 12:49:12"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"till"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"store.till"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"store till"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nt">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"
919876543210"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"invited_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-09-01 13:04:10"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"till"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"till.cap.123"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cap till"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nt">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"
919112233445"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"invited_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-08-21 10:04:10"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"till"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"till.cap.123"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cap till"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"referees"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"referee"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"event_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRANSACTION"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1494955"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dexter"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Morgan"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dexter.morgan@mpd.com"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"919988776655"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MPD345"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"added_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-09-02 11:29:10"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"event_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REGISTRATION"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1494915"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Debra"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Morgan"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"debra.morgan@elwaydetectives.com"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"919988976655"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ELW345"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"added_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-09-01 10:29:10"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"incentives"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"event_type"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRANSACTION"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"coupons"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"coupon"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"934KD944K"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"valid_till"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-02-12 12:10:40"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"redemption_info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nt">"redeemed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"redeemed_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-12-12 14:29:41"</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REGISTRATION"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"coupons"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"coupon"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DFI3KDL"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"valid_till"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-01-12 19:10:40"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"redemption_info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nt">"redeemed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"redeemed_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-02-12 14:29:41"</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Referral Statistics retrieved successfully"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Retrieves the stats of the referrals along with the unique referral code of a specific  customer.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/referrals</code></td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>HTTP Method</td>
<td>GET</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/v1.1/customer/referrals?{identifier}={value}&amp;{query-params}&amp;format={xml/json}</code></p>

<h3 id="request-query-parameters">Request Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Datatype</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Customer identifier*</td>
<td>enum</td>
<td>Pass any of the customer identifiers to fetch referral details. Value: <code class="prettyprint">mobile</code>, <code class="prettyprint">email</code>, <code class="prettyprint">external_id</code>, <code class="prettyprint">id</code>.</td>
</tr>
<tr>
<td>value*</td>
<td>string</td>
<td>Pass the respective identifier value.</td>
</tr>
<tr>
<td>campaign_token</td>
<td>string</td>
<td>Pass the specific token id of the referral campaign that you want to fetch. If no campaign id is passed, the details of the customer&rsquo;s referral history of the default campaign will be retrieved</td>
</tr>
<tr>
<td>start_date</td>
<td>date</td>
<td>Get customer referrals on or after a specific duration (<code class="prettyprint">YYYY-MM-DD</code>). To get referrals of a specific duration, pass the date range in <code class="prettyprint">start_date</code> and <code class="prettyprint">end_date</code>.</td>
</tr>
<tr>
<td>end_date</td>
<td>date</td>
<td>Get customer referrals after a specific date (<code class="prettyprint">YYYY-MM-DD</code>). To get referrals of a specific duration, pass the date range in <code class="prettyprint">start_date</code> and <code class="prettyprint">end_date</code>.</td>
</tr>
<tr>
<td>store_code</td>
<td>string</td>
<td>Retrieve referral stats of the specific store. Default value will be the current store. Set <code class="prettyprint">all</code> to track details from all the stores</td>
</tr>
<tr>
<td>only_referral_code</td>
<td>boolean</td>
<td>Set <code class="prettyprint">true</code> to retrieve the referral code of the respective referral campaigns (of the specific customer).</td>
</tr>
</tbody></table>

<h2 id="update-customer-preferences">Update Customer Preferences</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight html"><code>https://us.api.capillarytech.com/v1.1/customer/preferences
</code></pre>
<blockquote>
<p>Sample POST Request</p>
</blockquote>
<pre class="highlight xml"><code><span class="nt">&lt;root&gt;</span>
    <span class="nt">&lt;customer&gt;</span>
        <span class="c">&lt;!-- any of these will work, mobile/email/external_id/user_id --&gt;</span>
        <span class="nt">&lt;mobile&gt;</span>44700900000<span class="nt">&lt;/mobile&gt;</span>
        <span class="nt">&lt;email&gt;</span>tom.sawyer@example.com<span class="nt">&lt;/email&gt;</span>
        <span class="nt">&lt;external_id&gt;</span>ts1234<span class="nt">&lt;/external_id&gt;</span>
        <span class="nt">&lt;user_id&gt;</span>sa234<span class="nt">&lt;/user_id&gt;</span>
        <span class="nt">&lt;local_id</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;store&gt;</span>
            <span class="nt">&lt;code&gt;</span>store.code<span class="nt">&lt;/code&gt;</span>
            <span class="nt">&lt;id&gt;</span>2234235<span class="nt">&lt;/id&gt;</span>
        <span class="nt">&lt;/store&gt;</span>
        <span class="nt">&lt;custom_fields&gt;</span>
            <span class="nt">&lt;field&gt;</span>
                <span class="nt">&lt;name&gt;</span>Favorite Brand<span class="nt">&lt;/name&gt;</span>
                <span class="nt">&lt;value&gt;</span>[“puma”]<span class="nt">&lt;/value&gt;</span>
            <span class="nt">&lt;/field&gt;</span>
            <span class="nt">&lt;field&gt;</span>
                <span class="nt">&lt;name&gt;</span>Favorite Color<span class="nt">&lt;/name&gt;</span>
                <span class="nt">&lt;value&gt;</span>Blue<span class="nt">&lt;/value&gt;</span>
            <span class="nt">&lt;/field&gt;</span>
        <span class="nt">&lt;/custom_fields&gt;</span>
    <span class="nt">&lt;/customer&gt;</span>
<span class="nt">&lt;/root&gt;</span>

</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"root"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900000"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom.sawyer@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ts1234"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sa234"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"store"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"store.code"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2234235"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"custom_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"field"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Favorite Brand"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[“puma”]"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Favorite Color"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blue"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="nt">&lt;response&gt;</span>
    <span class="nt">&lt;status&gt;</span>
        <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
        <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/status&gt;</span>
    <span class="nt">&lt;customers&gt;</span>
        <span class="nt">&lt;customer&gt;</span>
            <span class="nt">&lt;user_id&gt;</span>sa234<span class="nt">&lt;/user_id&gt;</span>
            <span class="nt">&lt;mobile&gt;</span>44700900000<span class="nt">&lt;/mobile&gt;</span>
            <span class="nt">&lt;email&gt;</span>tom.sawyer@example.com<span class="nt">&lt;/email&gt;</span>
            <span class="nt">&lt;external_id&gt;</span>ts1234<span class="nt">&lt;/external_id&gt;</span>
            <span class="nt">&lt;local_id</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;custom_fields&gt;</span>
                <span class="nt">&lt;field&gt;</span>
                    <span class="nt">&lt;name&gt;</span>Favorite Brand<span class="nt">&lt;/name&gt;</span>
                    <span class="nt">&lt;value&gt;</span>Puma<span class="nt">&lt;/value&gt;</span>
                <span class="nt">&lt;/field&gt;</span>
                <span class="nt">&lt;field&gt;</span>
                    <span class="nt">&lt;name&gt;</span>Favorite Color<span class="nt">&lt;/name&gt;</span>
                    <span class="nt">&lt;value&gt;</span>Green<span class="nt">&lt;/value&gt;</span>
                <span class="nt">&lt;/field&gt;</span>
            <span class="nt">&lt;/custom_fields&gt;</span>
            <span class="nt">&lt;store&gt;</span>
                <span class="nt">&lt;id&gt;</span>12762390<span class="nt">&lt;/id&gt;</span>
                <span class="nt">&lt;code&gt;</span>storecode<span class="nt">&lt;/code&gt;</span>
                <span class="nt">&lt;name&gt;</span>store Name<span class="nt">&lt;/name&gt;</span>
                <span class="nt">&lt;status&gt;</span>SUCCESS<span class="nt">&lt;/status&gt;</span>
            <span class="nt">&lt;/store&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
                <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
                <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
                <span class="nt">&lt;message&gt;</span>Preferences Updated Successfully<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
        <span class="nt">&lt;/customer&gt;</span>
    <span class="nt">&lt;/customers&gt;</span>
<span class="nt">&lt;/response&gt;</span>

</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"customers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sa234"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900000"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom.sawyer@example.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ts1234"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"custom_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"field"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Favorite Brand"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Puma"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Favorite Color"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Green"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"store"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12762390"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"storecode"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"store Name"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Preferences Updated Successfully"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Preferences are custom fields created under the preferences category which helps in capturing specific interests of a customer. Example: favorite color, favorite brand. This API allows you to set or update preferences of a customer.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/preferences</code></td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>HTTP Method</td>
<td>POST</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/v1.1/customer/preferences?format={xml/json}</code></p>

<h3 id="request-body-parameters">Request Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Datatype</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>mobile/email/external_id/user_id*</td>
<td>string</td>
<td>Pass any of the identifiers of the customer whose preferences you want to update.</td>
</tr>
<tr>
<td>store</td>
<td>obj</td>
<td></td>
</tr>
<tr>
<td>code</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td>Unique store id</td>
</tr>
<tr>
<td>custom_fields</td>
<td>obj</td>
<td>Update customer level custom field details as name and value pairs.</td>
</tr>
</tbody></table>

<h2 id="fetch-customer-preferences">Fetch Customer Preferences</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight html"><code>https://us.api.capillarytech.com/v1.1/customer/preferences?format=json<span class="err">&amp;</span>mobile=44700900000

</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;response&gt;</span>
   <span class="nt">&lt;status&gt;</span>
      <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
      <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
      <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
   <span class="nt">&lt;/status&gt;</span>
   <span class="nt">&lt;customers&gt;</span>
      <span class="nt">&lt;customer&gt;</span>
         <span class="nt">&lt;user_id&gt;</span>5532354<span class="nt">&lt;/user_id&gt;</span>
         <span class="c">&lt;!-- user_id will return according to
the extra query parameter “user_id”=true/false --&gt;</span>
         <span class="nt">&lt;mobile&gt;</span>44700900000<span class="nt">&lt;/mobile&gt;</span>
         <span class="nt">&lt;email&gt;</span>tom.sawyer@example.com<span class="nt">&lt;/email&gt;</span>
         <span class="nt">&lt;external_id&gt;</span>ts1234<span class="nt">&lt;/external_id&gt;</span>
         <span class="nt">&lt;custom_fields&gt;</span>
            <span class="nt">&lt;field&gt;</span>
               <span class="nt">&lt;name&gt;</span>Favorite Color<span class="nt">&lt;/name&gt;</span>
               <span class="nt">&lt;value&gt;</span>Green<span class="nt">&lt;/value&gt;</span>
            <span class="nt">&lt;/field&gt;</span>
            <span class="nt">&lt;field&gt;</span>
               <span class="nt">&lt;name&gt;</span>Favorite Brand<span class="nt">&lt;/name&gt;</span>
               <span class="nt">&lt;value&gt;</span>Puma<span class="nt">&lt;/value&gt;</span>
            <span class="nt">&lt;/field&gt;</span>
            <span class="nt">&lt;field&gt;</span>
               <span class="nt">&lt;name&gt;</span>Likes<span class="nt">&lt;/name&gt;</span>
               <span class="nt">&lt;value&gt;</span>Shoes<span class="nt">&lt;/value&gt;</span>
            <span class="nt">&lt;/field&gt;</span>
            <span class="nt">&lt;field&gt;</span>
               <span class="nt">&lt;name&gt;</span>PREFERRED_STORE<span class="nt">&lt;/name&gt;</span>
               <span class="nt">&lt;value&gt;</span>Store name<span class="nt">&lt;/value&gt;</span>
            <span class="nt">&lt;/field&gt;</span>
         <span class="nt">&lt;/custom_fields&gt;</span>
         <span class="nt">&lt;item_status&gt;</span>
            <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
            <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
            <span class="nt">&lt;message&gt;</span>Preferences retrieved successfully<span class="nt">&lt;/message&gt;</span>
         <span class="nt">&lt;/item_status&gt;</span>
      <span class="nt">&lt;/customer&gt;</span>
   <span class="nt">&lt;/customers&gt;</span>
<span class="nt">&lt;/response&gt;</span>


</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"customers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5532354"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900000"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom.sawyer@example.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ts1234"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"custom_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"field"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Favorite Color"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Green"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Favorite Brand"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Puma"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Likes"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Shoes"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PREFERRED_STORE"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Store Name"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"
Preferences retrieved successfully
"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Retrieves preferences of a specific customer.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/preferences</code></td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>HTTP Method</td>
<td>GET</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/v1.1/customer/preferences?{customer_identifier}={value}&amp;format={xml/json}</code></p>

<h3 id="request-query-parameters">Request Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Datatype</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Customer Identifier*</td>
<td>enum</td>
<td>Pass any of the customer identifiers to get preferences. Value: <code class="prettyprint">mobile</code>, <code class="prettyprint">email</code>, <code class="prettyprint">external_id</code>, <code class="prettyprint">id</code>.</td>
</tr>
<tr>
<td>value*</td>
<td>string</td>
<td>Pass the respective identifier values.</td>
</tr>
</tbody></table>

<h2 id="retrieve-customer-interactions">Retrieve Customer Interactions</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight html"><code>https://us.api.capillarytech.com/v1.1/customer/interaction?format=xml<span class="err">&amp;</span>mobile=44700900000

</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code>

<span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;response&gt;</span>
   <span class="nt">&lt;status&gt;</span>
      <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
      <span class="nt">&lt;response_code&gt;</span>200<span class="nt">&lt;/response_code&gt;</span>
      <span class="nt">&lt;message&gt;</span>Success<span class="nt">&lt;/message&gt;</span>
   <span class="nt">&lt;/status&gt;</span>
   <span class="nt">&lt;customer&gt;</span>
      <span class="nt">&lt;id&gt;</span>24243<span class="nt">&lt;/id&gt;</span>
      <span class="nt">&lt;mobile&gt;</span>44700900000<span class="nt">&lt;/mobile&gt;</span>
      <span class="nt">&lt;email&gt;</span>tom.sawyer@example.com<span class="nt">&lt;/email&gt;</span>
      <span class="nt">&lt;external_id&gt;</span>ts1234<span class="nt">&lt;/external_id&gt;</span>
      <span class="nt">&lt;interactions&gt;</span>
         <span class="nt">&lt;network&gt;</span>
            <span class="nt">&lt;name&gt;</span>facebook<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;interaction&gt;</span>
               <span class="nt">&lt;type&gt;</span>checkin<span class="nt">&lt;/type&gt;</span>
               <span class="nt">&lt;count&gt;</span>1<span class="nt">&lt;/count&gt;</span>
               <span class="nt">&lt;locs&gt;</span>
                  <span class="nt">&lt;loc&gt;</span>
                     <span class="nt">&lt;lat&gt;</span>22.23<span class="nt">&lt;/lat&gt;</span>
                     <span class="nt">&lt;long&gt;</span>23.33<span class="nt">&lt;/long&gt;</span>
                     <span class="nt">&lt;time&gt;</span>2012-3-12 11:33:23<span class="nt">&lt;/time&gt;</span>
                  <span class="nt">&lt;/loc&gt;</span>
               <span class="nt">&lt;/locs&gt;</span>
            <span class="nt">&lt;/interaction&gt;</span>
         <span class="nt">&lt;/network&gt;</span>
         <span class="nt">&lt;network&gt;</span>
            <span class="nt">&lt;name&gt;</span>twitter<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;interaction&gt;</span>
               <span class="nt">&lt;type&gt;</span>tweet<span class="nt">&lt;/type&gt;</span>
               <span class="nt">&lt;count&gt;</span>10<span class="nt">&lt;/count&gt;</span>
            <span class="nt">&lt;/interaction&gt;</span>
            <span class="nt">&lt;interaction&gt;</span>
               <span class="nt">&lt;type&gt;</span>retweet<span class="nt">&lt;/type&gt;</span>
               <span class="nt">&lt;count&gt;</span>5<span class="nt">&lt;/count&gt;</span>
            <span class="nt">&lt;/interaction&gt;</span>
         <span class="nt">&lt;/network&gt;</span>
         <span class="nt">&lt;network&gt;</span>
            <span class="nt">&lt;name&gt;</span>capillary<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;interaction&gt;</span>
               <span class="nt">&lt;type&gt;</span>email<span class="nt">&lt;/type&gt;</span>
               <span class="nt">&lt;count&gt;</span>1<span class="nt">&lt;/count&gt;</span>
               <span class="nt">&lt;messages&gt;</span>
                  <span class="nt">&lt;message&gt;</span>
                     <span class="nt">&lt;id&gt;</span>554<span class="nt">&lt;/id&gt;</span>
                     <span class="nt">&lt;sender&gt;</span>abc@xyz.com<span class="nt">&lt;/sender&gt;</span>
                     <span class="nt">&lt;receiver&gt;</span>def@xyz.com<span class="nt">&lt;/receiver&gt;</span>
                     <span class="nt">&lt;subject&gt;</span>Sample subject<span class="nt">&lt;/subject&gt;</span>
                     <span class="nt">&lt;sent_time&gt;</span>45837-06-15 02:56:40<span class="nt">&lt;/sent_time&gt;</span>
                     <span class="nt">&lt;delivered_time</span> <span class="nt">/&gt;</span>
                     <span class="nt">&lt;status&gt;</span>SENT<span class="nt">&lt;/status&gt;</span>
                  <span class="nt">&lt;/message&gt;</span>
               <span class="nt">&lt;/messages&gt;</span>
            <span class="nt">&lt;/interaction&gt;</span>
            <span class="nt">&lt;interaction&gt;</span>
               <span class="nt">&lt;type&gt;</span>sms<span class="nt">&lt;/type&gt;</span>
               <span class="nt">&lt;count&gt;</span>1<span class="nt">&lt;/count&gt;</span>
               <span class="nt">&lt;messages&gt;</span>
                  <span class="nt">&lt;message&gt;</span>
                     <span class="nt">&lt;id&gt;</span>555<span class="nt">&lt;/id&gt;</span>
                     <span class="nt">&lt;sender&gt;</span>918867702348<span class="nt">&lt;/sender&gt;</span>
                     <span class="nt">&lt;receiver&gt;</span>918867702349<span class="nt">&lt;/receiver&gt;</span>
                     <span class="nt">&lt;subject&gt;</span>Example subject<span class="nt">&lt;/subject&gt;</span>
                     <span class="nt">&lt;sent_time&gt;</span>45837-06-15 02:56:40<span class="nt">&lt;/sent_time&gt;</span>
                  <span class="nt">&lt;/message&gt;</span>
               <span class="nt">&lt;/messages&gt;</span>
            <span class="nt">&lt;/interaction&gt;</span>
            <span class="nt">&lt;interaction&gt;</span>
               <span class="nt">&lt;type&gt;</span>survey<span class="nt">&lt;/type&gt;</span>
               <span class="nt">&lt;latest_nps_score&gt;</span>9<span class="nt">&lt;/latest_nps_score&gt;</span>
               <span class="nt">&lt;latest_survey_name&gt;</span>Customer Satisfaction Survey 5<span class="nt">&lt;/latest_survey_name&gt;</span>
               <span class="nt">&lt;latest_survey_interaction_time&gt;</span>2013-12-16 12:14:37<span class="nt">&lt;/latest_survey_interaction_time&gt;</span>
               <span class="nt">&lt;surveys&gt;</span>
                  <span class="nt">&lt;survey&gt;</span>
                     <span class="nt">&lt;name&gt;</span>Customer Satisfaction Survey<span class="nt">&lt;/name&gt;</span>
                     <span class="nt">&lt;nps_score&gt;</span>9<span class="nt">&lt;/nps_score&gt;</span>
                     <span class="nt">&lt;sent_by&gt;</span>Nayan Kumar<span class="nt">&lt;/sent_by&gt;</span>
                     <span class="nt">&lt;response_url</span> <span class="nt">/&gt;</span>
                     <span class="nt">&lt;sent_time&gt;</span>2013-11-20 12:56:55<span class="nt">&lt;/sent_time&gt;</span>
                     <span class="nt">&lt;completion_time&gt;</span>2013-11-14 13:23:05<span class="nt">&lt;/completion_time&gt;</span>
                  <span class="nt">&lt;/survey&gt;</span>
                  <span class="nt">&lt;survey&gt;</span>
                     <span class="nt">&lt;name&gt;</span>Customer Satisfaction Survey<span class="nt">&lt;/name&gt;</span>
                     <span class="nt">&lt;nps_score&gt;</span>10<span class="nt">&lt;/nps_score&gt;</span>
                     <span class="nt">&lt;sent_by&gt;</span>Shilpa<span class="nt">&lt;/sent_by&gt;</span>
                     <span class="nt">&lt;response_url</span> <span class="nt">/&gt;</span>
                     <span class="nt">&lt;sent_time&gt;</span>2013-12-11 11:43:55<span class="nt">&lt;/sent_time&gt;</span>
                     <span class="nt">&lt;completion_time&gt;</span>2013-12-11 11:43:55<span class="nt">&lt;/completion_time&gt;</span>
                  <span class="nt">&lt;/survey&gt;</span>
                  <span class="nt">&lt;survey&gt;</span>
                     <span class="nt">&lt;name&gt;</span>Customer Feedback<span class="nt">&lt;/name&gt;</span>
                     <span class="nt">&lt;nps_score&gt;</span>9<span class="nt">&lt;/nps_score&gt;</span>
                     <span class="nt">&lt;sent_by&gt;</span>Shilpa<span class="nt">&lt;/sent_by&gt;</span>
                     <span class="nt">&lt;response_url&gt;</span>https://survey-devint.capillary.in?sc=O5JHLN95<span class="ni">&amp;amp;</span>sfc=14<span class="ni">&amp;amp;</span>t=R0C9I313<span class="ni">&amp;amp;</span>u=true<span class="nt">&lt;/response_url&gt;</span>
                     <span class="nt">&lt;sent_time&gt;</span>2013-12-11 12:17:13<span class="nt">&lt;/sent_time&gt;</span>
                     <span class="nt">&lt;completion_time&gt;</span>2013-12-11 12:17:13<span class="nt">&lt;/completion_time&gt;</span>
                  <span class="nt">&lt;/survey&gt;</span>
                  <span class="nt">&lt;survey&gt;</span>
                     <span class="nt">&lt;name&gt;</span>Customer Review<span class="nt">&lt;/name&gt;</span>
                     <span class="nt">&lt;nps_score&gt;</span>8<span class="nt">&lt;/nps_score&gt;</span>
                     <span class="nt">&lt;sent_by&gt;</span>Shilpa<span class="nt">&lt;/sent_by&gt;</span>
                     <span class="nt">&lt;response_url&gt;</span>https://survey-devint.capillary.in?sc=O5JHLN95<span class="ni">&amp;amp;</span>sfc=1<span class="ni">&amp;amp;</span>t=7Q81C41Z<span class="ni">&amp;amp;</span>u=true<span class="nt">&lt;/response_url&gt;</span>
                     <span class="nt">&lt;sent_time&gt;</span>2013-12-13 15:22:48<span class="nt">&lt;/sent_time&gt;</span>
                     <span class="nt">&lt;completion_time&gt;</span>2013-12-13 15:22:48<span class="nt">&lt;/completion_time&gt;</span>
                  <span class="nt">&lt;/survey&gt;</span>
                  <span class="nt">&lt;survey&gt;</span>
                     <span class="nt">&lt;name&gt;</span>Customer Satisfaction Survey 5<span class="nt">&lt;/name&gt;</span>
                     <span class="nt">&lt;nps_score&gt;</span>9<span class="nt">&lt;/nps_score&gt;</span>
                     <span class="nt">&lt;sent_by&gt;</span>Shilpa<span class="nt">&lt;/sent_by&gt;</span>
                     <span class="nt">&lt;response_url&gt;</span>https://survey-devint.capillary.in?sc=O5JHLN95<span class="ni">&amp;amp;</span>sfc=93<span class="ni">&amp;amp;</span>t=3LWIXC9Y<span class="ni">&amp;amp;</span>u=true<span class="nt">&lt;/response_url&gt;</span>
                     <span class="nt">&lt;sent_time&gt;</span>2013-12-16 12:14:37<span class="nt">&lt;/sent_time&gt;</span>
                     <span class="nt">&lt;completion_time&gt;</span>2013-12-16 12:14:37<span class="nt">&lt;/completion_time&gt;</span>
                  <span class="nt">&lt;/survey&gt;</span>
               <span class="nt">&lt;/surveys&gt;</span>
               <span class="nt">&lt;count&gt;</span>5<span class="nt">&lt;/count&gt;</span>
            <span class="nt">&lt;/interaction&gt;</span>
         <span class="nt">&lt;/network&gt;</span>
      <span class="nt">&lt;/interactions&gt;</span>
   <span class="nt">&lt;/customer&gt;</span>
<span class="nt">&lt;/response&gt;</span>


</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"response_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24243"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900000"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom.sawyer@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ts1234"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"interactions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"network"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"facebook"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"interaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"checkin"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"locs"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"loc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nt">"lat"</span><span class="p">:</span><span class="w"> </span><span class="s2">"22.23"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"long"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23.33"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-3-12 11:33:23"</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"twitter"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"interaction"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tweet"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"retweet"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capillary"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"interaction"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"messages"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"554"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"sender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc@xyz.com"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"receiver"</span><span class="p">:</span><span class="w"> </span><span class="s2">"
def@xyz.com
"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"subject"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample subject"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"sent_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"45837-06-15 02:56:40"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SENT"</span><span class="w">
                  </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sms"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"messages"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"sender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"918867702348"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"receiver"</span><span class="p">:</span><span class="w"> </span><span class="s2">"
918867702349
"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"subject"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Example subject"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"sent_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"45837-06-15 02:56:40"</span><span class="w">
                  </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"survey"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"latest_nps_score"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"latest_survey_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Customer Satisfaction Survey 5"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"latest_survey_interaction_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-12-16 12:14:37"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"surveys"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nt">"survey"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Customer Satisfaction Survey"</span><span class="p">,</span><span class="w">
                      </span><span class="nt">"nps_score"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9"</span><span class="p">,</span><span class="w">
                      </span><span class="nt">"sent_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nayan Kumar"</span><span class="p">,</span><span class="w">
                      </span><span class="nt">"sent_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-11-20 12:56:55"</span><span class="p">,</span><span class="w">
                      </span><span class="nt">"completion_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-11-14 13:23:05"</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Customer Satisfaction Survey"</span><span class="p">,</span><span class="w">
                      </span><span class="nt">"nps_score"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
                      </span><span class="nt">"sent_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Shilpa "</span><span class="p">,</span><span class="w">
                      </span><span class="nt">"sent_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-12-11 11:43:55"</span><span class="p">,</span><span class="w">
                      </span><span class="nt">"completion_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-12-11 11:43:55"</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Customer Feedback"</span><span class="p">,</span><span class="w">
                      </span><span class="nt">"nps_score"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9"</span><span class="p">,</span><span class="w">
                      </span><span class="nt">"sent_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Shilpa "</span><span class="p">,</span><span class="w">
                      </span><span class="nt">"response_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://survey-devint.capillary.in?sc=O5JHLN95&amp;sfc=14&amp;t=R0C9I313&amp;u=true"</span><span class="p">,</span><span class="w">
                      </span><span class="nt">"sent_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-12-11 12:17:13"</span><span class="p">,</span><span class="w">
                      </span><span class="nt">"completion_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-12-11 12:17:13"</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Customer Review"</span><span class="p">,</span><span class="w">
                      </span><span class="nt">"nps_score"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w">
                      </span><span class="nt">"sent_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Shilpa "</span><span class="p">,</span><span class="w">
                      </span><span class="nt">"response_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://survey-devint.capillary.in?sc=O5JHLN95&amp;sfc=1&amp;t=7Q81C41Z&amp;u=true"</span><span class="p">,</span><span class="w">
                      </span><span class="nt">"sent_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-12-13 15:22:48"</span><span class="p">,</span><span class="w">
                      </span><span class="nt">"completion_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-12-13 15:22:48"</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Customer Satisfaction Survey 5"</span><span class="p">,</span><span class="w">
                      </span><span class="nt">"nps_score"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9"</span><span class="p">,</span><span class="w">
                      </span><span class="nt">"sent_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Shilpa "</span><span class="p">,</span><span class="w">
                      </span><span class="nt">"response_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://survey-devint.capillary.in?sc=O5JHLN95&amp;sfc=93&amp;t=3LWIXC9Y&amp;u=true"</span><span class="p">,</span><span class="w">
                      </span><span class="nt">"sent_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-12-16 12:14:37"</span><span class="p">,</span><span class="w">
                      </span><span class="nt">"completion_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-12-16 12:14:37"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                  </span><span class="p">]</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Lets you to fetch store interactions with a specific customer. This includes SMSs, emails, sent to the customer; missed calls received from the customer&rsquo;s registered mobile number; and surveys submitted by the customer.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/interaction</code></td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>HTTP Method</td>
<td>GET</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/v1.1/customer/interaction?{customer_identifier}={value}&amp;{params}&amp;format={xml/json}</code></p>

<h3 id="request-query-parameters">Request Query Parameters</h3>

<p>Parameter | Datatype | Description
&mdash;&mdash;&mdash; | &mdash;&mdash;&mdash;&ndash;
Customer Identifier* | enum | Pass any of the identifiers of the customer to retrieve interactions. Value: <code class="prettyprint">mobile</code>, <code class="prettyprint">email</code>, <code class="prettyprint">external_id</code>, <code class="prettyprint">id</code>.
value* | string | Pass the respective identifier value.
network | enum | Filter results by communication network. Values: <code class="prettyprint">facebook</code>, <code class="prettyprint">twitter</code>, <code class="prettyprint">foursquare</code>, <code class="prettyprint">capillary</code>.
type | enum | Filter results by interaction type. Values: <code class="prettyprint">email</code> (for transaction email), <code class="prettyprint">emailbulk</code> (for bulk email), <code class="prettyprint">checkin</code> (applicable only for foursquare/facebook), <code class="prettyprint">like</code>, <code class="prettyprint">comment</code> (for facebook); <code class="prettyprint">mention</code>, <code class="prettyprint">retweet</code>, <code class="prettyprint">tweet</code> (only for Twitter network); <code class="prettyprint">feedback</code> (only for Capillary).
start_date | date | Specify the duration for which you want to see the customer interactions in <code class="prettyprint">start_date</code> and <code class="prettyprint">end_date</code>.
end_date | date  | Specify the duration for which you want to see the customer interactions in <code class="prettyprint">start_date</code> and <code class="prettyprint">end_date</code>.</p>

<h2 id="update-subscription-details">Update Subscription Details</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight html"><code>
https://us.api.capillarytech.com/v1.1/customer/subscriptions?format=json
</code></pre>
<blockquote>
<p>Sample POST Request</p>
</blockquote>
<pre class="highlight xml"><code>
<span class="nt">&lt;root&gt;</span>
    <span class="nt">&lt;subscription&gt;</span>
        <span class="nt">&lt;email&gt;</span>tom.sawyer@example.com<span class="nt">&lt;/email&gt;</span>
        <span class="nt">&lt;priority&gt;</span>bulk<span class="nt">&lt;/priority&gt;</span>
        <span class="nt">&lt;scope&gt;</span>all<span class="nt">&lt;/scope&gt;</span>
        <span class="c">&lt;!-- Multiple scope as csv is supported --&gt;</span>
        <span class="nt">&lt;channel&gt;</span>email<span class="nt">&lt;/channel&gt;</span>
        <span class="nt">&lt;is_subscribed&gt;</span>0<span class="nt">&lt;/is_subscribed&gt;</span>
    <span class="nt">&lt;/subscription&gt;</span>
    <span class="nt">&lt;subscription&gt;</span>
        <span class="nt">&lt;email&gt;</span>tom.sawyer@example.com<span class="nt">&lt;/email&gt;</span>
        <span class="nt">&lt;priority&gt;</span>bulk<span class="nt">&lt;/priority&gt;</span>
        <span class="nt">&lt;scope&gt;</span>all<span class="nt">&lt;/scope&gt;</span>
        <span class="nt">&lt;channel&gt;</span>sms<span class="nt">&lt;/channel&gt;</span>
        <span class="nt">&lt;is_subscribed&gt;</span>0<span class="nt">&lt;/is_subscribed&gt;</span>
    <span class="nt">&lt;/subscription&gt;</span>
<span class="nt">&lt;/root&gt;</span>

</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"root"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"subscription"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom.sawyer@example.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"priority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bulk"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"scope"</span><span class="p">:</span><span class="w"> </span><span class="s2">"all"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"is_subscribed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom.sawyer@example.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"priority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bulk"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"scope"</span><span class="p">:</span><span class="w"> </span><span class="s2">"all"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sms"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"is_subscribed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="nt">&lt;response&gt;</span>
    <span class="nt">&lt;status&gt;</span>
        <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
        <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/status&gt;</span>
    <span class="nt">&lt;subscriptions&gt;</span>
        <span class="nt">&lt;subscription&gt;</span>
            <span class="nt">&lt;user_id&gt;</span>608<span class="nt">&lt;/user_id&gt;</span>
            <span class="nt">&lt;email&gt;</span>tom.sawyer@example.com<span class="nt">&lt;/email&gt;</span>
            <span class="c">&lt;!-- Will have the same identifier passed in the request --&gt;</span>
            <span class="nt">&lt;channel&gt;</span>EMAIL<span class="nt">&lt;/channel&gt;</span>
            <span class="nt">&lt;priority&gt;</span>BULK<span class="nt">&lt;/priority&gt;</span>
            <span class="nt">&lt;scope&gt;</span>ALL<span class="nt">&lt;/scope&gt;</span>
            <span class="nt">&lt;is_subscribed&gt;</span>0<span class="nt">&lt;/is_subscribed&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
                <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
                <span class="nt">&lt;code&gt;</span>1000<span class="nt">&lt;/code&gt;</span>
                <span class="nt">&lt;message&gt;</span>Subscription successfully updated<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
        <span class="nt">&lt;/subscription&gt;</span>
        <span class="nt">&lt;subscription&gt;</span>
            <span class="nt">&lt;user_id&gt;</span>608<span class="nt">&lt;/user_id&gt;</span>
            <span class="nt">&lt;email&gt;</span>tom.sawyer@example.com<span class="nt">&lt;/email&gt;</span>
            <span class="nt">&lt;channel&gt;</span>SMS<span class="nt">&lt;/channel&gt;</span>
            <span class="nt">&lt;priority&gt;</span>BULK<span class="nt">&lt;/priority&gt;</span>
            <span class="nt">&lt;scope&gt;</span>ALL<span class="nt">&lt;/scope&gt;</span>
            <span class="nt">&lt;is_subscribed&gt;</span>0<span class="nt">&lt;/is_subscribed&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
                <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
                <span class="nt">&lt;code&gt;</span>1000<span class="nt">&lt;/code&gt;</span>
                <span class="nt">&lt;message&gt;</span>Subscription successfully updated<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
        <span class="nt">&lt;/subscription&gt;</span>
    <span class="nt">&lt;/subscriptions&gt;</span>
<span class="nt">&lt;/response&gt;</span>

</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"subscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"subscription"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"608"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom.sawyer@example.com"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EMAIL"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"priority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BULK"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"scope"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ALL"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"is_subscribed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Subscription successfully updated"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"608"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom.sawyer@example.com"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SMS"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"priority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRANS"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"scope"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ALL"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"is_subscribed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Subscription successfully updated"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This API allows you to update sms/email subscription statuses of a customer.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/subscriptions</code></td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>HTTP Method</td>
<td>POST</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/v1.1/customer/subscriptions?format={xml/json}</code></p>

<h3 id="request-body-parameters">Request Body Parameters</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Datatype</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>mobile/email/external_id/id*</td>
<td>Provide any of the customer identifiers to update subscription details.</td>
<td></td>
</tr>
<tr>
<td>priority*</td>
<td>enum</td>
<td>Specify the service that you want to update. Value: <code class="prettyprint">TRANS</code> for personalized messages, and <code class="prettyprint">BULK</code> for campaign or promotional messages.</td>
</tr>
<tr>
<td>scope</td>
<td>enum</td>
<td>Set scope to &lsquo;all&rsquo; always.</td>
</tr>
<tr>
<td>channel*</td>
<td>enum</td>
<td>Pass the communication channel that you want to update. Value: <code class="prettyprint">sms</code>, <code class="prettyprint">email</code>.</td>
</tr>
<tr>
<td>is_subscribed*</td>
<td>enum</td>
<td>Specify <code class="prettyprint">0</code> to unsubscribe, <code class="prettyprint">1</code> to subscribe.</td>
</tr>
</tbody></table>

<aside class="notice"> Parameters marked with * are mandatory. </aside>

<h2 id="retrieve-subscription-details">Retrieve Subscription Details</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight html"><code>https://nightly.capillary.in/v1.1/customer/subscriptions?mobile=447700900000,919999000012

</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code>

<span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;root&gt;</span>
   <span class="nt">&lt;response&gt;</span>
      <span class="nt">&lt;status&gt;</span>
         <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
         <span class="nt">&lt;message&gt;</span>Success<span class="nt">&lt;/message&gt;</span>
         <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
      <span class="nt">&lt;/status&gt;</span>
      <span class="nt">&lt;subscriptions&gt;</span>
         <span class="nt">&lt;subscription&gt;</span>
            <span class="nt">&lt;element&gt;</span>
               <span class="nt">&lt;channel&gt;</span>
                  <span class="nt">&lt;element&gt;</span>
                     <span class="nt">&lt;name&gt;</span>SMS<span class="nt">&lt;/name&gt;</span>
                     <span class="nt">&lt;priority&gt;</span>
                        <span class="nt">&lt;element&gt;</span>
                           <span class="nt">&lt;name&gt;</span>TRANS<span class="nt">&lt;/name&gt;</span>
                           <span class="nt">&lt;subscribed&gt;</span>ALL<span class="nt">&lt;/subscribed&gt;</span>
                           <span class="nt">&lt;unsubscribed</span> <span class="nt">/&gt;</span>
                           <span class="nt">&lt;user_preference&gt;</span>SUBSCRIBED<span class="nt">&lt;/user_preference&gt;</span>
                        <span class="nt">&lt;/element&gt;</span>
                        <span class="nt">&lt;element&gt;</span>
                           <span class="nt">&lt;name&gt;</span>BULK<span class="nt">&lt;/name&gt;</span>
                           <span class="nt">&lt;subscribed</span> <span class="nt">/&gt;</span>
                           <span class="nt">&lt;unsubscribed&gt;</span>ALL<span class="nt">&lt;/unsubscribed&gt;</span>
                           <span class="nt">&lt;user_preference&gt;</span>UNSUBSCRIBED<span class="nt">&lt;/user_preference&gt;</span>
                        <span class="nt">&lt;/element&gt;</span>
                     <span class="nt">&lt;/priority&gt;</span>
                  <span class="nt">&lt;/element&gt;</span>
                  <span class="nt">&lt;element&gt;</span>
                     <span class="nt">&lt;name&gt;</span>POSTMAIL<span class="nt">&lt;/name&gt;</span>
                     <span class="nt">&lt;priority&gt;</span>
                        <span class="nt">&lt;element&gt;</span>
                           <span class="nt">&lt;name&gt;</span>TRANS<span class="nt">&lt;/name&gt;</span>
                           <span class="nt">&lt;subscribed&gt;</span>ALL<span class="nt">&lt;/subscribed&gt;</span>
                           <span class="nt">&lt;unsubscribed</span> <span class="nt">/&gt;</span>
                           <span class="nt">&lt;user_preference&gt;</span>NOT_SET<span class="nt">&lt;/user_preference&gt;</span>
                        <span class="nt">&lt;/element&gt;</span>
                        <span class="nt">&lt;element&gt;</span>
                           <span class="nt">&lt;name&gt;</span>BULK<span class="nt">&lt;/name&gt;</span>
                           <span class="nt">&lt;subscribed&gt;</span>ALL<span class="nt">&lt;/subscribed&gt;</span>
                           <span class="nt">&lt;unsubscribed</span> <span class="nt">/&gt;</span>
                           <span class="nt">&lt;user_preference&gt;</span>NOT_SET<span class="nt">&lt;/user_preference&gt;</span>
                        <span class="nt">&lt;/element&gt;</span>
                     <span class="nt">&lt;/priority&gt;</span>
                  <span class="nt">&lt;/element&gt;</span>
                  <span class="nt">&lt;element&gt;</span>
                     <span class="nt">&lt;name&gt;</span>EMAIL<span class="nt">&lt;/name&gt;</span>
                     <span class="nt">&lt;priority&gt;</span>
                        <span class="nt">&lt;element&gt;</span>
                           <span class="nt">&lt;name&gt;</span>TRANS<span class="nt">&lt;/name&gt;</span>
                           <span class="nt">&lt;subscribed&gt;</span>ALL<span class="nt">&lt;/subscribed&gt;</span>
                           <span class="nt">&lt;unsubscribed</span> <span class="nt">/&gt;</span>
                           <span class="nt">&lt;user_preference&gt;</span>SUBSCRIBED<span class="nt">&lt;/user_preference&gt;</span>
                        <span class="nt">&lt;/element&gt;</span>
                        <span class="nt">&lt;element&gt;</span>
                           <span class="nt">&lt;name&gt;</span>BULK<span class="nt">&lt;/name&gt;</span>
                           <span class="nt">&lt;subscribed</span> <span class="nt">/&gt;</span>
                           <span class="nt">&lt;unsubscribed&gt;</span>ALL<span class="nt">&lt;/unsubscribed&gt;</span>
                           <span class="nt">&lt;user_preference&gt;</span>UNSUBSCRIBED<span class="nt">&lt;/user_preference&gt;</span>
                        <span class="nt">&lt;/element&gt;</span>
                     <span class="nt">&lt;/priority&gt;</span>
                  <span class="nt">&lt;/element&gt;</span>
               <span class="nt">&lt;/channel&gt;</span>
               <span class="nt">&lt;email&gt;</span>tom.sawyer@example.com<span class="nt">&lt;/email&gt;</span>
               <span class="nt">&lt;external_id&gt;</span>XYPZ001<span class="nt">&lt;/external_id&gt;</span>
               <span class="nt">&lt;item_status&gt;</span>
                  <span class="nt">&lt;code&gt;</span>1000<span class="nt">&lt;/code&gt;</span>
                  <span class="nt">&lt;message&gt;</span>Subscription successfully retrieved<span class="nt">&lt;/message&gt;</span>
                  <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
               <span class="nt">&lt;/item_status&gt;</span>
               <span class="nt">&lt;mobile&gt;</span>447700900000<span class="nt">&lt;/mobile&gt;</span>
               <span class="nt">&lt;orgUnitSubscriptions</span> <span class="nt">/&gt;</span>
               <span class="nt">&lt;user_id&gt;</span>29372667<span class="nt">&lt;/user_id&gt;</span>
            <span class="nt">&lt;/element&gt;</span>
            <span class="nt">&lt;element&gt;</span>
               <span class="nt">&lt;channel&gt;</span>
                  <span class="nt">&lt;element&gt;</span>
                     <span class="nt">&lt;name&gt;</span>SMS<span class="nt">&lt;/name&gt;</span>
                     <span class="nt">&lt;priority&gt;</span>
                        <span class="nt">&lt;element&gt;</span>
                           <span class="nt">&lt;name&gt;</span>TRANS<span class="nt">&lt;/name&gt;</span>
                           <span class="nt">&lt;subscribed&gt;</span>ALL<span class="nt">&lt;/subscribed&gt;</span>
                           <span class="nt">&lt;unsubscribed</span> <span class="nt">/&gt;</span>
                           <span class="nt">&lt;user_preference&gt;</span>NOT_SET<span class="nt">&lt;/user_preference&gt;</span>
                        <span class="nt">&lt;/element&gt;</span>
                        <span class="nt">&lt;element&gt;</span>
                           <span class="nt">&lt;name&gt;</span>BULK<span class="nt">&lt;/name&gt;</span>
                           <span class="nt">&lt;subscribed&gt;</span>ALL<span class="nt">&lt;/subscribed&gt;</span>
                           <span class="nt">&lt;unsubscribed</span> <span class="nt">/&gt;</span>
                           <span class="nt">&lt;user_preference&gt;</span>NOT_SET<span class="nt">&lt;/user_preference&gt;</span>
                        <span class="nt">&lt;/element&gt;</span>
                     <span class="nt">&lt;/priority&gt;</span>
                  <span class="nt">&lt;/element&gt;</span>
                  <span class="nt">&lt;element&gt;</span>
                     <span class="nt">&lt;name&gt;</span>POSTMAIL<span class="nt">&lt;/name&gt;</span>
                     <span class="nt">&lt;priority&gt;</span>
                        <span class="nt">&lt;element&gt;</span>
                           <span class="nt">&lt;name&gt;</span>TRANS<span class="nt">&lt;/name&gt;</span>
                           <span class="nt">&lt;subscribed&gt;</span>ALL<span class="nt">&lt;/subscribed&gt;</span>
                           <span class="nt">&lt;unsubscribed</span> <span class="nt">/&gt;</span>
                           <span class="nt">&lt;user_preference&gt;</span>NOT_SET<span class="nt">&lt;/user_preference&gt;</span>
                        <span class="nt">&lt;/element&gt;</span>
                        <span class="nt">&lt;element&gt;</span>
                           <span class="nt">&lt;name&gt;</span>BULK<span class="nt">&lt;/name&gt;</span>
                           <span class="nt">&lt;subscribed&gt;</span>ALL<span class="nt">&lt;/subscribed&gt;</span>
                           <span class="nt">&lt;unsubscribed</span> <span class="nt">/&gt;</span>
                           <span class="nt">&lt;user_preference&gt;</span>NOT_SET<span class="nt">&lt;/user_preference&gt;</span>
                        <span class="nt">&lt;/element&gt;</span>
                     <span class="nt">&lt;/priority&gt;</span>
                  <span class="nt">&lt;/element&gt;</span>
                  <span class="nt">&lt;element&gt;</span>
                     <span class="nt">&lt;name&gt;</span>EMAIL<span class="nt">&lt;/name&gt;</span>
                     <span class="nt">&lt;priority&gt;</span>
                        <span class="nt">&lt;element&gt;</span>
                           <span class="nt">&lt;name&gt;</span>TRANS<span class="nt">&lt;/name&gt;</span>
                           <span class="nt">&lt;subscribed&gt;</span>ALL<span class="nt">&lt;/subscribed&gt;</span>
                           <span class="nt">&lt;unsubscribed</span> <span class="nt">/&gt;</span>
                           <span class="nt">&lt;user_preference&gt;</span>NOT_SET<span class="nt">&lt;/user_preference&gt;</span>
                        <span class="nt">&lt;/element&gt;</span>
                        <span class="nt">&lt;element&gt;</span>
                           <span class="nt">&lt;name&gt;</span>BULK<span class="nt">&lt;/name&gt;</span>
                           <span class="nt">&lt;subscribed&gt;</span>ALL<span class="nt">&lt;/subscribed&gt;</span>
                           <span class="nt">&lt;unsubscribed</span> <span class="nt">/&gt;</span>
                           <span class="nt">&lt;user_preference&gt;</span>NOT_SET<span class="nt">&lt;/user_preference&gt;</span>
                        <span class="nt">&lt;/element&gt;</span>
                     <span class="nt">&lt;/priority&gt;</span>
                  <span class="nt">&lt;/element&gt;</span>
               <span class="nt">&lt;/channel&gt;</span>
               <span class="nt">&lt;item_status&gt;</span>
                  <span class="nt">&lt;code&gt;</span>1000<span class="nt">&lt;/code&gt;</span>
                  <span class="nt">&lt;message&gt;</span>Subscription successfully retrieved<span class="nt">&lt;/message&gt;</span>
                  <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
               <span class="nt">&lt;/item_status&gt;</span>
               <span class="nt">&lt;mobile&gt;</span>919999000012<span class="nt">&lt;/mobile&gt;</span>
               <span class="nt">&lt;orgUnitSubscriptions</span> <span class="nt">/&gt;</span>
               <span class="nt">&lt;user_id&gt;</span>343040815<span class="nt">&lt;/user_id&gt;</span>
            <span class="nt">&lt;/element&gt;</span>
         <span class="nt">&lt;/subscription&gt;</span>
      <span class="nt">&lt;/subscriptions&gt;</span>
   <span class="nt">&lt;/response&gt;</span>
<span class="nt">&lt;/root&gt;</span>



</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
            </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"subscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"subscription"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29372667"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"447700900000"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom.sawyer@example.com"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XYPZ001"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"channel"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="p">{</span><span class="w">
                            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SMS"</span><span class="p">,</span><span class="w">
                            </span><span class="nt">"priority"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                                </span><span class="p">{</span><span class="w">
                                    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRANS"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"subscribed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ALL"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"unsubscribed"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"user_preference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUBSCRIBED"</span><span class="w">
                                </span><span class="p">},</span><span class="w">
                                </span><span class="p">{</span><span class="w">
                                    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BULK"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"subscribed"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"unsubscribed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ALL"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"user_preference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UNSUBSCRIBED"</span><span class="w">
                                </span><span class="p">}</span><span class="w">
                            </span><span class="p">]</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="p">{</span><span class="w">
                            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POSTMAIL"</span><span class="p">,</span><span class="w">
                            </span><span class="nt">"priority"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                                </span><span class="p">{</span><span class="w">
                                    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRANS"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"subscribed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ALL"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"unsubscribed"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"user_preference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOT_SET"</span><span class="w">
                                </span><span class="p">},</span><span class="w">
                                </span><span class="p">{</span><span class="w">
                                    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BULK"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"subscribed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ALL"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"unsubscribed"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"user_preference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOT_SET"</span><span class="w">
                                </span><span class="p">}</span><span class="w">
                            </span><span class="p">]</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="p">{</span><span class="w">
                            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EMAIL"</span><span class="p">,</span><span class="w">
                            </span><span class="nt">"priority"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                                </span><span class="p">{</span><span class="w">
                                    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRANS"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"subscribed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ALL"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"unsubscribed"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"user_preference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUBSCRIBED"</span><span class="w">
                                </span><span class="p">},</span><span class="w">
                                </span><span class="p">{</span><span class="w">
                                    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BULK"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"subscribed"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"unsubscribed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ALL"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"user_preference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UNSUBSCRIBED"</span><span class="w">
                                </span><span class="p">}</span><span class="w">
                            </span><span class="p">]</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="nt">"orgUnitSubscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
                    </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Subscription successfully retrieved"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"343040815"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"919999000012"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"channel"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="p">{</span><span class="w">
                            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SMS"</span><span class="p">,</span><span class="w">
                            </span><span class="nt">"priority"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                                </span><span class="p">{</span><span class="w">
                                    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRANS"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"subscribed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ALL"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"unsubscribed"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"user_preference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOT_SET"</span><span class="w">
                                </span><span class="p">},</span><span class="w">
                                </span><span class="p">{</span><span class="w">
                                    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BULK"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"subscribed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ALL"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"unsubscribed"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"user_preference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOT_SET"</span><span class="w">
                                </span><span class="p">}</span><span class="w">
                            </span><span class="p">]</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="p">{</span><span class="w">
                            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POSTMAIL"</span><span class="p">,</span><span class="w">
                            </span><span class="nt">"priority"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                                </span><span class="p">{</span><span class="w">
                                    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRANS"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"subscribed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ALL"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"unsubscribed"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"user_preference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOT_SET"</span><span class="w">
                                </span><span class="p">},</span><span class="w">
                                </span><span class="p">{</span><span class="w">
                                    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BULK"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"subscribed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ALL"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"unsubscribed"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"user_preference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOT_SET"</span><span class="w">
                                </span><span class="p">}</span><span class="w">
                            </span><span class="p">]</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="p">{</span><span class="w">
                            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EMAIL"</span><span class="p">,</span><span class="w">
                            </span><span class="nt">"priority"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                                </span><span class="p">{</span><span class="w">
                                    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRANS"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"subscribed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ALL"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"unsubscribed"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"user_preference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOT_SET"</span><span class="w">
                                </span><span class="p">},</span><span class="w">
                                </span><span class="p">{</span><span class="w">
                                    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BULK"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"subscribed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ALL"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"unsubscribed"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"user_preference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOT_SET"</span><span class="w">
                                </span><span class="p">}</span><span class="w">
                            </span><span class="p">]</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="nt">"orgUnitSubscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
                    </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Subscription successfully retrieved"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<p>Retrieves sms and email subscription details of a customer. You can filter the results by priority and communication channel. To retrieve subscription details of multiple customers, pass each customer identifier separating by comma.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/subscriptions</code></td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>HTTP Method</td>
<td>GET</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/v1.1/customer/subscriptions?{customer_identifier}={value1,value2}format={xml/json}</code></p>

<h3 id="request-query-parameters">Request Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Datatype</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Customer Identifier*</td>
<td>enum</td>
<td>Pass any of the customer identifiers to retrieve subscription details.</td>
</tr>
<tr>
<td>value*</td>
<td>string</td>
<td>Pass the respective identifier values of all customers that you want to retrieve subscription details separating each value with comma. For example, <code class="prettyprint">mobile=918036151000,919999000012</code></td>
</tr>
<tr>
<td>channel</td>
<td>enum</td>
<td>Filter the results by communication channel. Value: <code class="prettyprint">SMS</code>, <code class="prettyprint">EMAIL</code>, <code class="prettyprint">WECHAT</code>, <code class="prettyprint">SOCIAL</code>, <code class="prettyprint">REMINDER_TEXT</code>, <code class="prettyprint">RE_ISSUAL_TEXT</code>, <code class="prettyprint">CLIENT</code>.</td>
</tr>
<tr>
<td>priority</td>
<td>enum</td>
<td>Filter the results by message type. Value: <code class="prettyprint">TRANS</code>, <code class="prettyprint">BULK</code>.</td>
</tr>
<tr>
<td>scope</td>
<td>enum</td>
<td>Pass <code class="prettyprint">scope=ALL</code>. It retrieves the details of all subscription modules. For example, points, coupons, general etc.</td>
</tr>
</tbody></table>

<aside class="notice">Parameters marked with * are mandatory. </aside>

<h2 id="response-codes">Response Codes</h2>

<h3 id="success-codes">Success Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1000</td>
<td>Customer registered successfully.</td>
</tr>
<tr>
<td></td>
<td>Customer retrieved successfully.</td>
</tr>
<tr>
<td></td>
<td>Subscription updated successfully.</td>
</tr>
<tr>
<td></td>
<td>Subscription retrieved successfully</td>
</tr>
<tr>
<td></td>
<td>Customer updated successfully.</td>
</tr>
<tr>
<td></td>
<td>Coupons retrieved successfully.</td>
</tr>
<tr>
<td></td>
<td>Customer notes added/updated successfully</td>
</tr>
<tr>
<td></td>
<td>Customer notes retrieved successfully</td>
</tr>
<tr>
<td></td>
<td>Customer preferences retrieved successfully.</td>
</tr>
<tr>
<td></td>
<td>Customer preferences updated successfully.</td>
</tr>
<tr>
<td>1000</td>
<td>Referral statistics retrieved successfully</td>
</tr>
<tr>
<td></td>
<td>Referrals are invited successfully</td>
</tr>
<tr>
<td>1040</td>
<td>Customer id change request has submitted successfully</td>
</tr>
<tr>
<td>1050</td>
<td>Customer recommendations fetched successfully</td>
</tr>
<tr>
<td>1300</td>
<td>Ticket retrieved successfully</td>
</tr>
<tr>
<td></td>
<td>Ticket added successfully</td>
</tr>
</tbody></table>

<h3 id="error-codes">Error Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1001</td>
<td>Unable to register. Invalid mobile number</td>
</tr>
<tr>
<td>1002</td>
<td>Unable to register. Invalid email id</td>
</tr>
<tr>
<td>1003</td>
<td>Unable to register. Invalid external id</td>
</tr>
<tr>
<td>1004</td>
<td>Failed to populate store</td>
</tr>
<tr>
<td>1005</td>
<td>Unable to register with mobile number</td>
</tr>
<tr>
<td>1006</td>
<td>Mobile number is required</td>
</tr>
<tr>
<td>1007</td>
<td>Invalid Mobile Number/ External ID/ Email ID</td>
</tr>
<tr>
<td>1008/ 1038</td>
<td>Unable to register with external id</td>
</tr>
<tr>
<td>1009</td>
<td>Unable to add registered customer to MLM</td>
</tr>
<tr>
<td>1010</td>
<td>Unable to update loyalty points of the customer</td>
</tr>
<tr>
<td>1011</td>
<td>Cannot find customer for provided identifier</td>
</tr>
<tr>
<td>1012</td>
<td>Cannot find customer for provided mobile/external-id/e-mail</td>
</tr>
<tr>
<td>1013</td>
<td>Customer not registered for Loyalty Program.</td>
</tr>
<tr>
<td>1014</td>
<td>Customer is registered already</td>
</tr>
<tr>
<td>1015</td>
<td>No identifier provided to get loyalty users</td>
</tr>
<tr>
<td>1016</td>
<td>Email provided already exists for some other user</td>
</tr>
<tr>
<td>1017</td>
<td>Provided Custom Field is invalid</td>
</tr>
<tr>
<td>1018</td>
<td>Unable to update custom field</td>
</tr>
<tr>
<td>1019</td>
<td>Mobile number or external id is required along with the email Id to register</td>
</tr>
<tr>
<td>1020</td>
<td>The customer is not registered for loyalty program</td>
</tr>
<tr>
<td>1021</td>
<td>Invalid validation code</td>
</tr>
<tr>
<td>1023</td>
<td>Unable to register customer to loyalty program</td>
</tr>
<tr>
<td>1024</td>
<td>Unable to update customer profile</td>
</tr>
<tr>
<td>1025</td>
<td>Mandatory fields are not matching for customer identity update</td>
</tr>
<tr>
<td>1026</td>
<td>Count of optional fields match is less than required</td>
</tr>
<tr>
<td>1027</td>
<td>Field name provided for verification is invalid</td>
</tr>
<tr>
<td>1028</td>
<td>No customer notes are available</td>
</tr>
<tr>
<td>1029</td>
<td>Unable to retrieve customer preferences</td>
</tr>
<tr>
<td>1030</td>
<td>Unable to update customer preferences</td>
</tr>
<tr>
<td>1031</td>
<td>No preferences set for this customer</td>
</tr>
<tr>
<td>1032</td>
<td>A customer already exists with the same mobile number</td>
</tr>
<tr>
<td>1033</td>
<td>A customer already exists with the same external id</td>
</tr>
<tr>
<td>1034</td>
<td>Registration date is not within the accepted past or future date limit.</td>
</tr>
<tr>
<td>1035</td>
<td>Some customer preferences could not be updated</td>
</tr>
<tr>
<td>1036</td>
<td>Unable to add/update one or more customer notes</td>
</tr>
<tr>
<td>1037</td>
<td>Unable to add/update customer notes</td>
</tr>
<tr>
<td>1039</td>
<td>Email id is required</td>
</tr>
<tr>
<td>1041</td>
<td>Customer id change request failed</td>
</tr>
<tr>
<td>1042</td>
<td>Invalid mobile no/email id/external id</td>
</tr>
<tr>
<td>1043</td>
<td>Customer’s external id is required</td>
</tr>
<tr>
<td>1044</td>
<td>You do not have sufficient permission to view the customer details</td>
</tr>
<tr>
<td>1045</td>
<td>Either mobile number or email id is required</td>
</tr>
<tr>
<td>1046</td>
<td>Loyalty customer cannot be converted to a to a non-loyalty customer is not allowed</td>
</tr>
<tr>
<td>1047</td>
<td>Customer’s mobile number is required to convert to loyalty customer</td>
</tr>
<tr>
<td>1048</td>
<td>Customer’s email id is required to convert to loyalty customer</td>
</tr>
<tr>
<td>1049</td>
<td>Customer’s external id is required to convert to loyalty customer</td>
</tr>
<tr>
<td>1051</td>
<td>Unable to fetch customer recommendations</td>
</tr>
<tr>
<td>1060</td>
<td>Batch limit exceeded</td>
</tr>
<tr>
<td>1061</td>
<td>Invalid fraud status</td>
</tr>
<tr>
<td>1062</td>
<td>Invalid Test &amp; Control Status</td>
</tr>
<tr>
<td>1086</td>
<td>Points processing failed</td>
</tr>
<tr>
<td>1087</td>
<td>Points processing failed</td>
</tr>
<tr>
<td>1088</td>
<td>Unable to issue points. Please report to capillary support</td>
</tr>
<tr>
<td>1089</td>
<td>Points processing failed</td>
</tr>
<tr>
<td>1090</td>
<td>Points processing failed</td>
</tr>
<tr>
<td>1091</td>
<td>Points processing failed</td>
</tr>
<tr>
<td>1092</td>
<td>Points processing failed</td>
</tr>
<tr>
<td>1093</td>
<td>Points processing failed</td>
</tr>
<tr>
<td>1094</td>
<td>Points processing failed</td>
</tr>
<tr>
<td>1095</td>
<td>Points processing failed</td>
</tr>
<tr>
<td>1096</td>
<td>Points processing failed</td>
</tr>
<tr>
<td>1097</td>
<td>Points processing failed</td>
</tr>
<tr>
<td>1098</td>
<td>Points processing failed</td>
</tr>
<tr>
<td>1099</td>
<td>Points processing failed</td>
</tr>
<tr>
<td>1101</td>
<td>Invalid channel type</td>
</tr>
<tr>
<td>1102</td>
<td>Invalid priority type</td>
</tr>
<tr>
<td>1103</td>
<td>Invalid scope</td>
</tr>
<tr>
<td>1104</td>
<td>Invalid identifier or no identifier passed</td>
</tr>
<tr>
<td>1105</td>
<td>Multiple scopes are not allowed</td>
</tr>
<tr>
<td>1106</td>
<td>Invalid subscription status passed</td>
</tr>
<tr>
<td>1107</td>
<td>Invalid campaign id passed</td>
</tr>
<tr>
<td>1108</td>
<td>Invalid outbox id passed</td>
</tr>
<tr>
<td>1109</td>
<td>Unable to fetch subscription details</td>
</tr>
<tr>
<td>1110</td>
<td>Unable  to update subscription details</td>
</tr>
<tr>
<td>1222</td>
<td>Internal error occurred with the referral system</td>
</tr>
<tr>
<td>1202</td>
<td>Invalid campaign token</td>
</tr>
<tr>
<td>1203</td>
<td>Invalid campaign configured</td>
</tr>
<tr>
<td>1204</td>
<td>The customer may not be eligible for the referral program.</td>
</tr>
<tr>
<td>1205</td>
<td>Unable to find the referrer in the specific campaign</td>
</tr>
<tr>
<td>1206</td>
<td>Referral type is not supported</td>
</tr>
<tr>
<td>1222</td>
<td>Internal error occurred with the referral system</td>
</tr>
<tr>
<td>1301</td>
<td>A ticket already exists with the same subject</td>
</tr>
<tr>
<td>1302</td>
<td>Ticket registration failed</td>
</tr>
<tr>
<td>1303</td>
<td>Ticket subject should not be empty</td>
</tr>
</tbody></table>

          <h1 id="transaction">Transaction</h1>

<p>A transaction represents a purchase or return event. Based on the customers&rsquo; loyalty status, transactions are categorized into three types.</p>

<ul>
<li><p><strong>Loyalty Transactions</strong>: Transactions made by registered customers of your organization&rsquo;s loyalty program. A customer can be tagged to a loyalty transaction.</p></li>
<li><p><strong>Non-loyalty Transactions</strong>: Transactions made by customers who are not registered into your loyalty program, but subscribed their mobile number or email id with the organization. These transactions are tagged to the respective identifiers (mobile no/email id)</p></li>
<li><p><strong>Not-interested Transactions</strong>: Transactions made by customers who are not interested to register into your organization’s loyalty program. These transactions are also considered as anonymous transactions. </p></li>
</ul>

<p>Transactions are again classified into the following types:</p>

<ul>
<li><strong>Regular</strong>: Normal transactions made at the PoS. Regular transactions could be loyalty, non-loyalty and not-interested.</li>
<li><strong>Return</strong> : Transactions that are returned at the PoS. Return transactions need an identifier reference. Hence, only loyalty and non-loyalty transactions can be returned through APIs. See Transaction Return API for more details.</li>
<li><strong>Mixed</strong>: A transaction that involves both regular and return is termed as mixed transaction.</li>
</ul>

<p>The transaction entity contains all the necessary APIs to manage transactions and retrieve transaction details. The transaction entity stores regular/return transactions, points/coupons redeemed against transactions, retro transactions (converting not interested transactions to loyalty), extended fields, and custom fields. </p>

<aside class="notice">
Extended fields and custom fields in transactions are used to capture additional information of a transaction or transaction line-item. The extended fields are predefined defined in the system with specific values, whereas, custom fields can have any name and value as required for the org.
</aside>

<h2 id="prerequisites">Prerequisites</h2>

<p>Before using transaction APIs, understand the transaction configurations of your organization. You can see the transaction related settings on InTouch &gt; <strong>Settings</strong> &gt; <strong>Systems &amp; Deployment</strong> &gt; <strong>InTouch PoS Configuration</strong> &gt; <strong>Billing</strong>.</p>

<ul>
<li>Mandatory parameters required to submit a transaction </li>
<li>Whether Retro Transaction is enabled to convert not-interested transactions to regular transactions and the maximum duration for which retro transaction is allowed</li>
<li>Whether Authorization is required for retro transactions</li>
<li>Whether Transaction Return is enabled for your organization (for transaction returns)</li>
<li>Scope of transaction numbers to be unique (store level or TILL level) and duration for which repetition is not allowed (20 days, 30 days etc.)</li>
<li>Maximum and minimum amount allowed per transaction</li>
<li>Maximum and minimum amount allowed per line-item</li>
</ul>

<h2 id="add-transaction">Add Transaction</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight html"><code>https://us.api.capillarytech.com/v1.1/transaction/add?format=json
</code></pre>
<blockquote>
<p>Sample POST Request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"root"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"transaction"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nt">"bill_client_id"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"regular"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"number"</span><span class="p">:</span><span class="s2">"Trans99"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"amount"</span><span class="p">:</span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"currency_code"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"notes"</span><span class="p">:</span><span class="s2">"2 line items"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"billing_time"</span><span class="p">:</span><span class="s2">"2017-04-01"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"gross_amount"</span><span class="p">:</span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"discount"</span><span class="p">:</span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"customer"</span><span class="p">:{</span><span class="w">
               </span><span class="nt">"mobile"</span><span class="p">:</span><span class="s2">"919999000000"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"email"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
               </span><span class="nt">"external_id"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
               </span><span class="nt">"firstname"</span><span class="p">:</span><span class="s2">"Tom"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"lastname"</span><span class="p">:</span><span class="s2">"Sawyer"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"extended_fields"</span><span class="p">:{</span><span class="w">
               </span><span class="nt">"field"</span><span class="p">:[</span><span class="w">
                  </span><span class="p">{</span><span class="w">
                     </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"CentralGST"</span><span class="p">,</span><span class="w">
                     </span><span class="nt">"value"</span><span class="p">:</span><span class="s2">"8.5"</span><span class="w">
                  </span><span class="p">},</span><span class="w">
                  </span><span class="p">{</span><span class="w">
                     </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"cashier_id"</span><span class="p">,</span><span class="w">
                     </span><span class="nt">"value"</span><span class="p">:</span><span class="s2">"12345678"</span><span class="w">
                  </span><span class="p">}</span><span class="w">
               </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"payment_details"</span><span class="p">:{</span><span class="w">
               </span><span class="nt">"payment"</span><span class="p">:[</span><span class="w">
                  </span><span class="p">{</span><span class="w">
                     </span><span class="nt">"mode"</span><span class="p">:</span><span class="s2">"CASH"</span><span class="p">,</span><span class="w">
                     </span><span class="nt">"value"</span><span class="p">:</span><span class="s2">"100"</span><span class="w">
                  </span><span class="p">},</span><span class="w">
                  </span><span class="p">{</span><span class="w">
                     </span><span class="nt">"mode"</span><span class="p">:[</span><span class="w">
                        </span><span class="s2">"CREDIT"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"CHECKAPI"</span><span class="w">
                     </span><span class="p">],</span><span class="w">
                     </span><span class="nt">"value"</span><span class="p">:[</span><span class="w">
                        </span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"500"</span><span class="w">
                     </span><span class="p">],</span><span class="w">
                     </span><span class="nt">"attributes"</span><span class="p">:{</span><span class="w">
                        </span><span class="nt">"attribute"</span><span class="p">:[</span><span class="w">
                           </span><span class="p">{</span><span class="w">
                              </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"BankNameAPI"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"value"</span><span class="p">:</span><span class="s2">"value_602656"</span><span class="w">
                           </span><span class="p">},</span><span class="w">
                           </span><span class="p">{</span><span class="w">
                              </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"branch_nameAPI"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"value"</span><span class="p">:</span><span class="s2">"value_602656"</span><span class="w">
                           </span><span class="p">}</span><span class="w">
                        </span><span class="p">]</span><span class="w">
                     </span><span class="p">},</span><span class="w">
                     </span><span class="nt">"notes"</span><span class="p">:</span><span class="s2">"notes_602656"</span><span class="w">
                  </span><span class="p">}</span><span class="w">
               </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"custom_fields"</span><span class="p">:{</span><span class="w">
               </span><span class="nt">"field"</span><span class="p">:[</span><span class="w">
                  </span><span class="p">{</span><span class="w">
                     </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Bank"</span><span class="p">,</span><span class="w">
                     </span><span class="nt">"value"</span><span class="p">:</span><span class="s2">"SBI"</span><span class="w">
                  </span><span class="p">}</span><span class="w">
               </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"line_items"</span><span class="p">:{</span><span class="w">
               </span><span class="nt">"line_item"</span><span class="p">:[</span><span class="w">
                  </span><span class="p">{</span><span class="w">
                     </span><span class="nt">"serial"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                     </span><span class="nt">"amount"</span><span class="p">:</span><span class="s2">"500"</span><span class="p">,</span><span class="w">
                     </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">"soap"</span><span class="p">,</span><span class="w">
                     </span><span class="nt">"item_code"</span><span class="p">:</span><span class="s2">"skuattr9"</span><span class="p">,</span><span class="w">
                     </span><span class="nt">"extended_fields"</span><span class="p">:{</span><span class="w">
                        </span><span class="nt">"field"</span><span class="p">:[</span><span class="w">
                           </span><span class="p">{</span><span class="w">
                              </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"booking_type"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"value"</span><span class="p">:</span><span class="s2">"Online"</span><span class="w">
                           </span><span class="p">},</span><span class="w">
                           </span><span class="p">{</span><span class="w">
                              </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"MetalRate"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"value"</span><span class="p">:</span><span class="s2">"120.55"</span><span class="w">
                           </span><span class="p">}</span><span class="w">
                        </span><span class="p">]</span><span class="w">
                     </span><span class="p">},</span><span class="w">
                     </span><span class="nt">"variant"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
                     </span><span class="nt">"addon_items"</span><span class="p">:{</span><span class="w">
                        </span><span class="nt">"addon_item"</span><span class="p">:[</span><span class="w">
                           </span><span class="p">{</span><span class="w">
                              </span><span class="nt">"item_code"</span><span class="p">:</span><span class="s2">"Addon-033"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"quantity"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">""</span><span class="w">
                           </span><span class="p">},</span><span class="w">
                           </span><span class="p">{</span><span class="w">
                              </span><span class="nt">"item_code"</span><span class="p">:</span><span class="s2">"Addon-033"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"quantity"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">""</span><span class="w">
                           </span><span class="p">}</span><span class="w">
                        </span><span class="p">]</span><span class="w">
                     </span><span class="p">},</span><span class="w">
                     </span><span class="nt">"combo_items"</span><span class="p">:{</span><span class="w">
                        </span><span class="nt">"combo_item"</span><span class="p">:[</span><span class="w">
                           </span><span class="p">{</span><span class="w">
                              </span><span class="nt">"item_code"</span><span class="p">:</span><span class="s2">"combo-033"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"quantity"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">""</span><span class="w">
                           </span><span class="p">},</span><span class="w">
                           </span><span class="p">{</span><span class="w">
                              </span><span class="nt">"item_code"</span><span class="p">:</span><span class="s2">"combo-033"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"quantity"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">""</span><span class="w">
                           </span><span class="p">}</span><span class="w">
                        </span><span class="p">]</span><span class="w">
                     </span><span class="p">},</span><span class="w">
                     </span><span class="nt">"split_items"</span><span class="p">:{</span><span class="w">
                        </span><span class="nt">"split_item"</span><span class="p">:[</span><span class="w">
                           </span><span class="p">{</span><span class="w">
                              </span><span class="nt">"item_code"</span><span class="p">:</span><span class="s2">"Cheese dip"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"quantity"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">"Cheese dip"</span><span class="w">
                           </span><span class="p">},</span><span class="w">
                           </span><span class="p">{</span><span class="w">
                              </span><span class="nt">"item_code"</span><span class="p">:</span><span class="s2">"Cheese dip"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"quantity"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">"Cheese dip"</span><span class="w">
                           </span><span class="p">}</span><span class="w">
                        </span><span class="p">]</span><span class="w">
                     </span><span class="p">},</span><span class="w">
                     </span><span class="nt">"qty"</span><span class="p">:</span><span class="s2">"50"</span><span class="p">,</span><span class="w">
                     </span><span class="nt">"rate"</span><span class="p">:</span><span class="s2">"10"</span><span class="p">,</span><span class="w">
                     </span><span class="nt">"value"</span><span class="p">:</span><span class="s2">"500"</span><span class="p">,</span><span class="w">
                     </span><span class="nt">"attributes"</span><span class="p">:{</span><span class="w">
                        </span><span class="nt">"attribute"</span><span class="p">:{</span><span class="w">
                           </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"brand"</span><span class="p">,</span><span class="w">
                           </span><span class="nt">"value"</span><span class="p">:</span><span class="s2">"Levis"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                     </span><span class="p">}</span><span class="w">
                  </span><span class="p">},</span><span class="w">
                  </span><span class="p">{</span><span class="w">
                     </span><span class="nt">"serial"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                     </span><span class="nt">"transaction_number"</span><span class="p">:</span><span class="s2">"Trans99"</span><span class="p">,</span><span class="w">
                     </span><span class="nt">"amount"</span><span class="p">:</span><span class="s2">"500"</span><span class="p">,</span><span class="w">
                     </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">"soap"</span><span class="p">,</span><span class="w">
                     </span><span class="nt">"item_code"</span><span class="p">:</span><span class="s2">"skuattr9"</span><span class="p">,</span><span class="w">
                     </span><span class="nt">"variant"</span><span class="p">:</span><span class="s2">"variant-33"</span><span class="p">,</span><span class="w">
                     </span><span class="nt">"addon_items"</span><span class="p">:{</span><span class="w">
                        </span><span class="nt">"addon_item"</span><span class="p">:[</span><span class="w">
                           </span><span class="p">{</span><span class="w">
                              </span><span class="nt">"item_code"</span><span class="p">:</span><span class="s2">"Addon-043"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"quantity"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"rate"</span><span class="p">:</span><span class="s2">"10"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"value"</span><span class="p">:</span><span class="s2">"500"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">""</span><span class="w">
                           </span><span class="p">},</span><span class="w">
                           </span><span class="p">{</span><span class="w">
                              </span><span class="nt">"item_code"</span><span class="p">:</span><span class="s2">"Addon-043"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"quantity"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"rate"</span><span class="p">:</span><span class="s2">"10"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"value"</span><span class="p">:</span><span class="s2">"500"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">""</span><span class="w">
                           </span><span class="p">}</span><span class="w">
                        </span><span class="p">]</span><span class="w">
                     </span><span class="p">},</span><span class="w">
                     </span><span class="nt">"combo_items"</span><span class="p">:{</span><span class="w">
                        </span><span class="nt">"combo_item"</span><span class="p">:[</span><span class="w">
                           </span><span class="p">{</span><span class="w">
                              </span><span class="nt">"item_code"</span><span class="p">:</span><span class="s2">"combo-033"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"quantity"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">""</span><span class="w">
                           </span><span class="p">},</span><span class="w">
                           </span><span class="p">{</span><span class="w">
                              </span><span class="nt">"item_code"</span><span class="p">:</span><span class="s2">"combo-033"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"quantity"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">""</span><span class="w">
                           </span><span class="p">}</span><span class="w">
                        </span><span class="p">]</span><span class="w">
                     </span><span class="p">},</span><span class="w">
                     </span><span class="nt">"split_items"</span><span class="p">:{</span><span class="w">
                        </span><span class="nt">"split_item"</span><span class="p">:[</span><span class="w">
                           </span><span class="p">{</span><span class="w">
                              </span><span class="nt">"item_code"</span><span class="p">:</span><span class="s2">"Cheese dip"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"quantity"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"rate"</span><span class="p">:</span><span class="s2">"10"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"value"</span><span class="p">:</span><span class="s2">"500"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">"Cheese dip"</span><span class="w">
                           </span><span class="p">},</span><span class="w">
                           </span><span class="p">{</span><span class="w">
                              </span><span class="nt">"item_code"</span><span class="p">:</span><span class="s2">"Cheese dip"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"quantity"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"rate"</span><span class="p">:</span><span class="s2">"10"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"value"</span><span class="p">:</span><span class="s2">"500"</span><span class="p">,</span><span class="w">
                              </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">"Cheese dip"</span><span class="w">
                           </span><span class="p">}</span><span class="w">
                        </span><span class="p">]</span><span class="w">
                     </span><span class="p">},</span><span class="w">
                     </span><span class="nt">"qty"</span><span class="p">:</span><span class="s2">"50"</span><span class="p">,</span><span class="w">
                     </span><span class="nt">"rate"</span><span class="p">:</span><span class="s2">"10"</span><span class="p">,</span><span class="w">
                     </span><span class="nt">"value"</span><span class="p">:</span><span class="s2">"500"</span><span class="p">,</span><span class="w">
                     </span><span class="nt">"attributes"</span><span class="p">:{</span><span class="w">
                        </span><span class="nt">"attribute"</span><span class="p">:{</span><span class="w">
                           </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"brand"</span><span class="p">,</span><span class="w">
                           </span><span class="nt">"value"</span><span class="p">:</span><span class="s2">"Levis"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                     </span><span class="p">}</span><span class="w">
                  </span><span class="p">}</span><span class="w">
               </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"associate_details"</span><span class="p">:{</span><span class="w">
               </span><span class="nt">"code"</span><span class="p">:</span><span class="s2">"hiraxdhara"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Chin"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;root&gt;</span>
   <span class="nt">&lt;root&gt;</span>
      <span class="nt">&lt;transaction&gt;</span>
         <span class="nt">&lt;element&gt;</span>
            <span class="nt">&lt;amount&gt;</span>1000<span class="nt">&lt;/amount&gt;</span>
            <span class="nt">&lt;associate_details&gt;</span>
               <span class="nt">&lt;code&gt;</span>hiraxdhara<span class="nt">&lt;/code&gt;</span>
               <span class="nt">&lt;name&gt;</span>Chin<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;/associate_details&gt;</span>
            <span class="nt">&lt;bill_client_id</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;billing_time&gt;</span>2017-04-01<span class="nt">&lt;/billing_time&gt;</span>
            <span class="nt">&lt;custom_fields&gt;</span>
               <span class="nt">&lt;field&gt;</span>
                  <span class="nt">&lt;element&gt;</span>
                     <span class="nt">&lt;name&gt;</span>Bank<span class="nt">&lt;/name&gt;</span>
                     <span class="nt">&lt;value&gt;</span>SBI<span class="nt">&lt;/value&gt;</span>
                  <span class="nt">&lt;/element&gt;</span>
               <span class="nt">&lt;/field&gt;</span>
            <span class="nt">&lt;/custom_fields&gt;</span>
            <span class="nt">&lt;customer&gt;</span>
               <span class="nt">&lt;email</span> <span class="nt">/&gt;</span>
               <span class="nt">&lt;external_id</span> <span class="nt">/&gt;</span>
               <span class="nt">&lt;firstname</span> <span class="nt">/&gt;</span>
               <span class="nt">&lt;lastname</span> <span class="nt">/&gt;</span>
               <span class="nt">&lt;mobile&gt;</span>919999000000<span class="nt">&lt;/mobile&gt;</span>
            <span class="nt">&lt;/customer&gt;</span>
            <span class="nt">&lt;discount&gt;</span>10<span class="nt">&lt;/discount&gt;</span>
            <span class="nt">&lt;extended_fields&gt;</span>
               <span class="nt">&lt;field&gt;</span>
                  <span class="nt">&lt;element&gt;</span>
                     <span class="nt">&lt;name&gt;</span>CentralGST<span class="nt">&lt;/name&gt;</span>
                     <span class="nt">&lt;value&gt;</span>8.5<span class="nt">&lt;/value&gt;</span>
                  <span class="nt">&lt;/element&gt;</span>
                  <span class="nt">&lt;element&gt;</span>
                     <span class="nt">&lt;name&gt;</span>cashier_id<span class="nt">&lt;/name&gt;</span>
                     <span class="nt">&lt;value&gt;</span>12345678<span class="nt">&lt;/value&gt;</span>
                  <span class="nt">&lt;/element&gt;</span>
               <span class="nt">&lt;/field&gt;</span>
            <span class="nt">&lt;/extended_fields&gt;</span>
            <span class="nt">&lt;gross_amount&gt;</span>1000<span class="nt">&lt;/gross_amount&gt;</span>
            <span class="nt">&lt;line_items&gt;</span>
               <span class="nt">&lt;line_item&gt;</span>
                  <span class="nt">&lt;element&gt;</span>
                     <span class="nt">&lt;addon_items&gt;</span>
                        <span class="nt">&lt;addon_item&gt;</span>
                           <span class="nt">&lt;element&gt;</span>
                              <span class="nt">&lt;description</span> <span class="nt">/&gt;</span>
                              <span class="nt">&lt;item_code&gt;</span>Addon-033<span class="nt">&lt;/item_code&gt;</span>
                              <span class="nt">&lt;quantity&gt;</span>1<span class="nt">&lt;/quantity&gt;</span>
                           <span class="nt">&lt;/element&gt;</span>
                           <span class="nt">&lt;element&gt;</span>
                              <span class="nt">&lt;description</span> <span class="nt">/&gt;</span>
                              <span class="nt">&lt;item_code&gt;</span>Addon-033<span class="nt">&lt;/item_code&gt;</span>
                              <span class="nt">&lt;quantity&gt;</span>1<span class="nt">&lt;/quantity&gt;</span>
                           <span class="nt">&lt;/element&gt;</span>
                        <span class="nt">&lt;/addon_item&gt;</span>
                     <span class="nt">&lt;/addon_items&gt;</span>
                     <span class="nt">&lt;amount&gt;</span>500<span class="nt">&lt;/amount&gt;</span>
                     <span class="nt">&lt;attributes&gt;</span>
                        <span class="nt">&lt;attribute&gt;</span>
                           <span class="nt">&lt;name&gt;</span>brand<span class="nt">&lt;/name&gt;</span>
                           <span class="nt">&lt;value&gt;</span>Levis<span class="nt">&lt;/value&gt;</span>
                        <span class="nt">&lt;/attribute&gt;</span>
                     <span class="nt">&lt;/attributes&gt;</span>
                     <span class="nt">&lt;combo_items&gt;</span>
                        <span class="nt">&lt;combo_item&gt;</span>
                           <span class="nt">&lt;element&gt;</span>
                              <span class="nt">&lt;description</span> <span class="nt">/&gt;</span>
                              <span class="nt">&lt;item_code&gt;</span>combo-033<span class="nt">&lt;/item_code&gt;</span>
                              <span class="nt">&lt;quantity&gt;</span>1<span class="nt">&lt;/quantity&gt;</span>
                           <span class="nt">&lt;/element&gt;</span>
                           <span class="nt">&lt;element&gt;</span>
                              <span class="nt">&lt;description</span> <span class="nt">/&gt;</span>
                              <span class="nt">&lt;item_code&gt;</span>combo-033<span class="nt">&lt;/item_code&gt;</span>
                              <span class="nt">&lt;quantity&gt;</span>1<span class="nt">&lt;/quantity&gt;</span>
                           <span class="nt">&lt;/element&gt;</span>
                        <span class="nt">&lt;/combo_item&gt;</span>
                     <span class="nt">&lt;/combo_items&gt;</span>
                     <span class="nt">&lt;description&gt;</span>soap<span class="nt">&lt;/description&gt;</span>
                     <span class="nt">&lt;extended_fields&gt;</span>
                        <span class="nt">&lt;field&gt;</span>
                           <span class="nt">&lt;element&gt;</span>
                              <span class="nt">&lt;name&gt;</span>booking_type<span class="nt">&lt;/name&gt;</span>
                              <span class="nt">&lt;value&gt;</span>Online<span class="nt">&lt;/value&gt;</span>
                           <span class="nt">&lt;/element&gt;</span>
                           <span class="nt">&lt;element&gt;</span>
                              <span class="nt">&lt;name&gt;</span>MetalRate<span class="nt">&lt;/name&gt;</span>
                              <span class="nt">&lt;value&gt;</span>120.55<span class="nt">&lt;/value&gt;</span>
                           <span class="nt">&lt;/element&gt;</span>
                        <span class="nt">&lt;/field&gt;</span>
                     <span class="nt">&lt;/extended_fields&gt;</span>
                     <span class="nt">&lt;item_code&gt;</span>skuattr9<span class="nt">&lt;/item_code&gt;</span>
                     <span class="nt">&lt;qty&gt;</span>50<span class="nt">&lt;/qty&gt;</span>
                     <span class="nt">&lt;rate&gt;</span>10<span class="nt">&lt;/rate&gt;</span>
                     <span class="nt">&lt;serial&gt;</span>1<span class="nt">&lt;/serial&gt;</span>
                     <span class="nt">&lt;split_items&gt;</span>
                        <span class="nt">&lt;split_item&gt;</span>
                           <span class="nt">&lt;element&gt;</span>
                              <span class="nt">&lt;description&gt;</span>Cheese dip<span class="nt">&lt;/description&gt;</span>
                              <span class="nt">&lt;item_code&gt;</span>Cheese dip<span class="nt">&lt;/item_code&gt;</span>
                              <span class="nt">&lt;quantity&gt;</span>1<span class="nt">&lt;/quantity&gt;</span>
                           <span class="nt">&lt;/element&gt;</span>
                           <span class="nt">&lt;element&gt;</span>
                              <span class="nt">&lt;description&gt;</span>Cheese dip<span class="nt">&lt;/description&gt;</span>
                              <span class="nt">&lt;item_code&gt;</span>Cheese dip<span class="nt">&lt;/item_code&gt;</span>
                              <span class="nt">&lt;quantity&gt;</span>1<span class="nt">&lt;/quantity&gt;</span>
                           <span class="nt">&lt;/element&gt;</span>
                        <span class="nt">&lt;/split_item&gt;</span>
                     <span class="nt">&lt;/split_items&gt;</span>
                     <span class="nt">&lt;value&gt;</span>500<span class="nt">&lt;/value&gt;</span>
                     <span class="nt">&lt;variant</span> <span class="nt">/&gt;</span>
                  <span class="nt">&lt;/element&gt;</span>
                  <span class="nt">&lt;element&gt;</span>
                     <span class="nt">&lt;addon_items&gt;</span>
                        <span class="nt">&lt;addon_item&gt;</span>
                           <span class="nt">&lt;element&gt;</span>
                              <span class="nt">&lt;description</span> <span class="nt">/&gt;</span>
                              <span class="nt">&lt;item_code&gt;</span>Addon-043<span class="nt">&lt;/item_code&gt;</span>
                              <span class="nt">&lt;quantity&gt;</span>1<span class="nt">&lt;/quantity&gt;</span>
                              <span class="nt">&lt;rate&gt;</span>10<span class="nt">&lt;/rate&gt;</span>
                              <span class="nt">&lt;value&gt;</span>500<span class="nt">&lt;/value&gt;</span>
                           <span class="nt">&lt;/element&gt;</span>
                           <span class="nt">&lt;element&gt;</span>
                              <span class="nt">&lt;description</span> <span class="nt">/&gt;</span>
                              <span class="nt">&lt;item_code&gt;</span>Addon-043<span class="nt">&lt;/item_code&gt;</span>
                              <span class="nt">&lt;quantity&gt;</span>1<span class="nt">&lt;/quantity&gt;</span>
                              <span class="nt">&lt;rate&gt;</span>10<span class="nt">&lt;/rate&gt;</span>
                              <span class="nt">&lt;value&gt;</span>500<span class="nt">&lt;/value&gt;</span>
                           <span class="nt">&lt;/element&gt;</span>
                        <span class="nt">&lt;/addon_item&gt;</span>
                     <span class="nt">&lt;/addon_items&gt;</span>
                     <span class="nt">&lt;amount&gt;</span>500<span class="nt">&lt;/amount&gt;</span>
                     <span class="nt">&lt;attributes&gt;</span>
                        <span class="nt">&lt;attribute&gt;</span>
                           <span class="nt">&lt;name&gt;</span>brand<span class="nt">&lt;/name&gt;</span>
                           <span class="nt">&lt;value&gt;</span>Levis<span class="nt">&lt;/value&gt;</span>
                        <span class="nt">&lt;/attribute&gt;</span>
                     <span class="nt">&lt;/attributes&gt;</span>
                     <span class="nt">&lt;combo_items&gt;</span>
                        <span class="nt">&lt;combo_item&gt;</span>
                           <span class="nt">&lt;element&gt;</span>
                              <span class="nt">&lt;description</span> <span class="nt">/&gt;</span>
                              <span class="nt">&lt;item_code&gt;</span>combo-033<span class="nt">&lt;/item_code&gt;</span>
                              <span class="nt">&lt;quantity&gt;</span>1<span class="nt">&lt;/quantity&gt;</span>
                           <span class="nt">&lt;/element&gt;</span>
                           <span class="nt">&lt;element&gt;</span>
                              <span class="nt">&lt;description</span> <span class="nt">/&gt;</span>
                              <span class="nt">&lt;item_code&gt;</span>combo-033<span class="nt">&lt;/item_code&gt;</span>
                              <span class="nt">&lt;quantity&gt;</span>1<span class="nt">&lt;/quantity&gt;</span>
                           <span class="nt">&lt;/element&gt;</span>
                        <span class="nt">&lt;/combo_item&gt;</span>
                     <span class="nt">&lt;/combo_items&gt;</span>
                     <span class="nt">&lt;description&gt;</span>soap<span class="nt">&lt;/description&gt;</span>
                     <span class="nt">&lt;item_code&gt;</span>skuattr9<span class="nt">&lt;/item_code&gt;</span>
                     <span class="nt">&lt;qty&gt;</span>50<span class="nt">&lt;/qty&gt;</span>
                     <span class="nt">&lt;rate&gt;</span>10<span class="nt">&lt;/rate&gt;</span>
                     <span class="nt">&lt;serial&gt;</span>1<span class="nt">&lt;/serial&gt;</span>
                     <span class="nt">&lt;split_items&gt;</span>
                        <span class="nt">&lt;split_item&gt;</span>
                           <span class="nt">&lt;element&gt;</span>
                              <span class="nt">&lt;description&gt;</span>Cheese dip<span class="nt">&lt;/description&gt;</span>
                              <span class="nt">&lt;item_code&gt;</span>Cheese dip<span class="nt">&lt;/item_code&gt;</span>
                              <span class="nt">&lt;quantity&gt;</span>1<span class="nt">&lt;/quantity&gt;</span>
                              <span class="nt">&lt;rate&gt;</span>10<span class="nt">&lt;/rate&gt;</span>
                              <span class="nt">&lt;value&gt;</span>500<span class="nt">&lt;/value&gt;</span>
                           <span class="nt">&lt;/element&gt;</span>
                           <span class="nt">&lt;element&gt;</span>
                              <span class="nt">&lt;description&gt;</span>Cheese dip<span class="nt">&lt;/description&gt;</span>
                              <span class="nt">&lt;item_code&gt;</span>Cheese dip<span class="nt">&lt;/item_code&gt;</span>
                              <span class="nt">&lt;quantity&gt;</span>1<span class="nt">&lt;/quantity&gt;</span>
                              <span class="nt">&lt;rate&gt;</span>10<span class="nt">&lt;/rate&gt;</span>
                              <span class="nt">&lt;value&gt;</span>500<span class="nt">&lt;/value&gt;</span>
                           <span class="nt">&lt;/element&gt;</span>
                        <span class="nt">&lt;/split_item&gt;</span>
                     <span class="nt">&lt;/split_items&gt;</span>
                     <span class="nt">&lt;transaction_number&gt;</span>Trans99<span class="nt">&lt;/transaction_number&gt;</span>
                     <span class="nt">&lt;value&gt;</span>500<span class="nt">&lt;/value&gt;</span>
                     <span class="nt">&lt;variant&gt;</span>variant-33<span class="nt">&lt;/variant&gt;</span>
                  <span class="nt">&lt;/element&gt;</span>
               <span class="nt">&lt;/line_item&gt;</span>
            <span class="nt">&lt;/line_items&gt;</span>
            <span class="nt">&lt;notes&gt;</span>2 line items<span class="nt">&lt;/notes&gt;</span>
            <span class="nt">&lt;number&gt;</span>Trans99<span class="nt">&lt;/number&gt;</span>
            <span class="nt">&lt;payment_details&gt;</span>
               <span class="nt">&lt;payment&gt;</span>
                  <span class="nt">&lt;element&gt;</span>
                     <span class="nt">&lt;mode&gt;</span>CASH<span class="nt">&lt;/mode&gt;</span>
                     <span class="nt">&lt;value&gt;</span>100<span class="nt">&lt;/value&gt;</span>
                  <span class="nt">&lt;/element&gt;</span>
                  <span class="nt">&lt;element&gt;</span>
                     <span class="nt">&lt;attributes&gt;</span>
                        <span class="nt">&lt;attribute&gt;</span>
                           <span class="nt">&lt;element&gt;</span>
                              <span class="nt">&lt;name&gt;</span>BankNameAPI<span class="nt">&lt;/name&gt;</span>
                              <span class="nt">&lt;value&gt;</span>value_602656<span class="nt">&lt;/value&gt;</span>
                           <span class="nt">&lt;/element&gt;</span>
                           <span class="nt">&lt;element&gt;</span>
                              <span class="nt">&lt;name&gt;</span>branch_nameAPI<span class="nt">&lt;/name&gt;</span>
                              <span class="nt">&lt;value&gt;</span>value_602656<span class="nt">&lt;/value&gt;</span>
                           <span class="nt">&lt;/element&gt;</span>
                        <span class="nt">&lt;/attribute&gt;</span>
                     <span class="nt">&lt;/attributes&gt;</span>
                     <span class="nt">&lt;mode&gt;</span>
                        <span class="nt">&lt;element&gt;</span>CREDIT<span class="nt">&lt;/element&gt;</span>
                        <span class="nt">&lt;element&gt;</span>CHECKAPI<span class="nt">&lt;/element&gt;</span>
                     <span class="nt">&lt;/mode&gt;</span>
                     <span class="nt">&lt;notes&gt;</span>notes_602656<span class="nt">&lt;/notes&gt;</span>
                     <span class="nt">&lt;value&gt;</span>
                        <span class="nt">&lt;element&gt;</span>4000<span class="nt">&lt;/element&gt;</span>
                        <span class="nt">&lt;element&gt;</span>500<span class="nt">&lt;/element&gt;</span>
                     <span class="nt">&lt;/value&gt;</span>
                  <span class="nt">&lt;/element&gt;</span>
               <span class="nt">&lt;/payment&gt;</span>
            <span class="nt">&lt;/payment_details&gt;</span>
            <span class="nt">&lt;type&gt;</span>regular<span class="nt">&lt;/type&gt;</span>
         <span class="nt">&lt;/element&gt;</span>
      <span class="nt">&lt;/transaction&gt;</span>
   <span class="nt">&lt;/root&gt;</span>
<span class="nt">&lt;/root&gt;</span>

</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
            </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">37708927</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"shipping_source_till_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tran324"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"bill_client_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REGULAR"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"delivery_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DELIVERED"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"parent_bill_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"outlier_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NORMAL"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29372667"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"919999000000"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tom"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sawyer"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom.sawyer@example.com"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XYPZ001"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"lifetime_points"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"loyalty_points"</span><span class="p">:</span><span class="w"> </span><span class="s2">"160"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"current_slab"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bronze"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"tier_expiry_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2117-08-08 23:59:59"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"points_summaries"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nt">"points_summary"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                                </span><span class="p">{</span><span class="w">
                                    </span><span class="nt">"programId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1016"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"redeemed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"expired"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"returned"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"adjusted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"lifetimePoints"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"loyaltyPoints"</span><span class="p">:</span><span class="w"> </span><span class="s2">"160"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"cumulativePurchases"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48000"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"currentSlab"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bronze"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"nextSlab"</span><span class="p">:</span><span class="w"> </span><span class="s2">"silver"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"nextSlabSerialNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"nextSlabDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"silver"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"slabSNo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"slabExpiryDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2117-08-08 23:59:59"</span><span class="p">,</span><span class="w">
                                    </span><span class="nt">"totalPoints"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                                </span><span class="p">}</span><span class="w">
                            </span><span class="p">]</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="nt">"lifetime_purchases"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48000"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LOYALTY"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"instore"</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nt">"side_effects"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"effect"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                            </span><span class="p">{</span><span class="w">
                                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">33272081</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"coupon_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PE"</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"coupon_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Z3AHIFML"</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"valid_till"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-05-29 23:59:59"</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mobile Push offer 1"</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"discount_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MobilePush"</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"coupon"</span><span class="w">
                            </span><span class="p">}</span><span class="w">
                        </span><span class="p">]</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"instore"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">600</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Transaction added successfully."</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code>

<span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;root&gt;</span>
   <span class="nt">&lt;response&gt;</span>
      <span class="nt">&lt;status&gt;</span>
         <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
         <span class="nt">&lt;message&gt;</span>Success<span class="nt">&lt;/message&gt;</span>
         <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
      <span class="nt">&lt;/status&gt;</span>
      <span class="nt">&lt;transactions&gt;</span>
         <span class="nt">&lt;transaction&gt;</span>
            <span class="nt">&lt;element&gt;</span>
               <span class="nt">&lt;bill_client_id</span> <span class="nt">/&gt;</span>
               <span class="nt">&lt;customer&gt;</span>
                  <span class="nt">&lt;current_slab&gt;</span>bronze<span class="nt">&lt;/current_slab&gt;</span>
                  <span class="nt">&lt;email&gt;</span>tom.sawyer@example.com<span class="nt">&lt;/email&gt;</span>
                  <span class="nt">&lt;external_id&gt;</span>XYPZ001<span class="nt">&lt;/external_id&gt;</span>
                  <span class="nt">&lt;firstname&gt;</span>Tom<span class="nt">&lt;/firstname&gt;</span>
                  <span class="nt">&lt;lastname&gt;</span>Sawyer<span class="nt">&lt;/lastname&gt;</span>
                  <span class="nt">&lt;lifetime_points&gt;</span>200<span class="nt">&lt;/lifetime_points&gt;</span>
                  <span class="nt">&lt;lifetime_purchases&gt;</span>48000<span class="nt">&lt;/lifetime_purchases&gt;</span>
                  <span class="nt">&lt;loyalty_points&gt;</span>160<span class="nt">&lt;/loyalty_points&gt;</span>
                  <span class="nt">&lt;mobile&gt;</span>919999000000<span class="nt">&lt;/mobile&gt;</span>
                  <span class="nt">&lt;points_summaries&gt;</span>
                     <span class="nt">&lt;points_summary&gt;</span>
                        <span class="nt">&lt;element&gt;</span>
                           <span class="nt">&lt;adjusted&gt;</span>0<span class="nt">&lt;/adjusted&gt;</span>
                           <span class="nt">&lt;cumulativePurchases&gt;</span>48000<span class="nt">&lt;/cumulativePurchases&gt;</span>
                           <span class="nt">&lt;currentSlab&gt;</span>bronze<span class="nt">&lt;/currentSlab&gt;</span>
                           <span class="nt">&lt;expired&gt;</span>40<span class="nt">&lt;/expired&gt;</span>
                           <span class="nt">&lt;lifetimePoints&gt;</span>200<span class="nt">&lt;/lifetimePoints&gt;</span>
                           <span class="nt">&lt;loyaltyPoints&gt;</span>160<span class="nt">&lt;/loyaltyPoints&gt;</span>
                           <span class="nt">&lt;nextSlab&gt;</span>silver<span class="nt">&lt;/nextSlab&gt;</span>
                           <span class="nt">&lt;nextSlabDescription&gt;</span>silver<span class="nt">&lt;/nextSlabDescription&gt;</span>
                           <span class="nt">&lt;nextSlabSerialNumber&gt;</span>2<span class="nt">&lt;/nextSlabSerialNumber&gt;</span>
                           <span class="nt">&lt;programId&gt;</span>1016<span class="nt">&lt;/programId&gt;</span>
                           <span class="nt">&lt;redeemed&gt;</span>0<span class="nt">&lt;/redeemed&gt;</span>
                           <span class="nt">&lt;returned&gt;</span>0<span class="nt">&lt;/returned&gt;</span>
                           <span class="nt">&lt;slabExpiryDate&gt;</span>2117-08-08 23:59:59<span class="nt">&lt;/slabExpiryDate&gt;</span>
                           <span class="nt">&lt;slabSNo&gt;</span>1<span class="nt">&lt;/slabSNo&gt;</span>
                           <span class="nt">&lt;totalPoints</span> <span class="nt">/&gt;</span>
                        <span class="nt">&lt;/element&gt;</span>
                     <span class="nt">&lt;/points_summary&gt;</span>
                  <span class="nt">&lt;/points_summaries&gt;</span>
                  <span class="nt">&lt;source&gt;</span>instore<span class="nt">&lt;/source&gt;</span>
                  <span class="nt">&lt;tier_expiry_date&gt;</span>2117-08-08 23:59:59<span class="nt">&lt;/tier_expiry_date&gt;</span>
                  <span class="nt">&lt;type&gt;</span>LOYALTY<span class="nt">&lt;/type&gt;</span>
                  <span class="nt">&lt;user_id&gt;</span>29372667<span class="nt">&lt;/user_id&gt;</span>
               <span class="nt">&lt;/customer&gt;</span>
               <span class="nt">&lt;delivery_status&gt;</span>DELIVERED<span class="nt">&lt;/delivery_status&gt;</span>
               <span class="nt">&lt;id&gt;</span>37708927<span class="nt">&lt;/id&gt;</span>
               <span class="nt">&lt;item_status&gt;</span>
                  <span class="nt">&lt;code&gt;</span>600<span class="nt">&lt;/code&gt;</span>
                  <span class="nt">&lt;message&gt;</span>Transaction added successfully.<span class="nt">&lt;/message&gt;</span>
                  <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
               <span class="nt">&lt;/item_status&gt;</span>
               <span class="nt">&lt;number&gt;</span>Tran324<span class="nt">&lt;/number&gt;</span>
               <span class="nt">&lt;outlier_status&gt;</span>NORMAL<span class="nt">&lt;/outlier_status&gt;</span>
               <span class="nt">&lt;parent_bill_number</span> <span class="nt">/&gt;</span>
               <span class="nt">&lt;shipping_source_till_code</span> <span class="nt">/&gt;</span>
               <span class="nt">&lt;side_effects&gt;</span>
                  <span class="nt">&lt;effect&gt;</span>
                     <span class="nt">&lt;element&gt;</span>
                        <span class="nt">&lt;coupon_code&gt;</span>Z3AHIFML<span class="nt">&lt;/coupon_code&gt;</span>
                        <span class="nt">&lt;coupon_type&gt;</span>PE<span class="nt">&lt;/coupon_type&gt;</span>
                        <span class="nt">&lt;description&gt;</span>Mobile Push offer 1<span class="nt">&lt;/description&gt;</span>
                        <span class="nt">&lt;discount_code&gt;</span>MobilePush<span class="nt">&lt;/discount_code&gt;</span>
                        <span class="nt">&lt;id&gt;</span>33272081<span class="nt">&lt;/id&gt;</span>
                        <span class="nt">&lt;type&gt;</span>coupon<span class="nt">&lt;/type&gt;</span>
                        <span class="nt">&lt;valid_till&gt;</span>2020-05-29 23:59:59<span class="nt">&lt;/valid_till&gt;</span>
                     <span class="nt">&lt;/element&gt;</span>
                  <span class="nt">&lt;/effect&gt;</span>
               <span class="nt">&lt;/side_effects&gt;</span>
               <span class="nt">&lt;source&gt;</span>instore<span class="nt">&lt;/source&gt;</span>
               <span class="nt">&lt;type&gt;</span>REGULAR<span class="nt">&lt;/type&gt;</span>
            <span class="nt">&lt;/element&gt;</span>
         <span class="nt">&lt;/transaction&gt;</span>
      <span class="nt">&lt;/transactions&gt;</span>
   <span class="nt">&lt;/response&gt;</span>
<span class="nt">&lt;/root&gt;</span>


</code></pre>
<p>Lets you add transactions of loyalty, non-loyalty, or not-interested customers. You can add batch transactions by passing each transaction details in a separate <code class="prettyprint">transaction</code> attribute.</p>

<p>Following are the key functionalities of the <code class="prettyprint">transaction/add</code> API.</p>

<ul>
<li>Registers customers automatically when a new identifier is passed with the transaction details.</li>
<li>Updates customer details if an existing identifier is passed with different customer details (other than customer identifiers).</li>
<li>Supports transactions with Product Variant and Product Bundle details.</li>
<li>Adds product variant to the database when a new variant product is passed with an existing base product.</li>
<li>Adds  base product to the database when a new base product/variant product is passed. However, if a new base product is passed with variant details, it adds only base product and ignores variant .</li>
</ul>

<p><strong>Variant Product</strong>: A same product having different variations in terms of common properties such as size, and color.</p>

<p><strong>Product Bundle</strong>: A group of items that are sold as a single pack. This can include Combo items (Example: pack of 2, combo offers), Split items (Example: a necklace having gold rate, store rate, making charge, wastage charge and so on) and add-on items (Example: Pizza with extra cheese, and personalized toppings) </p>

<aside class="notice">
* To add transaction with variant details, pass the variant id at the line-item level. For bundle products, pass each line item details in the respective bundle type (split/combo/add-on).
* When customer information is passed along with the transaction details, customer’s basic information  like name, email id (if it not the customer’s unique identifier), custom fields and extended fields will be updated to the new values. 
* 
</aside>

<ul>
<li><strong>Regular Transactions</strong>: To make regular transactions, set <code class="prettyprint">type</code> as <code class="prettyprint">regular</code> and pass the customer’s unique identifier of the customer in the respective tag.</li>
<li><strong>Non-Interested Transactions</strong>: To make not-interested transactions, set <code class="prettyprint">type</code> as <code class="prettyprint">not_interested</code> and customer identifiers are not required for not-interested transactions.</li>
</ul>

<p>You can update custom field details and extended field details for either regular or return transactions. To retrieve these details, use customer/get, customer/transaction APIs.</p>

<ul>
<li>Extended fields are a kind of custom fields with defined field names and values that help generate reports on basis of extended fields. In transactions, extended field details can be captured at transaction level, or line-item level. Examples of transaction level extended fields include additional_discount, centralGST, GrossWeight etc and examples of line-item level extended fields include DesignCode, imei_number, MakingCharge etc.<br></li>
<li>Pass custom field details in the custom_fields element and extended fields in the extended_fields element</li>
<li>To retrieve custom field values and extended field values, use the customer/get or customer/transaction API</li>
</ul>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/add</code></td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>POST</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/v1.1/transaction/add?format={xml/json}</code></p>

<h3 id="request-body-parameters">Request Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Datatype</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>bill_client_id</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>type</td>
<td>enum</td>
<td>Type of transaction. <code class="prettyprint">regular</code> for loyalty transaction, <code class="prettyprint">not_interested</code> for non-loyalty or not-interested transactions.</td>
</tr>
<tr>
<td>number</td>
<td>string</td>
<td>Unique transaction number. The uniqueness depends on the configuration <code class="prettyprint">CONF_LOYALTY_BILL_NUMBER_UNIQUE_IN_DAYS</code> set on InTouch <strong>Settings</strong> &gt; <strong>System &amp; Deployment</strong> &gt; <strong>InTouch POS Configuration</strong> &gt; <strong>Billing</strong>.</td>
</tr>
<tr>
<td>amount</td>
<td>float</td>
<td>Net transaction amount.</td>
</tr>
<tr>
<td>currency_code</td>
<td>string</td>
<td>ISO currency code of the transaction. For example, <code class="prettyprint">INR</code> for Indian Rupee, SGD for Singapore Dollar, <code class="prettyprint">EUR</code> for Euro, <code class="prettyprint">IQD</code> for Iraqi Dinar.</td>
</tr>
<tr>
<td>notes</td>
<td>string</td>
<td>Additional information about the transaction.</td>
</tr>
<tr>
<td>qty</td>
<td>int</td>
<td>Quantity of the current line-item.</td>
</tr>
<tr>
<td>rate</td>
<td>float</td>
<td>Price of each line-item.</td>
</tr>
<tr>
<td>value</td>
<td>float</td>
<td>Gross transaction amount (transaction amount excluding discount).</td>
</tr>
<tr>
<td>amount</td>
<td>float</td>
<td>Net transaction amount - the actual transaction amount after discount.</td>
</tr>
<tr>
<td>billing_time</td>
<td>date-time</td>
<td>Date and time of the transaction. By default, the  current system date and time will be considered.</td>
</tr>
<tr>
<td>gross_amount</td>
<td>float</td>
<td>Transaction amount excluding discount.</td>
</tr>
<tr>
<td>discount</td>
<td>float</td>
<td>Discount availed for the transaction (discount amouunt).</td>
</tr>
<tr>
<td>customer</td>
<td>obj</td>
<td>Pass customer information. Applicable for non-loyalty and not-interested transactions.</td>
</tr>
<tr>
<td>mobile/email/external_id</td>
<td>string</td>
<td>Pass any of the registered identifiers of the customer.</td>
</tr>
<tr>
<td>firstname</td>
<td>string</td>
<td>First name of the customer.</td>
</tr>
<tr>
<td>lastname</td>
<td>string</td>
<td>Last name of the customer.</td>
</tr>
<tr>
<td>extended_fields</td>
<td>obj</td>
<td>Valid transaction level extended field details in name and value pairs. You can also pass line-item level extended field details in <code class="prettyprint">line_item</code> object.</td>
</tr>
<tr>
<td>payment_details</td>
<td>obj</td>
<td>Payment details for the transaction.</td>
</tr>
<tr>
<td>attributes</td>
<td>obj</td>
<td>Attributes  of the current line-item in name and value pairs.</td>
</tr>
<tr>
<td>mode</td>
<td>string</td>
<td>Mode of payment. This has to be the mode configured for your org.</td>
</tr>
<tr>
<td>value</td>
<td>float</td>
<td>Amount paid through the current mode.</td>
</tr>
<tr>
<td>attributes</td>
<td>obj</td>
<td>Payment mode attributes in name and value pairs.</td>
</tr>
<tr>
<td>custom_fields</td>
<td>obj</td>
<td>Transaction level custom field details. Pass line-item level custom field details in <code class="prettyprint">line_item</code> object.</td>
</tr>
<tr>
<td>line_items</td>
<td>obj</td>
<td>Details of transaction line-items.</td>
</tr>
<tr>
<td>serial</td>
<td>int</td>
<td>Serial number of the current line-item.</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>Description of the line-item.</td>
</tr>
<tr>
<td>item_code</td>
<td>string</td>
<td>Unique line-item code.</td>
</tr>
<tr>
<td>variant</td>
<td>string</td>
<td>Variant code of the item. Applicable for variant product.</td>
</tr>
<tr>
<td>addon_items</td>
<td>obj</td>
<td>Details of add-on items. For example, pizza with extra cheese, and personalized toppings.</td>
</tr>
<tr>
<td>combo_items</td>
<td>obj</td>
<td>Details of combo or bundle items. For example, buy 1 shirt get one free, shirt+pant, pack of 5 soaps.</td>
</tr>
<tr>
<td>split_items</td>
<td>obj</td>
<td>Details of split items. For example, a necklace having gold rate, store rate, making charge, and wastage charges.</td>
</tr>
<tr>
<td>item_code</td>
<td>string</td>
<td>Unique code of the add-on, split, or combo item. For example, combo-22, pizza01_addon.</td>
</tr>
<tr>
<td>quantity</td>
<td>int</td>
<td>Quantity of the current add-on, split, or combo item.</td>
</tr>
<tr>
<td>associate_details</td>
<td>obj</td>
<td>Details of store associate or cashier who did the transaction.</td>
</tr>
<tr>
<td>code</td>
<td>string</td>
<td>Unique code of the store associate.</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the store associate.</td>
</tr>
</tbody></table>

<h2 id="add-transaction-with-local-currency">Add Transaction with Local Currency</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight html"><code>https://us.api.capillarytech.com/v1.1/transaction/add_with_local_currency
</code></pre>
<blockquote>
<p>Sample POST Request</p>
</blockquote>
<pre class="highlight xml"><code>
<span class="nt">&lt;root&gt;</span>
   <span class="nt">&lt;transaction&gt;</span>
      <span class="nt">&lt;comment</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;customer&gt;</span>
         <span class="nt">&lt;mobile&gt;</span>91000000099<span class="nt">&lt;/mobile&gt;</span>
         <span class="nt">&lt;email&gt;</span>john@example.com<span class="nt">&lt;/email&gt;</span>
         <span class="nt">&lt;firstname&gt;</span>autofn_7353409276<span class="nt">&lt;/firstname&gt;</span>
      <span class="nt">&lt;/customer&gt;</span>
      <span class="nt">&lt;billing_time&gt;</span>2016-01-21<span class="nt">&lt;/billing_time&gt;</span>
      <span class="nt">&lt;type&gt;</span>regular<span class="nt">&lt;/type&gt;</span>
      <span class="nt">&lt;gross_amount&gt;</span>1000<span class="nt">&lt;/gross_amount&gt;</span>
      <span class="nt">&lt;number&gt;</span>numbr735ccdcdb34<span class="nt">&lt;/number&gt;</span>
      <span class="nt">&lt;bill_client_id&gt;</span>1121<span class="nt">&lt;/bill_client_id&gt;</span>
      <span class="nt">&lt;discount&gt;</span>0<span class="nt">&lt;/discount&gt;</span>
      <span class="nt">&lt;amount&gt;</span>2000<span class="nt">&lt;/amount&gt;</span>
      <span class="nt">&lt;credit_note&gt;</span>
         <span class="nt">&lt;comment</span> <span class="nt">/&gt;</span>
         <span class="nt">&lt;amount&gt;</span>1800<span class="nt">&lt;/amount&gt;</span>
         <span class="nt">&lt;notes&gt;</span>Reason for credit<span class="nt">&lt;/notes&gt;</span>
         <span class="nt">&lt;number&gt;</span>numbr9959104543<span class="nt">&lt;/number&gt;</span>
      <span class="nt">&lt;/credit_note&gt;</span>
      <span class="nt">&lt;notes&gt;</span>Regular Bill with Payment Details<span class="nt">&lt;/notes&gt;</span>
   <span class="nt">&lt;/transaction&gt;</span>
<span class="nt">&lt;/root&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"root"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"91000000099"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@example.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"autofn_7353409276"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"billing_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-21"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"regular"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"gross_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"numbr735ccdcdb34"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"bill_client_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1121"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"discount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2000"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"credit_note"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1800"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Reason for credit"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"numbr9959104543"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Regular Bill with Payment Details"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code>
<span class="nt">&lt;response&gt;</span>
    <span class="nt">&lt;status&gt;</span>
        <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
        <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;message&gt;</span>Success<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/status&gt;</span>
    <span class="nt">&lt;transactions&gt;</span>
        <span class="nt">&lt;transaction&gt;</span>
            <span class="nt">&lt;id&gt;</span>34058904<span class="nt">&lt;/id&gt;</span>
            <span class="nt">&lt;number&gt;</span>numbr735ccdcdb34<span class="nt">&lt;/number&gt;</span>
            <span class="nt">&lt;bill_client_id&gt;</span>1121<span class="nt">&lt;/bill_client_id&gt;</span>
            <span class="nt">&lt;type&gt;</span>REGULAR<span class="nt">&lt;/type&gt;</span>
            <span class="nt">&lt;delivery_status&gt;</span>DELIVERED<span class="nt">&lt;/delivery_status&gt;</span>
            <span class="nt">&lt;customer&gt;</span>
                <span class="nt">&lt;user_id&gt;</span>282100245<span class="nt">&lt;/user_id&gt;</span>
                <span class="nt">&lt;mobile&gt;</span>91000000099<span class="nt">&lt;/mobile&gt;</span>
                <span class="nt">&lt;firstname&gt;</span>Tom<span class="nt">&lt;/firstname&gt;</span>
                <span class="nt">&lt;lastname/&gt;</span>
                <span class="nt">&lt;email&gt;</span>john@example.com<span class="nt">&lt;/email&gt;</span>
                <span class="nt">&lt;external_id/&gt;</span>
                <span class="nt">&lt;lifetime_points&gt;</span>0<span class="nt">&lt;/lifetime_points&gt;</span>
                <span class="nt">&lt;loyalty_points&gt;</span>0<span class="nt">&lt;/loyalty_points&gt;</span>
                <span class="nt">&lt;current_slab/&gt;</span>
                <span class="nt">&lt;tier_expiry_date/&gt;</span>
                <span class="nt">&lt;lifetime_purchases&gt;</span>2000<span class="nt">&lt;/lifetime_purchases&gt;</span>
                <span class="nt">&lt;type&gt;</span>LOYALTY<span class="nt">&lt;/type&gt;</span>
                <span class="nt">&lt;source&gt;</span>instore<span class="nt">&lt;/source&gt;</span>
            <span class="nt">&lt;/customer&gt;</span>
            <span class="nt">&lt;side_effects&gt;</span>
                <span class="nt">&lt;effect/&gt;</span>
            <span class="nt">&lt;/side_effects&gt;</span>
            <span class="nt">&lt;source&gt;</span>instore<span class="nt">&lt;/source&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
                <span class="nt">&lt;code&gt;</span>600<span class="nt">&lt;/code&gt;</span>
                <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
                <span class="nt">&lt;message&gt;</span>Transaction added successfully<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
        <span class="nt">&lt;/transaction&gt;</span>
    <span class="nt">&lt;/transactions&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34058904"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"numbr735ccdcdb34"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"bill_client_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1121"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REGULAR"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"delivery_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DELIVERED"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"282100245"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"91000000099"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tom"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@example.com"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"lifetime_points"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"loyalty_points"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"lifetime_purchases"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2000"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LOYALTY"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"instore"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"side_effects"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">

        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"instore"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"600"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Transaction added successfully"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Lets you add transactions with a different currency using the currency conversion ratio. To support this feature, you need to have</p>

<ul>
<li>disabled <code class="prettyprint">ERR_CURRENCY_CONVERSION_DISABLED</code> on the Billing Configuration page of InTouch Settings</li>
<li>added relevant currency conversion ratios in the back-end</li>
<li>the destination currency id. If no currency id is passed, the transaction gets converted to the org&rsquo;s base currency</li>
</ul>

<p>The issual of points/coupon or redemption is calculated automatically as per the destination currency. </p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/add_with_local_currency</code></td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>POST</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/v1.1/transaction/add_with_local_currency?format={xml/json}</code></p>

<h3 id="request-body-parameters">Request Body Parameters</h3>

<h2 id="return-transaction">Return Transaction</h2>
<pre class="highlight html"><code># Sample Request
https://us.api.capillarytech.com/v1.1/transaction/add?format=json
</code></pre>
<blockquote>
<p>Sample POST Request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"root"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"not_interested_return"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"may30001"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"not_interested_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Example reason"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"return_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AMOUNT"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"purchase_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-31"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"billing_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-31"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"line_items"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"line_item"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"serial"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"soap"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"item_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"item-001"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"qty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"attribute"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"brand"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Levis"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"custom_fields_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"custom_data_item"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"field_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paymentmode"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"field_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CASH"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"associate_details"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">

      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="nt">&lt;root&gt;</span>
    <span class="nt">&lt;transaction&gt;</span>
        <span class="nt">&lt;type&gt;</span>not_interested_return<span class="nt">&lt;/type&gt;</span>
        <span class="nt">&lt;country&gt;</span>true<span class="nt">&lt;/country&gt;</span>
        <span class="nt">&lt;number&gt;</span>may30001<span class="nt">&lt;/number&gt;</span>
        <span class="nt">&lt;not_interested_reason&gt;</span>Example reason<span class="nt">&lt;/not_interested_reason&gt;</span>
        <span class="nt">&lt;return_type&gt;</span>AMOUNT<span class="nt">&lt;/return_type&gt;</span>
        <span class="nt">&lt;purchase_time&gt;</span>2017-05-31<span class="nt">&lt;/purchase_time&gt;</span>
        <span class="nt">&lt;amount&gt;</span>500<span class="nt">&lt;/amount&gt;</span>
        <span class="nt">&lt;billing_time&gt;</span>2017-05-31<span class="nt">&lt;/billing_time&gt;</span>
        <span class="nt">&lt;line_items&gt;</span>
            <span class="nt">&lt;line_item&gt;</span>
                <span class="nt">&lt;serial&gt;</span>1<span class="nt">&lt;/serial&gt;</span>
                <span class="nt">&lt;amount&gt;</span>500<span class="nt">&lt;/amount&gt;</span>
                <span class="nt">&lt;description&gt;</span>soap<span class="nt">&lt;/description&gt;</span>
                <span class="nt">&lt;item_code&gt;</span>item-001<span class="nt">&lt;/item_code&gt;</span>
                <span class="nt">&lt;qty&gt;</span>50<span class="nt">&lt;/qty&gt;</span>
                <span class="nt">&lt;rate&gt;</span>10<span class="nt">&lt;/rate&gt;</span>
                <span class="nt">&lt;value&gt;</span>500<span class="nt">&lt;/value&gt;</span>
                <span class="nt">&lt;attributes&gt;</span>
                    <span class="nt">&lt;attribute&gt;</span>
                        <span class="nt">&lt;name&gt;</span>brand<span class="nt">&lt;/name&gt;</span>
                        <span class="nt">&lt;value&gt;</span>Levis<span class="nt">&lt;/value&gt;</span>
                    <span class="nt">&lt;/attribute&gt;</span>
                <span class="nt">&lt;/attributes&gt;</span>
            <span class="nt">&lt;/line_item&gt;</span>
        <span class="nt">&lt;/line_items&gt;</span>
        <span class="nt">&lt;custom_fields_data&gt;</span>
            <span class="nt">&lt;custom_data_item&gt;</span>
                <span class="nt">&lt;field_name&gt;</span>paymentmode<span class="nt">&lt;/field_name&gt;</span>
                <span class="nt">&lt;field_value&gt;</span>CASH<span class="nt">&lt;/field_value&gt;</span>
            <span class="nt">&lt;/custom_data_item&gt;</span>
        <span class="nt">&lt;/custom_fields_data&gt;</span>
        <span class="nt">&lt;associate_details</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/transaction&gt;</span>
<span class="nt">&lt;/root&gt;</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="nt">&lt;response&gt;</span>
    <span class="nt">&lt;status&gt;</span>
        <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
        <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;message&gt;</span>Success<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/status&gt;</span>
    <span class="nt">&lt;transactions&gt;</span>
        <span class="nt">&lt;transaction&gt;</span>
            <span class="nt">&lt;id&gt;</span>3425<span class="nt">&lt;/id&gt;</span>
            <span class="nt">&lt;number&gt;</span>may30001<span class="nt">&lt;/number&gt;</span>
            <span class="nt">&lt;bill_client_id&gt;&lt;/bill_client_id&gt;</span>
            <span class="nt">&lt;type&gt;</span>NOT_INTERESTED_RETURN<span class="nt">&lt;/type&gt;</span>
            <span class="nt">&lt;delivery_status&gt;</span>DELIVERED<span class="nt">&lt;/delivery_status&gt;</span>
            <span class="nt">&lt;source&gt;</span>instore<span class="nt">&lt;/source&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
                <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
                <span class="nt">&lt;code&gt;</span>600<span class="nt">&lt;/code&gt;</span>
                <span class="nt">&lt;message&gt;</span>Transaction added successfully<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
        <span class="nt">&lt;/transaction&gt;</span>
    <span class="nt">&lt;/transactions&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Success"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"transactions"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"transaction"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">3425</span><span class="p">,</span><span class="w">
          </span><span class="nt">"number"</span><span class="p">:</span><span class="s2">"may30001"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"bill_client_id"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"NOT_INTERESTED_RETURN"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"delivery_status"</span><span class="p">:</span><span class="s2">"DELIVERED"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"source"</span><span class="p">:</span><span class="s2">"instore"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"item_status"</span><span class="p">:{</span><span class="w">
            </span><span class="nt">"success"</span><span class="p">:</span><span class="s2">"true"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">600</span><span class="p">,</span><span class="w">
            </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Transaction added successfully"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Lets you submit a return transaction of any transaction type. </p>

<p>The following are different return types supported for a transaction.</p>

<ul>
<li><strong>Full Return</strong>: To return an entire transaction and exchange with different items</li>
<li><strong>Line-item Return</strong>: To return line-item(s) of a transaction and exchange with other items</li>
<li><strong>Mixed Return</strong>: To exchange one or more line items of a transaction (line-items)</li>
<li><strong>Amount Return</strong>: To return the entire transaction amount</li>
</ul>

<aside class="notice">
For return transactions, it is required to pass return item&rsquo;s purchased transaction number and purchase_time.

* Purchase time: The date and time of the actual transaction
* Billing time: The date and time of the return transaction
</aside>

<p>Before using this API, you need to know the configurations set of the Return Transactions page of InTouch <strong>Settings</strong> &gt; <strong>Systems &amp; Deployment</strong> &gt; <strong>InTouch POS Configuration</strong>.</p>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/v1.1/transaction/add_with_local_currency?format={xml/json}</code></p>

<h2 id="cancel-a-transaction-line-item">Cancel a Transaction Line-Item</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight html"><code>https://us.api.capillarytech.com/v1.1/transaction/add?format=json
</code></pre>
<blockquote>
<p>Sample POST Request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancel line_item"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"919111111111"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sawyer"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ts8674477501"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom.sawyer@example.com"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tom"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"line_items"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nt">"line_item"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ordered a different item"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"qty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"item_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"number0-1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"cashier_id"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nt">"discount_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"return_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancelled"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"return"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"serial"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"one line item cancel"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"billing_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-14"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"numbr8674477501"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"return_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancelled"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"return"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;root&gt;</span>
   <span class="nt">&lt;transaction&gt;</span>
      <span class="nt">&lt;comment&gt;</span>cancel line_item<span class="nt">&lt;/comment&gt;</span>
      <span class="nt">&lt;customer&gt;</span>
         <span class="nt">&lt;mobile&gt;</span>919111111111<span class="nt">&lt;/mobile&gt;</span>
         <span class="nt">&lt;lastname&gt;</span>Sawyer<span class="nt">&lt;/lastname&gt;</span>
         <span class="nt">&lt;external_id&gt;</span>ts8674477501<span class="nt">&lt;/external_id&gt;</span>
         <span class="nt">&lt;email&gt;</span>tom.sawyer@example.com<span class="nt">&lt;/email&gt;</span>
         <span class="nt">&lt;firstname&gt;</span>Tom<span class="nt">&lt;/firstname&gt;</span>
      <span class="nt">&lt;/customer&gt;</span>
      <span class="nt">&lt;line_items&gt;</span>
         <span class="nt">&lt;line_item&gt;</span>
            <span class="nt">&lt;description&gt;</span>Ordered a different item<span class="nt">&lt;/description&gt;</span>
            <span class="nt">&lt;rate&gt;</span>50<span class="nt">&lt;/rate&gt;</span>
            <span class="nt">&lt;value&gt;</span>50<span class="nt">&lt;/value&gt;</span>
            <span class="nt">&lt;qty&gt;</span>1<span class="nt">&lt;/qty&gt;</span>
            <span class="nt">&lt;amount&gt;</span>50<span class="nt">&lt;/amount&gt;</span>
            <span class="nt">&lt;item_code&gt;</span>number0-1<span class="nt">&lt;/item_code&gt;</span>
            <span class="nt">&lt;cashier_id</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;discount_value&gt;</span>0<span class="nt">&lt;/discount_value&gt;</span>
            <span class="nt">&lt;return_type&gt;</span>cancelled<span class="nt">&lt;/return_type&gt;</span>
            <span class="nt">&lt;type&gt;</span>return<span class="nt">&lt;/type&gt;</span>
            <span class="nt">&lt;serial&gt;</span>0<span class="nt">&lt;/serial&gt;</span>
         <span class="nt">&lt;/line_item&gt;</span>
      <span class="nt">&lt;/line_items&gt;</span>
      <span class="nt">&lt;notes&gt;</span>one line item cancel<span class="nt">&lt;/notes&gt;</span>
      <span class="nt">&lt;billing_time&gt;</span>2018-02-14<span class="nt">&lt;/billing_time&gt;</span>
      <span class="nt">&lt;number&gt;</span>numbr8674477501<span class="nt">&lt;/number&gt;</span>
      <span class="nt">&lt;return_type&gt;</span>cancelled<span class="nt">&lt;/return_type&gt;</span>
      <span class="nt">&lt;type&gt;</span>return<span class="nt">&lt;/type&gt;</span>
   <span class="nt">&lt;/transaction&gt;</span>
<span class="nt">&lt;/root&gt;</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="nt">&lt;response&gt;</span>
    <span class="nt">&lt;status&gt;</span>
        <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
        <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;message&gt;</span>Success<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/status&gt;</span>
    <span class="nt">&lt;transactions&gt;</span>
        <span class="nt">&lt;transaction&gt;</span>
            <span class="nt">&lt;id&gt;</span>176536<span class="nt">&lt;/id&gt;</span>
            <span class="nt">&lt;number&gt;</span>numbr8674477502<span class="nt">&lt;/number&gt;</span>
            <span class="nt">&lt;bill_client_id/&gt;</span>
            <span class="nt">&lt;type&gt;</span>RETURN<span class="nt">&lt;/type&gt;</span>
            <span class="nt">&lt;delivery_status&gt;</span>DELIVERED<span class="nt">&lt;/delivery_status&gt;</span>
            <span class="nt">&lt;outlier_status&gt;</span>NORMAL<span class="nt">&lt;/outlier_status&gt;</span>
            <span class="nt">&lt;customer&gt;</span>
                <span class="nt">&lt;user_id&gt;</span>32411221<span class="nt">&lt;/user_id&gt;</span>
                <span class="nt">&lt;mobile&gt;</span>919111111111<span class="nt">&lt;/mobile&gt;</span>
                <span class="nt">&lt;firstname&gt;</span>Tom<span class="nt">&lt;/firstname&gt;</span>
                <span class="nt">&lt;lastname&gt;</span>Sawyer<span class="nt">&lt;/lastname&gt;</span>
                <span class="nt">&lt;email&gt;</span>tom.sawyer@example.com<span class="nt">&lt;/email&gt;</span>
                <span class="nt">&lt;external_id&gt;</span>ext_id8674477501<span class="nt">&lt;/external_id&gt;</span>
                <span class="nt">&lt;lifetime_points&gt;</span>0<span class="nt">&lt;/lifetime_points&gt;</span>
                <span class="nt">&lt;loyalty_points&gt;</span>0<span class="nt">&lt;/loyalty_points&gt;</span>
                <span class="nt">&lt;current_slab/&gt;</span>
                <span class="nt">&lt;tier_expiry_date/&gt;</span>
                <span class="nt">&lt;lifetime_purchases&gt;</span>0<span class="nt">&lt;/lifetime_purchases&gt;</span>
                <span class="nt">&lt;type&gt;</span>LOYALTY<span class="nt">&lt;/type&gt;</span>
                <span class="nt">&lt;source&gt;</span>instore<span class="nt">&lt;/source&gt;</span>
            <span class="nt">&lt;/customer&gt;</span>
            <span class="nt">&lt;side_effects&gt;</span>
                <span class="nt">&lt;effect/&gt;</span>
            <span class="nt">&lt;/side_effects&gt;</span>
            <span class="nt">&lt;points_deducted&gt;</span>0<span class="nt">&lt;/points_deducted&gt;</span>
            <span class="nt">&lt;points_balance&gt;</span>0<span class="nt">&lt;/points_balance&gt;</span>
            <span class="nt">&lt;source/&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
                <span class="nt">&lt;code&gt;</span>600<span class="nt">&lt;/code&gt;</span>
                <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
                <span class="nt">&lt;message&gt;</span>Transaction added successfully<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
        <span class="nt">&lt;/transaction&gt;</span>
    <span class="nt">&lt;/transactions&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nt">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"176536"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"numbr8674477502"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"bill_client_id"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
         </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RETURN"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"delivery_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DELIVERED"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"outlier_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NORMAL"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"32411221"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"919111111111"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tom"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sawyer"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom.sawyer@example.com"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ts123"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"lifetime_points"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"loyalty_points"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"current_slab"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nt">"tier_expiry_date"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nt">"lifetime_purchases"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LOYALTY"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"instore"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nt">"side_effects"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"effect"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nt">"points_deducted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"points_balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
         </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"600"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Transaction added successfully"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Lets you cancel a line-item of a transaction. For example, it can be used for e-commerce platforms where the brand allows a customer to cancel an item (of a transaction) before it is shipped/delivered.</p>

<aside class="notice">
To cancel a line-item, it is required to pass return item&rsquo;s purchased transaction number and purchase_time.

* Purchase time: The date and time of the actual transaction
* Billing time: The date and time of the return transaction
</aside>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/add</code></td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>POST</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/v1.1/transaction/add?format=json</code></p>

<h3 id="request-body-parameters">Request Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Datatype</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Customer identifier</td>
<td>enum</td>
<td>Pass any of the identifiers of customers for loyalty or non-loyalty returns. Value: <code class="prettyprint">mobile</code>, <code class="prettyprint">email</code>, <code class="prettyprint">external_id</code>, <code class="prettyprint">id</code>.</td>
</tr>
<tr>
<td>purchase_time*</td>
<td>date-time</td>
<td>Date and time of the actual purchase of the return items.</td>
</tr>
<tr>
<td>number*</td>
<td>string</td>
<td>The actual transaction number of the returned item.</td>
</tr>
<tr>
<td>type*</td>
<td>enum</td>
<td>Specify type as <code class="prettyprint">RETURN</code> for regular transaction returns, <code class="prettyprint">NOT_INTERESTED_RETURN</code> for not-interested transaction returns.</td>
</tr>
<tr>
<td>return_type*</td>
<td>enum</td>
<td>Specify <code class="prettyprint">FULL</code> to return the entire transaction, <code class="prettyprint">LINE_ITEM</code> to return a particular line-item of the transaction, <code class="prettyprint">AMOUNT</code> to return the transaction amount instead of replacement.</td>
</tr>
</tbody></table>

<aside class="notice">Parameters marked with * are mandatory.</aside>

<h2 id="update-transaction-details">Update Transaction Details</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight html"><code>https://api.capillary.co.in/v1.1/transaction/update?format=xml
</code></pre>
<blockquote>
<p>Sample POST Request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"root"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123234"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BILL-001"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REGULAR"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34897"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900999"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"earnshaw.catherine@example.com"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ec1234"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"extended_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"field"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
                        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CentralGST"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8.5"</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cashier_id"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678"</span><span class="w">
                    </span><span class="p">}</span><span class="w">

                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
        </span><span class="nt">"custom_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"field"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Earnshaw Catherine"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value2"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Favorite Color"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Green"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123234"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BILL-001"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REGULAR"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34897"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900000"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom.sawyer@example.com"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ts1234"</span><span class="w">
        </span><span class="p">}</span><span class="w">

      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code>
<span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;root&gt;</span>
    <span class="nt">&lt;transaction&gt;</span>
        <span class="nt">&lt;id&gt;</span>123234<span class="nt">&lt;/id&gt;</span>
        <span class="c">&lt;!--
         identifies specific transaction without conflict (first priority to identify transaction

         --&gt;</span>
        <span class="nt">&lt;number&gt;</span>BILL-001<span class="nt">&lt;/number&gt;</span>
        <span class="c">&lt;!--
         may have conflict as one customer can have multiple transaction having same bill number, will be updated latest transaction in such cases (first transaction in desc order of billing time)

         --&gt;</span>
        <span class="nt">&lt;type&gt;</span>REGULAR<span class="nt">&lt;/type&gt;</span>
        <span class="c">&lt;!-- this can be REGULAR or NOT_INTERESTED --&gt;</span>
        <span class="nt">&lt;customer&gt;</span>
            <span class="nt">&lt;id&gt;</span>34897<span class="nt">&lt;/id&gt;</span>
            <span class="nt">&lt;mobile&gt;</span>44700900999<span class="nt">&lt;/mobile&gt;</span>
            <span class="nt">&lt;email&gt;</span>earnshaw.catherine@example.com<span class="nt">&lt;/email&gt;</span>
            <span class="nt">&lt;external_id&gt;</span>ec1234<span class="nt">&lt;/external_id&gt;</span>
        <span class="nt">&lt;/customer&gt;</span>
        <span class="nt">&lt;extended_fields&gt;</span>
               <span class="nt">&lt;field&gt;</span>
                  <span class="nt">&lt;element&gt;</span>
                     <span class="nt">&lt;name&gt;</span>CentralGST<span class="nt">&lt;/name&gt;</span>
                     <span class="nt">&lt;value&gt;</span>8.5<span class="nt">&lt;/value&gt;</span>
                  <span class="nt">&lt;/element&gt;</span>
                  <span class="nt">&lt;element&gt;</span>
                     <span class="nt">&lt;name&gt;</span>cashier_id<span class="nt">&lt;/name&gt;</span>
                     <span class="nt">&lt;value&gt;</span>12345678<span class="nt">&lt;/value&gt;</span>
                  <span class="nt">&lt;/element&gt;</span>
               <span class="nt">&lt;/field&gt;</span>
            <span class="nt">&lt;/extended_fields&gt;</span>
        <span class="nt">&lt;custom_fields&gt;</span>
            <span class="nt">&lt;field&gt;</span>
                <span class="nt">&lt;name&gt;</span>Earnshaw Catherine<span class="nt">&lt;/name&gt;</span>
                <span class="nt">&lt;value&gt;</span>value2<span class="nt">&lt;/value&gt;</span>
            <span class="nt">&lt;/field&gt;</span>
            <span class="nt">&lt;field&gt;</span>
                <span class="nt">&lt;name&gt;</span>field2<span class="nt">&lt;/name&gt;</span>
                <span class="nt">&lt;value&gt;</span>value2<span class="nt">&lt;/value&gt;</span>
            <span class="nt">&lt;/field&gt;</span>
        <span class="nt">&lt;/custom_fields&gt;</span>
    <span class="nt">&lt;/transaction&gt;</span>
    <span class="nt">&lt;transaction&gt;</span>
        <span class="nt">&lt;id&gt;</span>123234<span class="nt">&lt;/id&gt;</span>
        <span class="nt">&lt;number&gt;</span>BILL-001<span class="nt">&lt;/number&gt;</span>
        <span class="nt">&lt;type&gt;</span>REGULAR<span class="nt">&lt;/type&gt;</span>
        <span class="c">&lt;!-- this can be REGULAR or NOT_INTERESTED --&gt;</span>
        <span class="nt">&lt;customer&gt;</span>
            <span class="nt">&lt;id&gt;</span>34897<span class="nt">&lt;/id&gt;</span>
            <span class="nt">&lt;mobile&gt;</span>44700900000<span class="nt">&lt;/mobile&gt;</span>
            <span class="nt">&lt;email&gt;</span>tom.sawyer@example.com<span class="nt">&lt;/email&gt;</span>
            <span class="nt">&lt;external_id&gt;</span>ts1234<span class="nt">&lt;/external_id&gt;</span>
        <span class="nt">&lt;/customer&gt;</span>
        <span class="nt">&lt;custom_fields&gt;</span>
            <span class="nt">&lt;field&gt;</span>
                <span class="nt">&lt;name&gt;</span>Tom Sawyer<span class="nt">&lt;/name&gt;</span>
                <span class="nt">&lt;value&gt;</span>value2<span class="nt">&lt;/value&gt;</span>
            <span class="nt">&lt;/field&gt;</span>
        <span class="nt">&lt;/custom_fields&gt;</span>
    <span class="nt">&lt;/transaction&gt;</span>
<span class="nt">&lt;/root&gt;</span>

</code></pre>
<p>This API allows you to convert a not_interested transaction to a regular transaction and update custom field details of a transaction.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/update</code></td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>POST</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-body-parameters">Request Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Datatype</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id**</td>
<td>int</td>
<td>Unique id of the transaction that you want to update.</td>
</tr>
<tr>
<td>number**</td>
<td>string</td>
<td>Transaction number that you need to update.</td>
</tr>
</tbody></table>

<aside class="notice">Any one among the parameters marked with ** is mandatory. </aside>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/v1.1/transaction/update?format={xml/json}</code></p>

<h2 id="retro-transaction">Retro Transaction</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight html"><code>https://api.capillary.co.in/v1.1/transaction/update?format=json
</code></pre>
<blockquote>
<p>Sample POST Request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"root"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900999"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ext_id9931156917"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"catherine@example.com"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"new_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REGULAR"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Retro Transaction"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6464658"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"old_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOT_INTERESTED"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code><span class="nt">&lt;root&gt;</span>
    <span class="nt">&lt;transaction&gt;</span>
        <span class="nt">&lt;customer&gt;</span>
            <span class="nt">&lt;mobile&gt;</span>44700900999<span class="nt">&lt;/mobile&gt;</span>
            <span class="nt">&lt;external_id&gt;</span>ext_id9931156917<span class="nt">&lt;/external_id&gt;</span>
            <span class="nt">&lt;email&gt;</span>catherine@example.com<span class="nt">&lt;/email&gt;</span>
        <span class="nt">&lt;/customer&gt;</span>
        <span class="nt">&lt;new_type&gt;</span>REGULAR<span class="nt">&lt;/new_type&gt;</span>
        <span class="nt">&lt;notes&gt;</span>Retro Transaction<span class="nt">&lt;/notes&gt;</span>
        <span class="nt">&lt;id&gt;</span>6464658<span class="nt">&lt;/id&gt;</span>
        <span class="nt">&lt;old_type&gt;</span>NOT_INTERESTED<span class="nt">&lt;/old_type&gt;</span>
    <span class="nt">&lt;/transaction&gt;</span>
<span class="nt">&lt;/root&gt;</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34007568"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"retronumbr9931156917"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REGULAR"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"282024042"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900999"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"catherine@example.com"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ext_id9931156917"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"loyalty_points"</span><span class="p">:</span><span class="w"> </span><span class="s2">"75"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"lifetime_points"</span><span class="p">:</span><span class="w"> </span><span class="s2">"75"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"lifetime_purchases"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1500"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"current_slab"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Platinum"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"tier_expiry_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2117-01-03 23:59:59"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"loyalty"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"delivery_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DELIVERED"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"instore"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1630"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Transaction retrospectively marked REGULAR, Transaction added successfully"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"side_effects"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"effect"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"points"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"awarded_points"</span><span class="p">:</span><span class="w"> </span><span class="s2">"75"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"total_points"</span><span class="p">:</span><span class="w"> </span><span class="s2">"75"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"old_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6464658"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"old_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOT_INTERESTED"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code>
<span class="nt">&lt;response&gt;</span>
    <span class="nt">&lt;status&gt;</span>
        <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
        <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/status&gt;</span>
    <span class="nt">&lt;transactions&gt;</span>
        <span class="nt">&lt;transaction&gt;</span>
            <span class="nt">&lt;id&gt;</span>34007568<span class="nt">&lt;/id&gt;</span>
            <span class="nt">&lt;number&gt;</span>retronumbr9931156917<span class="nt">&lt;/number&gt;</span>
            <span class="nt">&lt;type&gt;</span>REGULAR<span class="nt">&lt;/type&gt;</span>
            <span class="nt">&lt;customer&gt;</span>
                <span class="nt">&lt;user_id&gt;</span>282024042<span class="nt">&lt;/user_id&gt;</span>
                <span class="nt">&lt;mobile&gt;</span>44700900999<span class="nt">&lt;/mobile&gt;</span>
                <span class="nt">&lt;email&gt;</span>catherine@example.com<span class="nt">&lt;/email&gt;</span>
                <span class="nt">&lt;external_id&gt;</span>ext_id9931156917<span class="nt">&lt;/external_id&gt;</span>
                <span class="nt">&lt;loyalty_points&gt;</span>75<span class="nt">&lt;/loyalty_points&gt;</span>
                <span class="nt">&lt;lifetime_points&gt;</span>75<span class="nt">&lt;/lifetime_points&gt;</span>
                <span class="nt">&lt;lifetime_purchases&gt;</span>1500<span class="nt">&lt;/lifetime_purchases&gt;</span>
                <span class="nt">&lt;current_slab&gt;</span>Platinum<span class="nt">&lt;/current_slab&gt;</span>
                <span class="nt">&lt;tier_expiry_date&gt;</span>2117-01-03 23:59:59<span class="nt">&lt;/tier_expiry_date&gt;</span>
                <span class="nt">&lt;type&gt;</span>loyalty<span class="nt">&lt;/type&gt;</span>
            <span class="nt">&lt;/customer&gt;</span>
            <span class="nt">&lt;delivery_status&gt;</span>DELIVERED<span class="nt">&lt;/delivery_status&gt;</span>
            <span class="nt">&lt;source&gt;</span>instore<span class="nt">&lt;/source&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
                <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
                <span class="nt">&lt;code&gt;</span>1630<span class="nt">&lt;/code&gt;</span>
                <span class="nt">&lt;message&gt;</span>Transaction retrospectively marked REGULAR, Transaction added successfully<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
            <span class="nt">&lt;side_effects&gt;</span>
                <span class="nt">&lt;effect&gt;</span>
                    <span class="nt">&lt;type&gt;</span>points<span class="nt">&lt;/type&gt;</span>
                    <span class="nt">&lt;awarded_points&gt;</span>75<span class="nt">&lt;/awarded_points&gt;</span>
                    <span class="nt">&lt;total_points&gt;</span>75<span class="nt">&lt;/total_points&gt;</span>
                <span class="nt">&lt;/effect&gt;</span>
            <span class="nt">&lt;/side_effects&gt;</span>
            <span class="nt">&lt;old_id&gt;</span>6464658<span class="nt">&lt;/old_id&gt;</span>
            <span class="nt">&lt;old_type&gt;</span>NOT_INTERESTED<span class="nt">&lt;/old_type&gt;</span>
        <span class="nt">&lt;/transaction&gt;</span>
    <span class="nt">&lt;/transactions&gt;</span>
    <span class="nt">&lt;side_effects/&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre>
<p>Retro transaction means you can convert a not-interested transaction to a loyalty transaction (by tagging a not-interested transaction to the respective customer once registered). </p>

<p>To avail Retro Transaction, you need to enable <strong>CONF_RETRO_TRANSACTION_ENABLE</strong> on InTouch&gt; <strong>Settings</strong> &gt; <strong>Systems &amp; Deployment</strong> &gt; <strong>InTouch PoS Configuration</strong> &gt; <strong>Billing</strong> page. </p>

<p>On the Billing page, you will also see a configuration to set the maximum duration allowed convert a not-interested transaction regular.</p>

<ul>
<li>CONF_CLIENT_RETRO_DELAY_SINCE_REGISTRATION_HOURS<br></li>
<li>CONF_CLIENT_RETRO_MAX_ALLOWED_AGE_DAYS</li>
</ul>

<h3 id="additional-header-required-for-retro-transaction">Additional Header Required for Retro Transaction</h3>

<p>&lsquo;X-CAP-CLIENT-SIGNATURE&rsquo;</p>

<p>To recognize which source has made the retro call, you need to pass the name of the source. It is recommended to use a single name for a source so that it would be easy to track retro transactions of each source.  </p>

<p>Example &rsquo;&ldquo;X-CAP-CLIENT-SIGNATURE&rdquo;:&ldquo;INTOUCH_BLR&rdquo;&rsquo;</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/update</code></td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>POST</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/v1.1/transaction/update?format={xml/json}</code></p>

<h3 id="request-body-parameters">Request Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Datatype</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>mobile/external_id/email/id*</td>
<td>string</td>
<td>Pass any one of the customer identifiers.</td>
</tr>
<tr>
<td>new_type*</td>
<td>enum</td>
<td>Specify <code class="prettyprint">REGULAR</code> to convert to regular transaction.</td>
</tr>
<tr>
<td>notes</td>
<td>string</td>
<td>Provide any additional information about the conversion for reference.</td>
</tr>
<tr>
<td>id*</td>
<td>int</td>
<td>Unique ID of the transaction that you want to convert.</td>
</tr>
<tr>
<td>old_type*</td>
<td>enum</td>
<td>Earlier type of transaction. Usually, it will be <code class="prettyprint">NOT_INTERESTED</code>.</td>
</tr>
</tbody></table>

<aside class="notice">Parameters marked with * are mandatory. </aside>

<h2 id="fetch-transaction-details">Fetch Transaction Details</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight html"><code>https://us.api.capillarytech.com/v1.1/transaction/get?format=xml<span class="err">&amp;</span>id=5477576
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5477576"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MyBill-076"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REGULAR"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"43445"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900999"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Catherine"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Earnshaw"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"600"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Transaction retrieved successfully"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2 line items"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"billing_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-04-01 00:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"gross_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"discount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"custom_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"field"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"field name"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[“value”]"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"line_items"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"line_item"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"serial"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"item_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"item-001"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"soap"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"qty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"discount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"attribute"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"color"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"red"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code>
<span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;response&gt;</span>
    <span class="nt">&lt;transactions&gt;</span>
        <span class="nt">&lt;transaction&gt;</span>
            <span class="nt">&lt;id&gt;</span>5477576<span class="nt">&lt;/id&gt;</span>
            <span class="nt">&lt;number&gt;</span>MyBill-076<span class="nt">&lt;/number&gt;</span>
            <span class="nt">&lt;type&gt;</span>REGULAR<span class="nt">&lt;/type&gt;</span>
            <span class="nt">&lt;customer&gt;</span>
                <span class="nt">&lt;user_id&gt;</span>43445<span class="nt">&lt;/user_id&gt;</span>
                <span class="c">&lt;!--
returned only when query param user_id is true
--&gt;</span>
                <span class="nt">&lt;mobile&gt;</span>44700900999<span class="nt">&lt;/mobile&gt;</span>
                <span class="nt">&lt;email</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;external_id</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;firstname&gt;</span>Catherine<span class="nt">&lt;/firstname&gt;</span>
                <span class="nt">&lt;lastname&gt;</span>Earnshaw<span class="nt">&lt;/lastname&gt;</span>
            <span class="nt">&lt;/customer&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
                <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
                <span class="nt">&lt;code&gt;</span>600<span class="nt">&lt;/code&gt;</span>
                <span class="nt">&lt;message&gt;</span>Transaction retrieved successfully<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
            <span class="nt">&lt;amount&gt;</span>1000<span class="nt">&lt;/amount&gt;</span>
            <span class="nt">&lt;notes&gt;</span>2 line items<span class="nt">&lt;/notes&gt;</span>
            <span class="nt">&lt;billing_time&gt;</span>2012-04-01 00:00:00<span class="nt">&lt;/billing_time&gt;</span>
            <span class="nt">&lt;gross_amount&gt;</span>1000<span class="nt">&lt;/gross_amount&gt;</span>
            <span class="nt">&lt;discount&gt;</span>0<span class="nt">&lt;/discount&gt;</span>
            <span class="nt">&lt;store</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;custom_fields&gt;</span>
                <span class="nt">&lt;field&gt;</span>
                    <span class="nt">&lt;name&gt;</span>field name<span class="nt">&lt;/name&gt;</span>
                    <span class="nt">&lt;value&gt;</span>[“value”]<span class="nt">&lt;/value&gt;</span>
                <span class="nt">&lt;/field&gt;</span>
            <span class="nt">&lt;/custom_fields&gt;</span>
            <span class="nt">&lt;line_items&gt;</span>
                <span class="nt">&lt;line_item&gt;</span>
                    <span class="nt">&lt;serial&gt;</span>1<span class="nt">&lt;/serial&gt;</span>
                    <span class="nt">&lt;item_code&gt;</span>item-001<span class="nt">&lt;/item_code&gt;</span>
                    <span class="nt">&lt;description&gt;</span>soap<span class="nt">&lt;/description&gt;</span>
                    <span class="nt">&lt;qty&gt;</span>50<span class="nt">&lt;/qty&gt;</span>
                    <span class="nt">&lt;rate&gt;</span>10<span class="nt">&lt;/rate&gt;</span>
                    <span class="nt">&lt;value&gt;</span>500<span class="nt">&lt;/value&gt;</span>
                    <span class="nt">&lt;discount&gt;</span>0<span class="nt">&lt;/discount&gt;</span>
                    <span class="nt">&lt;amount&gt;</span>500<span class="nt">&lt;/amount&gt;</span>
                    <span class="nt">&lt;attributes&gt;</span>
                        <span class="nt">&lt;attribute&gt;</span>
                            <span class="nt">&lt;name&gt;</span>color<span class="nt">&lt;/name&gt;</span>
                            <span class="nt">&lt;value&gt;</span>red<span class="nt">&lt;/value&gt;</span>
                        <span class="nt">&lt;/attribute&gt;</span>
                    <span class="nt">&lt;/attributes&gt;</span>
                <span class="nt">&lt;/line_item&gt;</span>
            <span class="nt">&lt;/line_items&gt;</span>
        <span class="nt">&lt;/transaction&gt;</span>
    <span class="nt">&lt;/transactions&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre>
<p>This API allows you to fetch the details of a specific transaction based on the transaction id.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/get</code></td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/v1.1/transaction/get?{identifier_type}={value}&amp;format={xml/json}</code></p>

<h3 id="additional-header">Additional Header</h3>

<table><thead>
<tr>
<th>Header</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>language</td>
<td>Specify the ISO language code to get transaction level extended field details in your preferred language (other than English). For example, <code class="prettyprint">zh</code> for Chinese, <code class="prettyprint">id</code> for Indonesian, <code class="prettyprint">ar</code> for Arabic.</td>
</tr>
</tbody></table>

<h3 id="request-query-parameters">Request Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Datatype</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>identifier_type*</td>
<td>enum</td>
<td>Pass any of the identifier types you want to use to identify customer. Value: <code class="prettyprint">mobile</code>, <code class="prettyprint">email</code>, <code class="prettyprint">external_id</code>, <code class="prettyprint">id</code> (customer id or user id).</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>Pass the respective identifier value.</td>
</tr>
<tr>
<td>store_code</td>
<td>string</td>
<td>Fetch the transactions of a specific store. Pass the store code.</td>
</tr>
<tr>
<td>till_code</td>
<td>string</td>
<td>Fetch the transactions made at a specific TILL. Pass the respective TILL code.</td>
</tr>
<tr>
<td>credit_notes</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>tenders</td>
<td>-</td>
<td></td>
</tr>
<tr>
<td>amount</td>
<td>float</td>
<td>Fetch the transactions of a specific amount.</td>
</tr>
<tr>
<td>min_amount</td>
<td>float</td>
<td>Fetch transactions of a specific amount range in <code class="prettyprint">min_amount</code> and <code class="prettyprint">max_amount</code>.</td>
</tr>
<tr>
<td>max_amount</td>
<td>float</td>
<td>Fetch the transactions of a specific amount range, i.e., min_amount - max_amount.</td>
</tr>
<tr>
<td>start_date</td>
<td>date</td>
<td>Fetch transactions of a specific duration., between start_date and end_date.</td>
</tr>
<tr>
<td>end_date</td>
<td>date</td>
<td>Fetch transactions of a specific duration., between start_date and end_date.</td>
</tr>
<tr>
<td>start_id</td>
<td>int</td>
<td>Fetch transactions of a specific transaction id range., between start_id and end_id. For example, transaction ids between 1000 - 4999.</td>
</tr>
<tr>
<td>end_id</td>
<td>int</td>
<td>Fetch transactions of a specific transaction id range., between start_id and end_id. For examples, transaction ids between 1000 - 4999.</td>
</tr>
<tr>
<td>number</td>
<td>string</td>
<td>Fetch the details of a specific transaction based on the transaction number passed.</td>
</tr>
<tr>
<td>date</td>
<td>date</td>
<td>Fetch transactions of a specific date.</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>Limit the number of transactions to be fetched. DefaultValue is 20 and max limit is 100.</td>
</tr>
<tr>
<td>type</td>
<td>enum</td>
<td>Fetch a specific type of transaction. Values: <code class="prettyprint">REGULAR</code>, <code class="prettyprint">NOT_INTERESTED</code>, <code class="prettyprint">RETURN</code>, <code class="prettyprint">NOT_INTERESTED_RETURN</code>, <code class="prettyprint">MIXED</code>. By default it shows the details of regular transaction.</td>
</tr>
</tbody></table>

<aside class="notice">Parameters marked with * is mandatory.</aside>

<h2 id="response-codes">Response Codes</h2>

<h3 id="success-codes">Success Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>600</td>
<td>Transaction added successfully</td>
</tr>
<tr>
<td></td>
<td>Transaction retrieved successfully</td>
</tr>
<tr>
<td></td>
<td>Transaction updated successfully</td>
</tr>
</tbody></table>

<h3 id="error-codes">Error Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>601</td>
<td>Transaction failed. Transaction amount/quantity/ rate/discount is invalid.</td>
</tr>
<tr>
<td>602</td>
<td>Transaction number is invalid</td>
</tr>
<tr>
<td>603</td>
<td>Points are already used (Deprecated)</td>
</tr>
<tr>
<td>604</td>
<td>Transaction number already exists</td>
</tr>
<tr>
<td>605</td>
<td>Invalid transaction type. Only regular, return and not-interested transaction types are supported</td>
</tr>
<tr>
<td>606</td>
<td>Customer identifier is not passed. Please enter customer&rsquo;s mobile or email or external id to process.</td>
</tr>
<tr>
<td>607</td>
<td>Transaction id is not passed. Please pass the transaction id to process.</td>
</tr>
<tr>
<td>608</td>
<td>Unable to process the transaction</td>
</tr>
<tr>
<td>609</td>
<td>Update failed. Please verify all the fields.</td>
</tr>
<tr>
<td>610</td>
<td>Unable to register. Please verify all the fields.</td>
</tr>
<tr>
<td>611</td>
<td>Customer not found</td>
</tr>
<tr>
<td>614</td>
<td>Transaction is already cancelled</td>
</tr>
<tr>
<td>615</td>
<td>Transaction details are not passed</td>
</tr>
<tr>
<td>616</td>
<td>Item code already exists</td>
</tr>
<tr>
<td>617</td>
<td>Invalid attribute for the item</td>
</tr>
<tr>
<td>618</td>
<td>Customer is marked as fraud.</td>
</tr>
<tr>
<td>619</td>
<td>Transaction id is not provided</td>
</tr>
<tr>
<td>620</td>
<td>Transaction id is invalid.</td>
</tr>
<tr>
<td>621</td>
<td>Transaction date is invalid. Transaction date should be within the accepted past or future date range limit</td>
</tr>
<tr>
<td>622</td>
<td>Unable to add line-item</td>
</tr>
<tr>
<td>623</td>
<td>Unable to trigger other related events for the transaction</td>
</tr>
<tr>
<td>624</td>
<td>Unable to process return-transaction. You can make a return only after adding a transaction.</td>
</tr>
<tr>
<td>625</td>
<td>Transaction number does not exist</td>
</tr>
<tr>
<td>626</td>
<td>Unable to return transaction. The quantity of returned items are more than purchased items</td>
</tr>
<tr>
<td>627</td>
<td>Quantity cannot be negative</td>
</tr>
<tr>
<td>628</td>
<td>The entire transaction is already returned</td>
</tr>
<tr>
<td>629</td>
<td>The return quantity of the item is more than available quantity</td>
</tr>
<tr>
<td>630</td>
<td>The return amount is more than the transaction/line-item amount</td>
</tr>
<tr>
<td>631</td>
<td>Transaction amount cannot be negative</td>
</tr>
<tr>
<td>632</td>
<td>Cannot return the transaction with return type LINE_ITEM because the type AMOUNT has already been used for returning the same transaction</td>
</tr>
<tr>
<td>633</td>
<td>The entire transaction is already returned</td>
</tr>
<tr>
<td>634</td>
<td>This transaction is already returned</td>
</tr>
<tr>
<td>635</td>
<td>Cannot return the transaction with the return type AMOUNT because the type LINE_ITEM has been used for returning the same transaction</td>
</tr>
<tr>
<td>636</td>
<td>The transaction is already returned with the return type as LINE_ITEM. You can process return for other items only with return type LINE_ITEM</td>
</tr>
<tr>
<td>637</td>
<td>Unable to revert points issued to the customer (for return transaction). Please try again later</td>
</tr>
<tr>
<td>638</td>
<td>Unable to return transaction. The transaction is already returned with type LINE_ITEM. Hence, you cannot use the type AMOUNT for the same transaction</td>
</tr>
<tr>
<td>639</td>
<td>Unable to return full transaction. A part of the transaction or complete transaction is already returned</td>
</tr>
<tr>
<td>640</td>
<td>Points or coupons are not redeemed for this transaction</td>
</tr>
<tr>
<td>641</td>
<td>No customer found</td>
</tr>
<tr>
<td>642</td>
<td>Redemption failed. An error occurred in points/coupon redemption</td>
</tr>
<tr>
<td>643</td>
<td>Transaction is invalid. The transaction date exceeds the accepted future date limit</td>
</tr>
<tr>
<td>644</td>
<td>Transaction is invalid. The transaction date should not be less than the accepted past date limit.</td>
</tr>
<tr>
<td>645</td>
<td>Transaction addition failed for not interested</td>
</tr>
<tr>
<td>646</td>
<td>Customer registration failed. The email id is invalid</td>
</tr>
<tr>
<td>647</td>
<td>Customer registration failed. Email id is already assigned to another customer</td>
</tr>
<tr>
<td>648</td>
<td>Customer registration failed. Mobile number is already assigned to another customer</td>
</tr>
<tr>
<td>649</td>
<td>Customer registration failed. Mobile number is invalid.</td>
</tr>
<tr>
<td>650</td>
<td>Customer registration failed. Mobile number is not accepted as a unique identifier</td>
</tr>
<tr>
<td>651</td>
<td>Customer registration failed. Mobile number is required for registration.</td>
</tr>
<tr>
<td>652</td>
<td>Customer registration failed. Mobile number/email id/external id is invalid.</td>
</tr>
<tr>
<td>653</td>
<td>Customer registration failed. External id is already assigned to another customer</td>
</tr>
<tr>
<td>654</td>
<td>Customer registration failed. External id is not accepted as a unique identifier</td>
</tr>
<tr>
<td>655</td>
<td>Customer registration failed. Customer is not registered in loyalty program</td>
</tr>
<tr>
<td>656</td>
<td>No customer found.</td>
</tr>
<tr>
<td>657</td>
<td>Customer registration failed. Registration in EUP failed.</td>
</tr>
<tr>
<td>658</td>
<td>Customer registration failed. Only email id is not sufficient for registration</td>
</tr>
<tr>
<td>659</td>
<td>Customer registration failed. Please enter email id to register</td>
</tr>
<tr>
<td>660</td>
<td>Customer registration failed. Registration date exceeds the accepted past or future date limit.</td>
</tr>
<tr>
<td>661</td>
<td>Amount of the line-item amount cannot be negative</td>
</tr>
<tr>
<td>662</td>
<td>Value of a line cannot be negative</td>
</tr>
<tr>
<td>663</td>
<td>Rate of a line-item cannot be negative</td>
</tr>
<tr>
<td>664</td>
<td>Discount of a line-item cannot be negative</td>
</tr>
<tr>
<td>665</td>
<td>Gross amount of the transaction cannot be negative</td>
</tr>
<tr>
<td>666</td>
<td>Discount of the transaction cannot be negative</td>
</tr>
<tr>
<td>667</td>
<td>Unable to find the transaction id for this customer</td>
</tr>
<tr>
<td>668</td>
<td>Unable to find the transaction number for this customer</td>
</tr>
<tr>
<td>669</td>
<td>Unable to update custom field</td>
</tr>
<tr>
<td>670</td>
<td>Transaction id/number is not provided</td>
</tr>
<tr>
<td>671</td>
<td>Invalid Store TILL code</td>
</tr>
<tr>
<td>672</td>
<td>Batch limit exceeded.</td>
</tr>
<tr>
<td>673</td>
<td>Returning of transactions is not allowed</td>
</tr>
<tr>
<td>674</td>
<td>Returning of line item is not allowed</td>
</tr>
<tr>
<td>675</td>
<td>Returning of transaction amount is not allowed</td>
</tr>
<tr>
<td>676</td>
<td>Returning of a complete transaction amount is not allowed</td>
</tr>
<tr>
<td>677</td>
<td>Unable to process. Please enter a transaction number for returning a transaction</td>
</tr>
<tr>
<td>678</td>
<td>Amount of returned item is more than purchased item</td>
</tr>
<tr>
<td>679</td>
<td>Line-item(s) to be returned is not specified</td>
</tr>
<tr>
<td>680</td>
<td>No transactions of the specific customer were found</td>
</tr>
<tr>
<td>681</td>
<td>Transactions are blocked for this customer</td>
</tr>
<tr>
<td>686</td>
<td>Points processing failed</td>
</tr>
<tr>
<td>687</td>
<td>Points processing failed</td>
</tr>
<tr>
<td>688</td>
<td>The configuration is invalid. Please report to the Capillary Support</td>
</tr>
<tr>
<td>689</td>
<td>Points processing failed</td>
</tr>
<tr>
<td>690</td>
<td>Points processing failed</td>
</tr>
<tr>
<td>691</td>
<td>Points processing failed</td>
</tr>
<tr>
<td>692</td>
<td>Points processing failed</td>
</tr>
<tr>
<td>693</td>
<td>Points processing failed</td>
</tr>
<tr>
<td>694</td>
<td>Points processing failed</td>
</tr>
<tr>
<td>695</td>
<td>Invalid configuration. Please report to the Capillary Support.</td>
</tr>
<tr>
<td>696</td>
<td>Points processing failed</td>
</tr>
<tr>
<td>697</td>
<td>Points processing failed</td>
</tr>
<tr>
<td>698</td>
<td>Points processing failed</td>
</tr>
<tr>
<td>699</td>
<td>Invalid configuration. Please report to the Capillary Support</td>
</tr>
<tr>
<td>1623</td>
<td>Transaction type is invalid</td>
</tr>
<tr>
<td>1624</td>
<td>Provided parameters are not sufficient to fetch transaction</td>
</tr>
<tr>
<td>1625</td>
<td>Target type is not specified</td>
</tr>
<tr>
<td>1626</td>
<td>The requested transaction type cannot be changed</td>
</tr>
<tr>
<td>1627</td>
<td>The transaction is already marked as retro</td>
</tr>
<tr>
<td>1628</td>
<td>Transaction id is invalid</td>
</tr>
<tr>
<td>1629</td>
<td>Client signature is required to perform this action</td>
</tr>
<tr>
<td>1631</td>
<td>Retro transaction is not enabled for your organization</td>
</tr>
<tr>
<td>1632</td>
<td>Registration date is too older than the transaction date. See the retro configuration set for your organization</td>
</tr>
<tr>
<td>1633</td>
<td>The duration between registration and transaction mapping exceeds the limit set</td>
</tr>
<tr>
<td>1634</td>
<td>Return type is invalid</td>
</tr>
<tr>
<td>1635</td>
<td>Please pass line-items that need to be returned</td>
</tr>
<tr>
<td>1636</td>
<td>Transaction status is invalid</td>
</tr>
</tbody></table>

          <h1 id="points">Points</h1>

<p>Points represent loyalty points of an organization that are issued to the loyalty customers through different sources such as Loyalty Manager, Data Import (import profiles) and Member Care (GoodWill points). Customers can redeem their points against transactions. </p>

<aside class="warning"> 
Points cannot be issued through APIs. It can be issued only through modules such as Loyalty Manager, Data Import and Member Care. 
</aside>

<p>The APIs of points entity are interdependent. For example, to redeem points, first you need to check whether a customer can redeem those points (isreedemable), validate customer&rsquo;s registered mobile number by issuing validation code, and then redeem points using the validation code received by the customer.</p>

<p>The points entity allows you to perform the following tasks:</p>

<ul>
<li>Check whether a specific number of points can be redeemed by a customer<br></li>
<li>Issue validation code to the registered mobile number/email id to validate customer </li>
<li>Redeem points using the validation code received by the customer</li>
</ul>

<h2 id="check-if-points-are-redeemable">Check If Points are Redeemable</h2>
<pre class="highlight html"><code># Sample Request
http://us.intouch.capillarytech.com/v1.1/points/isredeemable?format=json<span class="err">&amp;</span>points=100<span class="err">&amp;</span>issue_otp=true<span class="err">&amp;</span>mobile=44700900999
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"responses"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"points"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900999"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"points_redeemed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"redeemed_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"257"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"800"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Points Redeemed"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"points"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"redeemable"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900999"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"points"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"is_redeemable"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"points_currency_ratio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"800"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Points can be redeemed"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code><span class="nt">&lt;response&gt;</span>  
<span class="nt">&lt;status&gt;</span>    
<span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>    
<span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>    
<span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>  
<span class="nt">&lt;/status&gt;</span>  
<span class="nt">&lt;responses&gt;</span>    
<span class="nt">&lt;points&gt;</span>      
<span class="nt">&lt;mobile&gt;</span>44700900999<span class="nt">&lt;/mobile&gt;</span>
<span class="nt">&lt;email&gt;&lt;/email&gt;</span>
<span class="nt">&lt;external_id&gt;&lt;/external_id&gt;</span>
<span class="nt">&lt;points_redeemed&gt;</span>100<span class="nt">&lt;/points_redeemed&gt;</span>      
<span class="nt">&lt;redeemed_value&gt;</span>100<span class="nt">&lt;/redeemed_value&gt;</span>
<span class="nt">&lt;balance&gt;</span>257<span class="nt">&lt;/balance&gt;</span>
<span class="nt">&lt;item_status&gt;</span>        
<span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>        
<span class="nt">&lt;code&gt;</span>800<span class="nt">&lt;/code&gt;</span>        
<span class="nt">&lt;message&gt;</span>Points Redeemed<span class="nt">&lt;/message&gt;</span>      
<span class="nt">&lt;/item_status&gt;</span>    <span class="nt">&lt;response&gt;</span>  
<span class="nt">&lt;status&gt;</span>    
<span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>    
<span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>    
<span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>  
<span class="nt">&lt;/status&gt;</span>  
<span class="nt">&lt;points&gt;</span>    
<span class="nt">&lt;redeemable&gt;</span>      
<span class="nt">&lt;mobile&gt;</span>44700900999<span class="nt">&lt;/mobile&gt;</span>      
<span class="nt">&lt;points&gt;</span>100<span class="nt">&lt;/points&gt;</span>
<span class="nt">&lt;is_redeemable&gt;</span>true<span class="nt">&lt;/is_redeemable&gt;</span> 
<span class="nt">&lt;points_currency_ratio&gt;</span>0<span class="nt">&lt;/points_currency_ratio&gt;</span>
<span class="nt">&lt;item_status&gt;</span>        
<span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>        
<span class="nt">&lt;code&gt;</span>800<span class="nt">&lt;/code&gt;</span>        
<span class="nt">&lt;message&gt;</span>Points can be redeemed<span class="nt">&lt;/message&gt;</span>      
<span class="nt">&lt;/item_status&gt;</span>    
<span class="nt">&lt;/redeemable&gt;</span>  
<span class="nt">&lt;/points&gt;</span>
<span class="nt">&lt;/response&gt;</span>
<span class="nt">&lt;/points&gt;</span>  
<span class="nt">&lt;/responses&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre>
<p>Customers can redeem their active points according to the redemption criteria set for the organization (Loyalty Program). For example, I could set redemption criteria as allow redemption only in multiples of 10 and a maximum of 200 points per time.</p>

<p>This API lets you verify whether a specific number of points can be redeemed by a customer. With this API, you can now issue validation code to the customer  automatically upon successful validation. This will reduce an additional step of calling points/validationcode API to issue validation code.</p>

<aside class="notice">
* If there is any problem in issuing validation code, Points Redeemable but OTP Generation failed error will be displayed (876)

* if points validation itself fails, then the relevant error message will be displayed
</aside>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Entry</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>points/isredeemable</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Method</td>
<td>GET</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p>To validate points and issue code if the validation is successful
<code class="prettyprint">http://&lt;cluster url&gt;/v1.1/points/isredeemable?format=&lt;xml/json&gt;&amp;points=&lt;points to redeem&gt;&amp;issue_otp=true&amp;mobile/email=&lt;mobile no./email id&gt;</code></p>

<p>To just validate points
<code class="prettyprint">http://&lt;cluster url&gt;/v1.1/points/isredeemable?format=&lt;xml/json&gt;&amp;points=&lt;points to redeem&gt;&amp;validation_code=&lt;OTP&gt;&amp;mobile/email=&lt;mobile no./email id&gt;</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>mobile/email/external_id/user_id*</td>
<td>Provide the registered mobile number or email id of the customer to issue validation code</td>
</tr>
<tr>
<td>points*</td>
<td>Number of points to redeem</td>
</tr>
<tr>
<td>issue_otp=true</td>
<td>Issues OTP to the customer if the points are validated successfully</td>
</tr>
<tr>
<td>validation_code</td>
<td>OTP issued to the customer&rsquo;s mobile number</td>
</tr>
</tbody></table>

<h2 id="issue-validation-code-for-redeeming-points">Issue Validation Code for Redeeming Points</h2>
<pre class="highlight html"><code>http://us.intouch.capillarytech.com/v1.1/points/validationcode?format=json<span class="err">&amp;</span>mobile=447700900000<span class="err">&amp;</span>points=50
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"validation_code"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55456"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900999"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"points"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"
Validation Code Issued by SMS/Email
"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code><span class="nt">&lt;response&gt;</span>  
<span class="nt">&lt;status&gt;</span>    
<span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>    
<span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>    
<span class="nt">&lt;message&gt;</span>Operation Successful<span class="nt">&lt;/message&gt;</span>  
<span class="nt">&lt;/status&gt;</span>  
<span class="nt">&lt;validation_code&gt;</span>    
<span class="nt">&lt;code&gt;</span>      
<span class="nt">&lt;user_id&gt;</span>55456<span class="nt">&lt;/user_id&gt;</span>
<span class="nt">&lt;mobile&gt;</span>44700900999<span class="nt">&lt;/mobile&gt;</span>      
<span class="nt">&lt;points&gt;</span>50<span class="nt">&lt;/points&gt;</span>   
<span class="nt">&lt;item_status&gt;</span>        
<span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>        
<span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>        
<span class="nt">&lt;message&gt;</span>
Validation Code Issued by SMS/Email
<span class="nt">&lt;/message&gt;</span>      
<span class="nt">&lt;/item_status&gt;</span>    
<span class="nt">&lt;/code&gt;</span>  
<span class="nt">&lt;/validation_code&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre>
<p>Before making <code class="prettyprint">points/redeem</code> API call, you need to validate the customer by issuing validation code to the registered mobile number/email id. </p>

<p>This API allows you to issue a dynamic validation code to the customer&rsquo;s registered mobile number/email id which is required to pass while redeeming points. The validation code is valid only for a specific time period post which it expires automatically. If you try to issue validation code within the validity period, same code will be issued again.</p>

<p>The validity period and communicate via is set on the <strong>OTPConfigurations</strong> page of InTouch &gt; <strong>Settings</strong> &gt; <strong>Organization Setup</strong></p>

<ul>
<li><strong>OTP code validity period</strong>: The validity of the validation code in minutes</li>
<li><strong>Communicate OTP Via</strong>: Mode of sending the validation code, email/sms/both</li>
</ul>

<aside class="notice"> 
The validation code is issued either to mobile number, or email id or both, based on the configuration set on the page InTouch > Settings > Organization Setup > OTPConfigurations
</aside>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Entry</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>points/validationcode</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Method</td>
<td>GET</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/points/validationcode?format=&lt;xml/json&gt;&amp;&lt;query_param&gt;=&lt;value&gt;&amp;points=&lt;points_to_be_redeemed&gt;</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Customer Identifier*</td>
<td>Pass any identifier (mobile/email/external_id/user_id)of the customer to issue validation code</td>
</tr>
<tr>
<td>points*</td>
<td>Number of points to redeem</td>
</tr>
</tbody></table>

<h2 id="redeem-points">Redeem Points</h2>
<pre class="highlight html"><code># Sample Request
http://us.intouch.capillarytech.com/v1.1/points/redeem?validation_type=SMS<span class="err">&amp;</span>program_id=504'
format=json
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"root"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"redeem"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nt">"points_redeemed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"transaction_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234r743"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900999"</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="nt">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample notes"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"validation_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6D18DU"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"redemption_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-11-21 11:30:11"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code><span class="nt">&lt;root&gt;</span>
<span class="nt">&lt;redeem&gt;</span>
<span class="nt">&lt;points_redeemed&gt;</span>100<span class="nt">&lt;/points_redeemed&gt;</span>
<span class="nt">&lt;transaction_number&gt;</span>1234r743<span class="nt">&lt;/transaction_number&gt;</span>
<span class="nt">&lt;customer&gt;</span>
<span class="nt">&lt;mobile&gt;</span>44700900999<span class="nt">&lt;/mobile&gt;</span>
<span class="nt">&lt;email&gt;&lt;/email&gt;</span>
<span class="nt">&lt;external_id&gt;&lt;/external_id&gt;</span>
<span class="nt">&lt;/customer&gt;</span>
<span class="nt">&lt;notes&gt;</span>Sample notes<span class="nt">&lt;/notes&gt;</span>
<span class="nt">&lt;validation_code&gt;</span>6D18DU<span class="nt">&lt;/validation_code&gt;</span>
<span class="nt">&lt;redemption_time&gt;</span>2016-11-21 11:30:11<span class="nt">&lt;/redemption_time&gt;</span>
<span class="nt">&lt;/redeem&gt;</span>
<span class="nt">&lt;/root&gt;</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"responses"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"points"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900999"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"points_redeemed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"redeemed_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"257"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"800"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Points Redeemed"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code><span class="nt">&lt;response&gt;</span>  
<span class="nt">&lt;status&gt;</span>    
<span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>    
<span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>    
<span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>  
<span class="nt">&lt;/status&gt;</span>  
<span class="nt">&lt;responses&gt;</span>    
<span class="nt">&lt;points&gt;</span>      
<span class="nt">&lt;mobile&gt;</span>44700900999<span class="nt">&lt;/mobile&gt;</span>
<span class="nt">&lt;email&gt;&lt;/email&gt;</span>
<span class="nt">&lt;external_id&gt;&lt;/external_id&gt;</span>
<span class="nt">&lt;points_redeemed&gt;</span>100<span class="nt">&lt;/points_redeemed&gt;</span>      
<span class="nt">&lt;redeemed_value&gt;</span>100<span class="nt">&lt;/redeemed_value&gt;</span>
<span class="nt">&lt;balance&gt;</span>257<span class="nt">&lt;/balance&gt;</span>
<span class="nt">&lt;item_status&gt;</span>        
<span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>        
<span class="nt">&lt;code&gt;</span>800<span class="nt">&lt;/code&gt;</span>        
<span class="nt">&lt;message&gt;</span>Points Redeemed<span class="nt">&lt;/message&gt;</span>      
<span class="nt">&lt;/item_status&gt;</span>    
<span class="nt">&lt;/points&gt;</span>  
<span class="nt">&lt;/responses&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre>
<p>You can redeem points of a customer using the issued validation code. Ensure that you have validated the points to be redeemed and issued validation code to the customer&rsquo;s mobile number before redeeming. You need to have the validation code to process points redemption.</p>

<aside class="warning"> 
You need to use the validation code within the validity period. You can check the validity set for the validation code in **OTP code validity period** field on InTouch > **Settings** > **Organization Setup** > **OTPConfigurations** page
</aside>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Entry</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>points/redeem</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Method</td>
<td>POST</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/points/redeem?format=&lt;xml/json&gt;&amp;{query_param}={param_value}</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>mobile*</td>
<td>Provide the registered mobile number of the customer to redeem points</td>
</tr>
<tr>
<td>points_redeemed*</td>
<td>Provide the number of points to be redeemed</td>
</tr>
<tr>
<td>transaction_number</td>
<td>Provide the transaction number for which the points has to be redeemed</td>
</tr>
<tr>
<td>validation_code*</td>
<td>Provide the validation code received by the customer through <code class="prettyprint">points/validationcode</code></td>
</tr>
<tr>
<td>redemption_time</td>
<td>Provide the redemption date and time in YYYY-MM-DD HH-MM-SS format</td>
</tr>
<tr>
<td>program_id</td>
<td>Program id associated to the points that you want to redeem. Required only for orgs with MLP enabled</td>
</tr>
</tbody></table>

<h2 id="response-codes">Response Codes</h2>

<h3 id="success-codes">Success Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>800</td>
<td>Points redeemed successfully</td>
</tr>
</tbody></table>

<h3 id="error-codes">Error Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>801</td>
<td>Points you are trying to redeem are invalid</td>
</tr>
<tr>
<td>802</td>
<td>Mobile number/email id/external id you have entered is invalid</td>
</tr>
<tr>
<td>803</td>
<td>Unable to redeem. The points you are trying to redeem is more than the available points</td>
</tr>
<tr>
<td>804</td>
<td>Insufficient current points.</td>
</tr>
<tr>
<td>805</td>
<td>Insufficient lifetime points.</td>
</tr>
<tr>
<td>806</td>
<td>Insufficient lifetime purchases amount.</td>
</tr>
<tr>
<td>807</td>
<td>Unable to redeem. Make sure that the points you are trying to redeem is a multiple of <X>. Check the points redemption configuration of your organization.</td>
</tr>
<tr>
<td>808</td>
<td>Unable to redeem. Validation code is invalid</td>
</tr>
<tr>
<td>809</td>
<td>Unable to process. Customer is marked as fraud</td>
</tr>
<tr>
<td>810</td>
<td>Mismatch in points for revert API call</td>
</tr>
<tr>
<td>811</td>
<td>The transaction number entered to redeem/revert points is invalid</td>
</tr>
<tr>
<td>812</td>
<td>The points have been reverted already for this transaction number</td>
</tr>
<tr>
<td>813</td>
<td>Insufficient current points available for redemption</td>
</tr>
<tr>
<td>814</td>
<td>No points were redeemed on this transaction number</td>
</tr>
<tr>
<td>815</td>
<td>Unable to process points at this moment. Please try again later</td>
</tr>
<tr>
<td>816</td>
<td>Unable to find customer in this organization</td>
</tr>
<tr>
<td>817</td>
<td>Points redemption failed</td>
</tr>
<tr>
<td>818</td>
<td>Points you are trying to redeem are more than the available points</td>
</tr>
</tbody></table>

<p>819 | Points you are trying to redeem are more than the maximum allowed redemption limit
 | Unable to send message to customer
820 | Unable to process. Customer is marked as fraud
821 | Points you are trying to redeem are less than the minimum redemption limit
822 | Unable to find missed call from the registered mobile number
823 | Missed call redemption is disabled for your organization
824 | Mobile number validation is mandatory for redeeming points
825 | Client signature is required
826 | Invalid points category or invalid configuration
827 | Unable to redeem points. Points redemption is enabled for your organization
828 | Unable to redeem points at this moment. Please try again later
829 | Unable to redeem points at this moment. Please try again later
850 | Unable to redeem points at this moment. Please try again later
859 | The redemption time you have passed is invalid
860 | Unable to issue OTP
881 | Customer is not registered into the loyalty program
886 | Unable to process points at this moment. Please try again later
887 | Unable to process points at this moment. Please try again later
888 | Configuration is invalid. Please report to Capillary Support
889 | Unable to process points at this moment. Please try again later
890 | Unable to process points at this moment. Please try again later
891 | Unable to process points at this moment. Please try again later<br>
892 | Unable to process points at this moment. Please try again later
893 | Unable to process points at this moment. Please try again later
894 | Unable to process points at this moment. Please try again later
895 | Loyalty program is not configured for your organization
896 | Unable to process points at this moment. Please try again later
897 | Unable to process points at this moment. Please try again later
898 | Unable to process points at this moment. Please try again later
899 | Configuration is invalid. Please report to Capillary Support</p>

          <h1 id="coupon">Coupon</h1>

<p>Coupon represents store promotions or discounts created through Capillary Campaign Manager. A single campaign could contain one or more coupons or coupon series. Coupons are issued to loyalty or non-loyalty customers through SMS or email.</p>

<p>You cannot create new coupons using coupon APIs. You can just send or retrieve coupons that are already created in your campaigns. Hence, it is important to note the coupon code, coupon id or coupon series id for making API calls.</p>

<p>You cannot create new coupons using coupon APIs; instead, you can send or retrieve coupons that are already created in your campaigns. Hence, it is important to note the coupon code, coupon id or coupon series id to use coupon APIs.</p>

<p>The coupon entity allows you to perform the following tasks:</p>

<ul>
<li>Issue coupons to customers </li>
<li>Resend a specific coupon to the respective customer </li>
<li>Retrieve details of a specific coupon/coupon series </li>
<li>Check whether a customer can redeem a specific coupon and redeem the coupon</li>
</ul>

<h2 id="issue-coupon">Issue Coupon</h2>
<pre class="highlight html"><code>http://us.intouch.capillarytech.com/v1.1/coupon/issue?format=json
</code></pre>
<blockquote>
<p>Sample POST Request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"root"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"coupon"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nt">"series_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"832"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"447700900000"</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code><span class="nt">&lt;root&gt;</span>
    <span class="nt">&lt;coupon&gt;</span>
        <span class="nt">&lt;series_id&gt;</span>832<span class="nt">&lt;/series_id&gt;</span>
        <span class="nt">&lt;customer&gt;</span>
            <span class="nt">&lt;mobile&gt;</span>447700900000<span class="nt">&lt;/mobile&gt;</span>
            <span class="nt">&lt;email&gt;&lt;/email&gt;</span>
            <span class="nt">&lt;external_id&gt;&lt;/external_id&gt;</span>
        <span class="nt">&lt;/customer&gt;</span>
    <span class="nt">&lt;/coupon&gt;</span>
<span class="nt">&lt;/root&gt;</span>

</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"coupon"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xqnq5m5u"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"valid_till"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-12-25"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"series_info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"832"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample description"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"discount_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XYZ123"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"valid_till"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-12-31"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"discount_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ABS"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"discount_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"detailed_info"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample information"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"447700900000"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4453654"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"700"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Coupon processing successful"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;response&gt;</span>
    <span class="nt">&lt;status&gt;</span>
        <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
        <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/status&gt;</span>
    <span class="nt">&lt;coupon&gt;</span>
        <span class="nt">&lt;code&gt;</span>xqnq5m5u<span class="nt">&lt;/code&gt;</span>
<span class="nt">&lt;valid_till&gt;</span>2016-12-25<span class="nt">&lt;/valid_till&gt;</span> 
<span class="c">&lt;!-- this is due date of the coupon --&gt;</span>
<span class="nt">&lt;series_info&gt;</span>
<span class="nt">&lt;id&gt;</span>832<span class="nt">&lt;/id&gt;</span>        
<span class="nt">&lt;description&gt;</span>Sample description<span class="nt">&lt;/description&gt;</span>        
<span class="nt">&lt;discount_code&gt;</span>XYZ123<span class="nt">&lt;/discount_code&gt;</span>        
<span class="nt">&lt;valid_till&gt;</span>2012-12-31<span class="nt">&lt;/valid_till&gt;</span>        
<span class="nt">&lt;discount_type&gt;</span>ABS<span class="nt">&lt;/discount_type&gt;</span>        
<span class="nt">&lt;discount_value&gt;</span>0<span class="nt">&lt;/discount_value&gt;</span>        
<span class="nt">&lt;discount_on&gt;&lt;/discount_on&gt;</span>        
<span class="c">&lt;!-- “discount_on” can be on BILL or LINEITEM --&gt;</span>
<span class="nt">&lt;detailed_info&gt;</span>Sample information<span class="nt">&lt;/detailed_info&gt;</span>      
<span class="nt">&lt;/series_info&gt;</span>    
        <span class="nt">&lt;customer&gt;</span>
            <span class="nt">&lt;mobile&gt;</span>447700900000<span class="nt">&lt;/mobile&gt;</span>
            <span class="nt">&lt;email&gt;&lt;/email&gt;</span>
            <span class="nt">&lt;external_id&gt;&lt;/external_id&gt;</span>
            <span class="nt">&lt;user_id&gt;</span>4453654<span class="nt">&lt;/user_id&gt;</span>
            <span class="c">&lt;!-- user_id will be returned
only if the query parameter “user_id” is passed 
and that is set to “true” --&gt;</span>
        <span class="nt">&lt;/customer&gt;</span>
        <span class="nt">&lt;item_status&gt;</span>
            <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
            <span class="nt">&lt;code&gt;</span>700<span class="nt">&lt;/code&gt;</span>
            <span class="nt">&lt;message&gt;</span>Coupon processing successful<span class="nt">&lt;/message&gt;</span>
        <span class="nt">&lt;/item_status&gt;</span>
    <span class="nt">&lt;/coupon&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre>
<p>This API allows you to issue a specific coupon series to a customer.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>coupon/issue</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Method</td>
<td>POST</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/coupon/issue?format=&lt;xml/json&gt;</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Customer identifier*</td>
<td>Any identifier of the customer to whom you want to issue coupon</td>
</tr>
<tr>
<td>id</td>
<td>Coupon series id that you want to issue</td>
</tr>
</tbody></table>

<h2 id="reissue-coupon">Reissue Coupon</h2>
<pre class="highlight html"><code># Sample Request
http://us.intouch.capillarytech.com/v1.1/coupon/resend?format=xml<span class="err">&amp;</span>id=13596576
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"response"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:{</span><span class="w">
         </span><span class="nt">"success"</span><span class="p">:</span><span class="s2">"true"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"code"</span><span class="p">:</span><span class="s2">"200"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"SUCCESS"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"coupons"</span><span class="p">:{</span><span class="w">
         </span><span class="nt">"coupon"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
               </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"13596576"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"code"</span><span class="p">:</span><span class="s2">"4R5A33"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"item_status"</span><span class="p">:{</span><span class="w">
                  </span><span class="nt">"success"</span><span class="p">:</span><span class="s2">"true"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"code"</span><span class="p">:</span><span class="s2">"700"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Coupon Resent"</span><span class="w">
               </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code><span class="nt">&lt;response&gt;</span>  
<span class="nt">&lt;status&gt;</span>    
<span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>    
<span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>    
<span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>  
<span class="nt">&lt;/status&gt;</span>  
<span class="nt">&lt;coupons&gt;</span>    
<span class="nt">&lt;coupon&gt;</span>      
<span class="nt">&lt;id&gt;</span>13596576<span class="nt">&lt;/id&gt;</span>
<span class="nt">&lt;code&gt;</span>4R5A33<span class="nt">&lt;/code&gt;</span>
<span class="c">&lt;!-- id and code will be returned depending
on the request param --&gt;</span>   
<span class="nt">&lt;item_status&gt;</span>        
<span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>        
<span class="nt">&lt;code&gt;</span>700<span class="nt">&lt;/code&gt;</span>        
<span class="nt">&lt;message&gt;</span>Coupon Resent<span class="nt">&lt;/message&gt;</span>      
<span class="nt">&lt;/item_status&gt;</span>    
<span class="nt">&lt;/coupon&gt;</span>  
<span class="nt">&lt;/coupons&gt;</span>
<span class="nt">&lt;/response&gt;</span>

</code></pre>
<p>This API allows you to reissue active coupons of a loyalty customer. You can reissue only the coupon code and the coupon validity.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>coupon/resend</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Method</td>
<td>GET</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/value&gt;&amp;format=v1.1/coupon/resend?&lt;identifier&gt;=&lt;xml/json&gt;&amp;&lt;input_params&gt;</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<p>Any one among the following parameters is mandatory.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Customer identifier*</td>
<td>Any identifier of the customer to whom the coupon needs to be reissued</td>
</tr>
<tr>
<td>code</td>
<td>Coupon code that you want to issue to the customer</td>
</tr>
</tbody></table>

<aside class="warning"> You can pass either coupon id or code. Any one parameter is required</aside>

<h2 id="redeem-coupons">Redeem Coupons</h2>
<pre class="highlight html"><code># Sample Request
http://api.capillary.co.in/v1.1/coupon/redeem?format=json
</code></pre>
<blockquote>
<p>Sample POST Request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"root"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"coupon"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"06000041"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"447700900000"</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="nt">"custom_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nt">"field"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sport"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[“Soccer”]"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}],</span><span class="w">
      </span><span class="nt">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bill-110"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="w">
      </span><span class="p">}]</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code><span class="nt">&lt;root&gt;</span>
<span class="nt">&lt;coupon&gt;</span>
<span class="nt">&lt;code&gt;</span>06000041<span class="nt">&lt;/code&gt;</span>
<span class="nt">&lt;customer&gt;</span>
<span class="nt">&lt;mobile&gt;</span>447700900000<span class="nt">&lt;/mobile&gt;</span>
<span class="nt">&lt;email&gt;&lt;/email&gt;</span>
<span class="nt">&lt;external_id&gt;&lt;/external_id&gt;</span>
<span class="nt">&lt;/customer&gt;</span>
<span class="nt">&lt;custom_fields&gt;</span>
<span class="c">&lt;!-- Optional, as Specified by the Brand --&gt;</span>
<span class="nt">&lt;field&gt;</span>
    <span class="nt">&lt;name&gt;</span>Sport<span class="nt">&lt;/name&gt;</span>
    <span class="nt">&lt;value&gt;</span>[“Soccer”]<span class="nt">&lt;/value&gt;</span>
<span class="nt">&lt;/field&gt;</span>
<span class="nt">&lt;/custom_fields&gt;</span>
<span class="nt">&lt;redemption_time&gt;&lt;/redemption_time&gt;</span>
<span class="nt">&lt;transaction&gt;</span>
<span class="nt">&lt;number&gt;</span>bill-110<span class="nt">&lt;/number&gt;</span>
<span class="nt">&lt;amount&gt;</span>1000<span class="nt">&lt;/amount&gt;</span>
<span class="nt">&lt;/transaction&gt;</span>
<span class="nt">&lt;/coupon&gt;</span>
<span class="nt">&lt;/root&gt;</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nt">"coupons"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"coupon"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"06000041"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"447700900000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55434"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nt">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bill-110"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nt">"discount_code"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
         </span><span class="nt">"series_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"227f0"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"is_absolute"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"coupon_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"#text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"t"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code><span class="nt">&lt;response&gt;</span>  
<span class="nt">&lt;status&gt;</span>    
<span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>    
<span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>    
<span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>  
<span class="nt">&lt;/status&gt;</span>  
<span class="nt">&lt;coupons&gt;</span>    
<span class="nt">&lt;coupon&gt;</span>      
<span class="nt">&lt;code&gt;</span>06000041<span class="nt">&lt;/code&gt;</span>      
<span class="nt">&lt;customer&gt;</span>        
<span class="nt">&lt;mobile&gt;</span>447700900000<span class="nt">&lt;/mobile&gt;</span>      
<span class="nt">&lt;email&gt;&lt;/email&gt;</span>
<span class="nt">&lt;external_id&gt;&lt;/external_id&gt;</span>
<span class="nt">&lt;user_id&gt;</span>55434<span class="nt">&lt;/user_id&gt;</span> 
<span class="c">&lt;!-- Will be returned only if user_id is true --&gt;</span>
<span class="nt">&lt;/customer&gt;</span>      
<span class="nt">&lt;transaction&gt;</span>        
<span class="nt">&lt;number&gt;</span>bill-110<span class="nt">&lt;/number&gt;</span>
<span class="nt">&lt;amount&gt;</span>1000<span class="nt">&lt;/amount&gt;</span>        
<span class="nt">&lt;/transaction&gt;</span>      
<span class="nt">&lt;discount_code&gt;&lt;/discount_code&gt;</span>      
<span class="nt">&lt;series_code&gt;</span>227f0<span class="nt">&lt;/series_code&gt;</span>      
<span class="nt">&lt;is_absolute&gt;</span>true<span class="nt">&lt;/is_absolute&gt;</span>      
<span class="nt">&lt;coupon_value&gt;</span>0<span class="nt">&lt;/coupon_value&gt;</span>      
<span class="nt">&lt;item_status&gt;</span>        
<span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>        
t<span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>        
<span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>      
<span class="nt">&lt;/item_status&gt;</span>    
<span class="nt">&lt;/coupon&gt;</span>  
<span class="nt">&lt;/coupons&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre>
<p>This API allows you to redeem coupons issued to the loyalty customer.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>coupon/resend</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Method</td>
<td>POST</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://api.capillary.co.in/v1.1/coupon/redeem?format=xml</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Customer identifier*</td>
<td>Unique identifier of the customer whose coupon needs to be redeemed</td>
</tr>
<tr>
<td>id</td>
<td>Coupon id that needs to be redeemed</td>
</tr>
<tr>
<td>code</td>
<td>Coupon code that need to be redeemed</td>
</tr>
<tr>
<td>validation_code</td>
<td>Validation code is required for the orgs that use validation based redemption</td>
</tr>
<tr>
<td>number</td>
<td>Transaction number against which the coupon needs to be redeemed</td>
</tr>
<tr>
<td>amount</td>
<td>Transaction amount against which the coupon is redeemed</td>
</tr>
</tbody></table>

<aside class="warning"> You need to pass either code or id as applicable </aside>

<h2 id="get-coupon-details">Get Coupon Details</h2>
<pre class="highlight html"><code>http://api.capillary.co.in/v1.1/coupon/get?code=06000041<span class="err">&amp;</span>format=xml
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"coupons"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"coupon"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"06000041"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"13596576"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"valid_till"</span><span class="p">:</span><span class="w"> </span><span class="s2">"31-08-2016"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"issued_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-08-01 15:31:44"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"553232"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Suresh Venkitakrishnan"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"919591525725"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sv@mail.com"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"pincode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"224"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"issued_store"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"store.code"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"store name"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"series_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24325"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"is_absolute"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"redemption_info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"redeemed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"redeemed_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-08-01 15:56:07"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"redeemed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"till.fitnesse"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"redeemed_by"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOM"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sawyer"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom@email.com"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"919999999999"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"store"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"code.store"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name.store"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BILL-20304"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2242536"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"700"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Coupon processing successful"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code><span class="nt">&lt;response&gt;</span>  
<span class="nt">&lt;status&gt;</span>    
<span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>    
<span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>    
<span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>  
<span class="nt">&lt;/status&gt;</span>  
<span class="nt">&lt;coupons&gt;</span>    
<span class="nt">&lt;coupon&gt;</span>      
<span class="nt">&lt;code&gt;</span>06000041<span class="nt">&lt;/code&gt;</span>      
<span class="nt">&lt;id&gt;</span>13596576<span class="nt">&lt;/id&gt;</span>      
<span class="nt">&lt;valid_till&gt;</span>31-08-2016<span class="nt">&lt;/valid_till&gt;</span>      
<span class="nt">&lt;issued_on&gt;</span>2016-08-01 15:31:44<span class="nt">&lt;/issued_on&gt;</span>      
<span class="nt">&lt;customer&gt;</span>
    <span class="nt">&lt;user_id&gt;</span>553232<span class="nt">&lt;/user_id&gt;</span>
<span class="c">&lt;!-- user_id tag will be returned only if query param user_id = true --&gt;</span>
<span class="nt">&lt;name&gt;</span>Suresh Venkitakrishnan<span class="nt">&lt;/name&gt;</span>        
<span class="nt">&lt;mobile&gt;</span>919591525725<span class="nt">&lt;/mobile&gt;</span>        
<span class="nt">&lt;email&gt;</span>sv@mail.com<span class="nt">&lt;/email&gt;</span>      
<span class="nt">&lt;/customer&gt;</span>      
<span class="nt">&lt;pincode&gt;</span>224<span class="nt">&lt;/pincode&gt;</span>
<span class="nt">&lt;issued_store&gt;</span>
    <span class="nt">&lt;code&gt;</span>store.code<span class="nt">&lt;/code&gt;</span>
    <span class="nt">&lt;name&gt;</span>store name<span class="nt">&lt;/name&gt;</span>
<span class="nt">&lt;/issued_store&gt;</span>
<span class="nt">&lt;series_id&gt;</span>24325<span class="nt">&lt;/series_id&gt;</span>
<span class="nt">&lt;is_absolute&gt;</span>true<span class="nt">&lt;/is_absolute&gt;</span>      
<span class="nt">&lt;value&gt;</span>0<span class="nt">&lt;/value&gt;</span>      
<span class="nt">&lt;redemption_info&gt;</span>        
<span class="nt">&lt;redeemed&gt;</span>true<span class="nt">&lt;/redeemed&gt;</span>        
<span class="nt">&lt;redeemed_on&gt;</span>2016-08-01 15:56:07<span class="nt">&lt;/redeemed_on&gt;</span>        
<span class="nt">&lt;redeemed_at&gt;</span>till.fitnesse<span class="nt">&lt;/redeemed_at&gt;</span>      
<span class="nt">&lt;/redemption_info&gt;</span>      
<span class="nt">&lt;redeemed_by&gt;</span>
    <span class="nt">&lt;firstname&gt;</span>TOM<span class="nt">&lt;/firstname&gt;</span>
    <span class="nt">&lt;lastname&gt;</span>Sawyer<span class="nt">&lt;/lastname&gt;</span>
    <span class="nt">&lt;email&gt;</span>tom@email.com<span class="nt">&lt;/email&gt;</span>
    <span class="nt">&lt;mobile&gt;</span>919999999999<span class="nt">&lt;/mobile&gt;</span>
<span class="nt">&lt;/redeemed_by&gt;</span>
<span class="nt">&lt;store&gt;</span>
    <span class="nt">&lt;code&gt;</span>code.store<span class="nt">&lt;/code&gt;</span>
    <span class="nt">&lt;name&gt;</span>name.store<span class="nt">&lt;/name&gt;</span>
<span class="nt">&lt;/store&gt;</span>
<span class="nt">&lt;transaction&gt;</span>
    <span class="nt">&lt;number&gt;</span>BILL-20304<span class="nt">&lt;/number&gt;</span>
    <span class="nt">&lt;id&gt;</span>2242536<span class="nt">&lt;/id&gt;</span>
<span class="nt">&lt;/transaction&gt;</span>
<span class="nt">&lt;item_status&gt;</span>        
<span class="nt">&lt;status&gt;</span>true<span class="nt">&lt;/status&gt;</span>        
<span class="nt">&lt;code&gt;</span>700<span class="nt">&lt;/code&gt;</span>        
<span class="nt">&lt;message&gt;</span>Coupon processing successful<span class="nt">&lt;/message&gt;</span>      
<span class="nt">&lt;/item_status&gt;</span>    
<span class="nt">&lt;/coupon&gt;</span>  
<span class="nt">&lt;/coupons&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre>
<p>This API allows you to retrieve the details of a specific coupon. You can get information such as coupon issued to, current coupon status, coupon redeemed date, and coupon validity.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>coupon/get</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Method</td>
<td>GET</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/coupon/get?&lt;id/code&gt;=&lt;value&gt;&amp;format=&lt;xml/json&gt;</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Pass the coupon id that you want to retrieve. To retrieve details of multiple coupons, pass each id separating with , (comma)</td>
</tr>
<tr>
<td>code</td>
<td>Pass the coupon id that you want to retrieve. To retrieve details of multiple coupons, pass each code separating with , (comma)</td>
</tr>
</tbody></table>

<h2 id="check-if-coupon-is-redeemable">Check if Coupon is Redeemable</h2>
<pre class="highlight html"><code># Sample Request
http://us.intouch.capillarytech.com/v1.1/coupon/isredeemable?format=xml<span class="err">&amp;</span>details=true<span class="err">&amp;</span>code=06000041<span class="err">&amp;</span>mobile=447700900000
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"coupons"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"redeemable"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"447700900000"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"06000041"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"is_redeemable"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"706"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"
Cannot redeem same voucher multiple times
"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"series_info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample description"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"discount_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XYZ123"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"valid_till"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-12-31"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"discount_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ABS"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"discount_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"detailed_info"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample details"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code><span class="nt">&lt;response&gt;</span>  
<span class="nt">&lt;status&gt;</span>    
<span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>    
<span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>    
<span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>  
<span class="nt">&lt;/status&gt;</span>  
<span class="nt">&lt;coupons&gt;</span>    
<span class="nt">&lt;redeemable&gt;</span>      
<span class="nt">&lt;mobile&gt;</span>447700900000<span class="nt">&lt;/mobile&gt;</span>      
<span class="nt">&lt;code&gt;</span>06000041<span class="nt">&lt;/code&gt;</span>      
<span class="nt">&lt;is_redeemable&gt;</span>false<span class="nt">&lt;/is_redeemable&gt;</span>      
<span class="nt">&lt;item_status&gt;</span>        
<span class="nt">&lt;status&gt;</span>true<span class="nt">&lt;/status&gt;</span>        
<span class="nt">&lt;code&gt;</span>706<span class="nt">&lt;/code&gt;</span>        
<span class="nt">&lt;message&gt;</span>
Cannot redeem same voucher multiple times
<span class="nt">&lt;/message&gt;</span>      
<span class="nt">&lt;/item_status&gt;</span>      
<span class="nt">&lt;series_info&gt;</span>    

<span class="nt">&lt;description&gt;</span>Sample description<span class="nt">&lt;/description&gt;</span>        
<span class="nt">&lt;discount_code&gt;</span>XYZ123<span class="nt">&lt;/discount_code&gt;</span>        
<span class="nt">&lt;valid_till&gt;</span>2016-12-31<span class="nt">&lt;/valid_till&gt;</span>        
<span class="nt">&lt;discount_type&gt;</span>ABS<span class="nt">&lt;/discount_type&gt;</span>        
<span class="nt">&lt;discount_value&gt;</span>0<span class="nt">&lt;/discount_value&gt;</span>        
<span class="nt">&lt;discount_on&gt;&lt;/discount_on&gt;</span>        
<span class="nt">&lt;detailed_info&gt;</span>sample details<span class="nt">&lt;/detailed_info&gt;</span>      
<span class="nt">&lt;/series_info&gt;</span>    
<span class="nt">&lt;/redeemable&gt;</span>  
<span class="nt">&lt;/coupons&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre>
<p>This API allows you to verify whether a coupon is redeemable by a specific customer.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/isredeemable</code></td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>HTTP Method</td>
<td>GET</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/coupon/isredeemable?format=&lt;xml/json&gt;&amp;mobile=&lt;value&gt;&amp;code=&lt;coupon_code&gt;&amp;details=true</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Customer identifier*</td>
<td>Pass the identifier of the customer for whom you want to check whether the coupon is redeemable</td>
</tr>
<tr>
<td>code</td>
<td>Pass the coupon code that you want to check</td>
</tr>
<tr>
<td>details=true</td>
<td>Retrieves the details of the coupon series</td>
</tr>
<tr>
<td>details=extended</td>
<td>Retrieves the details of coupon configurations (set on campaign) of that specific coupon series</td>
</tr>
</tbody></table>

<aside class="warning"> You can pass either coupon id or code. Any one parameter is required</aside>

<h2 id="retrieve-coupon-series-details">Retrieve Coupon Series Details</h2>
<pre class="highlight html"><code>http://us.intouch.capillarytech.com/v1.1/coupon/series?format=json<span class="err">&amp;</span>id=7033
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"series"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"405"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API Coupon 3"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"series_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CAMPAIGN"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"client_handling_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DISC_CODE"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"discount_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XYZ123"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"valid_till_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-31"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"valid_days_from_create"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"expiry_strategy_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DAYS"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"expiry_strategy_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"max_create"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"max_redeem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"transferrable"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"any_user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"same_user_multiple_redeem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"allow_referral_existing_users"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"multiple_use"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"is_validation_required"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"valid_with_discounted_item"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-12-09 08:35:15"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"last_used"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-12-09 08:35:15"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"series_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"G8Z08NZL"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"disable_sms"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"info"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API Coupon 3"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"allow_multiple_vouchers_per_user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"do_not_resend_existing_voucher"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"mutual_exclusive_series_ids"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[-1]"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"store_ids_json"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[-1]"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"dvs_enabled"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"dvs_expiry_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-01-09"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"priority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"short_sms_template"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello {{cust_name}}, your voucher code is {{voucher_code}}"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"max_vouchers_per_user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"min_days_between_vouchers"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"max_referrals_per_referee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"discount_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BILL"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"discount_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PERC"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"discount_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"redemption_range"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{\"dom\":[\"-1\"],\"dow\":[\"-1\"],\"hours\":[\"-1\"]}"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"min_bill_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"max_bill_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"redeem_at_store"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[-1]"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"campaign_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"458"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"max_redemptions_in_series_per_user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"min_days_between_redemption"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"redemption_valid_from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-30"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"source_org_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"issue_to_loyalty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"redeem_store_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"redeemable_stores"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"old_flow_enabled"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"pre_redeem_event_required"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"coupons"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"issued"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4558"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"redeemed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"924"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"offline_redemption_enabled"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"700"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Coupon series fetched successfully"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"products"</span><span class="p">:</span><span class="w"> </span><span class="s2">"
"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"brands"</span><span class="p">:</span><span class="w"> </span><span class="s2">"
"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"categories"</span><span class="p">:</span><span class="w"> </span><span class="s2">"
                "</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code>

<span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;response&gt;</span>
   <span class="nt">&lt;status&gt;</span>
      <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
      <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
      <span class="nt">&lt;message&gt;</span>Success<span class="nt">&lt;/message&gt;</span>
   <span class="nt">&lt;/status&gt;</span>
   <span class="nt">&lt;series&gt;</span>
      <span class="nt">&lt;items&gt;</span>
         <span class="nt">&lt;item&gt;</span>
            <span class="nt">&lt;id&gt;</span>405<span class="nt">&lt;/id&gt;</span>
            <span class="nt">&lt;description&gt;</span>API Coupon 3<span class="nt">&lt;/description&gt;</span>
            <span class="nt">&lt;series_type&gt;</span>CAMPAIGN<span class="nt">&lt;/series_type&gt;</span>
            <span class="nt">&lt;client_handling_type&gt;</span>DISC_CODE<span class="nt">&lt;/client_handling_type&gt;</span>
            <span class="nt">&lt;discount_code&gt;</span>XYZ123<span class="nt">&lt;/discount_code&gt;</span>
            <span class="nt">&lt;valid_till_date&gt;</span>2017-12-31<span class="nt">&lt;/valid_till_date&gt;</span>
            <span class="nt">&lt;valid_days_from_create&gt;</span>30<span class="nt">&lt;/valid_days_from_create&gt;</span>
            <span class="nt">&lt;expiry_strategy_type&gt;</span>DAYS<span class="nt">&lt;/expiry_strategy_type&gt;</span>
            <span class="nt">&lt;expiry_strategy_value&gt;</span>30<span class="nt">&lt;/expiry_strategy_value&gt;</span>
            <span class="nt">&lt;max_create&gt;</span>-1<span class="nt">&lt;/max_create&gt;</span>
            <span class="nt">&lt;max_redeem&gt;</span>-1<span class="nt">&lt;/max_redeem&gt;</span>
            <span class="nt">&lt;transferrable&gt;</span>0<span class="nt">&lt;/transferrable&gt;</span>
            <span class="nt">&lt;any_user&gt;</span>0<span class="nt">&lt;/any_user&gt;</span>
            <span class="nt">&lt;same_user_multiple_redeem&gt;</span>0<span class="nt">&lt;/same_user_multiple_redeem&gt;</span>
            <span class="nt">&lt;allow_referral_existing_users&gt;</span>0<span class="nt">&lt;/allow_referral_existing_users&gt;</span>
            <span class="nt">&lt;multiple_use&gt;</span>0<span class="nt">&lt;/multiple_use&gt;</span>
            <span class="nt">&lt;is_validation_required&gt;</span>0<span class="nt">&lt;/is_validation_required&gt;</span>
            <span class="nt">&lt;valid_with_discounted_item&gt;</span>false<span class="nt">&lt;/valid_with_discounted_item&gt;</span>
            <span class="nt">&lt;created_by&gt;</span>4<span class="nt">&lt;/created_by&gt;</span>
            <span class="nt">&lt;created&gt;</span>2016-12-09 08:35:15<span class="nt">&lt;/created&gt;</span>
            <span class="nt">&lt;last_used&gt;</span>2016-12-09 08:35:15<span class="nt">&lt;/last_used&gt;</span>
            <span class="nt">&lt;series_code&gt;</span>G8Z08NZL<span class="nt">&lt;/series_code&gt;</span>
            <span class="nt">&lt;sms_template</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;disable_sms&gt;</span>0<span class="nt">&lt;/disable_sms&gt;</span>
            <span class="nt">&lt;info&gt;</span>API Coupon 3<span class="nt">&lt;/info&gt;</span>
            <span class="nt">&lt;allow_multiple_vouchers_per_user&gt;</span>1<span class="nt">&lt;/allow_multiple_vouchers_per_user&gt;</span>
            <span class="nt">&lt;do_not_resend_existing_voucher&gt;</span>0<span class="nt">&lt;/do_not_resend_existing_voucher&gt;</span>
            <span class="nt">&lt;mutual_exclusive_series_ids&gt;</span>[-1]<span class="nt">&lt;/mutual_exclusive_series_ids&gt;</span>
            <span class="nt">&lt;store_ids_json&gt;</span>[-1]<span class="nt">&lt;/store_ids_json&gt;</span>
            <span class="nt">&lt;dvs_enabled&gt;</span>0<span class="nt">&lt;/dvs_enabled&gt;</span>
            <span class="nt">&lt;dvs_expiry_date&gt;</span>2017-01-09<span class="nt">&lt;/dvs_expiry_date&gt;</span>
            <span class="nt">&lt;priority&gt;</span>0<span class="nt">&lt;/priority&gt;</span>
            <span class="nt">&lt;short_sms_template&gt;</span>Hello {{cust_name}}, your voucher code is {{voucher_code}}<span class="nt">&lt;/short_sms_template&gt;</span>
            <span class="nt">&lt;max_vouchers_per_user&gt;</span>-1<span class="nt">&lt;/max_vouchers_per_user&gt;</span>
            <span class="nt">&lt;min_days_between_vouchers&gt;</span>-1<span class="nt">&lt;/min_days_between_vouchers&gt;</span>
            <span class="nt">&lt;max_referrals_per_referee&gt;</span>-1<span class="nt">&lt;/max_referrals_per_referee&gt;</span>
            <span class="nt">&lt;discount_on&gt;</span>BILL<span class="nt">&lt;/discount_on&gt;</span>
            <span class="nt">&lt;discount_type&gt;</span>PERC<span class="nt">&lt;/discount_type&gt;</span>
            <span class="nt">&lt;discount_value&gt;</span>10<span class="nt">&lt;/discount_value&gt;</span>
            <span class="nt">&lt;dvs_items</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;redemption_range&gt;</span>{<span class="ni">&amp;amp;</span>quot;dom<span class="ni">&amp;amp;</span>quot;:[<span class="ni">&amp;amp;</span>quot;-1<span class="ni">&amp;amp;</span>quot;],<span class="ni">&amp;amp;</span>quot;dow<span class="ni">&amp;amp;</span>quot;:[<span class="ni">&amp;amp;</span>quot;-1<span class="ni">&amp;amp;</span>quot;],<span class="ni">&amp;amp;</span>quot;hours<span class="ni">&amp;amp;</span>quot;:[<span class="ni">&amp;amp;</span>quot;-1<span class="ni">&amp;amp;</span>quot;]}<span class="nt">&lt;/redemption_range&gt;</span>
            <span class="nt">&lt;min_bill_amount&gt;</span>0<span class="nt">&lt;/min_bill_amount&gt;</span>
            <span class="nt">&lt;max_bill_amount&gt;</span>0<span class="nt">&lt;/max_bill_amount&gt;</span>
            <span class="nt">&lt;redeem_at_store&gt;</span>[-1]<span class="nt">&lt;/redeem_at_store&gt;</span>
            <span class="nt">&lt;campaign_id&gt;</span>458<span class="nt">&lt;/campaign_id&gt;</span>
            <span class="nt">&lt;tag</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;max_redemptions_in_series_per_user&gt;</span>-1<span class="nt">&lt;/max_redemptions_in_series_per_user&gt;</span>
            <span class="nt">&lt;min_days_between_redemption&gt;</span>-1<span class="nt">&lt;/min_days_between_redemption&gt;</span>
            <span class="nt">&lt;redemption_valid_from&gt;</span>2014-04-30<span class="nt">&lt;/redemption_valid_from&gt;</span>
            <span class="nt">&lt;source_org_id&gt;</span>-1<span class="nt">&lt;/source_org_id&gt;</span>
            <span class="nt">&lt;issue_to_loyalty&gt;</span>0<span class="nt">&lt;/issue_to_loyalty&gt;</span>
            <span class="nt">&lt;redeem_store_type&gt;</span>redeemable_stores<span class="nt">&lt;/redeem_store_type&gt;</span>
            <span class="nt">&lt;old_flow_enabled&gt;</span>0<span class="nt">&lt;/old_flow_enabled&gt;</span>
            <span class="nt">&lt;pre_redeem_event_required&gt;</span>0<span class="nt">&lt;/pre_redeem_event_required&gt;</span>
            <span class="nt">&lt;coupons&gt;</span>
               <span class="nt">&lt;issued&gt;</span>4558<span class="nt">&lt;/issued&gt;</span>
               <span class="nt">&lt;redeemed&gt;</span>924<span class="nt">&lt;/redeemed&gt;</span>
            <span class="nt">&lt;/coupons&gt;</span>
            <span class="nt">&lt;offline_redemption_enabled&gt;</span>true<span class="nt">&lt;/offline_redemption_enabled&gt;</span>
            <span class="nt">&lt;campaign_name</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
               <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
               <span class="nt">&lt;code&gt;</span>700<span class="nt">&lt;/code&gt;</span>
               <span class="nt">&lt;message&gt;</span>Coupon series fetched successfully<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
            <span class="nt">&lt;products</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;brands</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;categories</span> <span class="nt">/&gt;</span>
         <span class="nt">&lt;/item&gt;</span>
      <span class="nt">&lt;/items&gt;</span>
   <span class="nt">&lt;/series&gt;</span>
<span class="nt">&lt;/response&gt;</span>



</code></pre>
<p>This API retrieves the details of a specific series of a campaign based on the series id passed. If no series id is passed, all coupon series details are retrieved.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/series</code></td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/coupon/series?format=&lt;xml/json&gt;&amp;id=&lt;series id&gt;&amp;expired=&lt;true/false/extended&gt;</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Id of the specific coupon series that you want to retrieve</td>
</tr>
<tr>
<td>expired</td>
<td>Value: <code class="prettyprint">true</code>, <code class="prettyprint">false</code>, <code class="prettyprint">extended</code>. Retrieves the details of the expired coupon series if <code class="prettyprint">expired=true</code> and active coupon series details if <code class="prettyprint">expired=false</code>. If <code class="prettyprint">expired=extended</code> then the coupon configuration details are also shown.</td>
</tr>
</tbody></table>

<h2 id="response-codes">Response Codes</h2>

<h3 id="success-codes">Success Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>700</td>
<td>Coupon processed successfully</td>
</tr>
<tr>
<td>700</td>
<td>Coupon series fetched successfully</td>
</tr>
</tbody></table>

<h3 id="error-codes">Error Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>701</td>
<td>Unable to find the customer. Please enter correct mobile number/email id/external id</td>
</tr>
<tr>
<td>702</td>
<td>Coupon code is invalid</td>
</tr>
<tr>
<td>703</td>
<td>Coupon not issued to this customer</td>
</tr>
<tr>
<td>704</td>
<td>Unable to send coupon to the customer’s mobile number</td>
</tr>
<tr>
<td>705</td>
<td>Invalid coupon code and validation code</td>
</tr>
<tr>
<td>706</td>
<td>Unable to redeem coupon</td>
</tr>
<tr>
<td>707</td>
<td>Coupon series id is invalid</td>
</tr>
<tr>
<td>709</td>
<td>Unable to redeem coupon</td>
</tr>
<tr>
<td>710</td>
<td>Coupon cannot be redeemed by this customer</td>
</tr>
<tr>
<td>711</td>
<td>Coupon is redeemed already</td>
</tr>
<tr>
<td>712</td>
<td>Unable to redeem. Either coupon series or campaign might have expired</td>
</tr>
<tr>
<td>713</td>
<td>Coupon has expired</td>
</tr>
<tr>
<td>714</td>
<td>Unable to redeem. Maximum redemptions allowed for this campaign are already reached</td>
</tr>
<tr>
<td>715</td>
<td>Unable to redeem. The coupon is not valid for this organization</td>
</tr>
<tr>
<td>716</td>
<td>Unable to redeem. Cannot redeem same coupon multiple times</td>
</tr>
<tr>
<td>718</td>
<td>Unable to redeem. Please enter transaction number must be entered to redeem</td>
</tr>
<tr>
<td>719</td>
<td>Coupon code does not exist</td>
</tr>
<tr>
<td>720</td>
<td>Unable to redeem. This is just a trial coupon and cannot be redeemed</td>
</tr>
<tr>
<td>721</td>
<td>Unable to issue/redeem coupon. Customer is invalid</td>
</tr>
<tr>
<td>722</td>
<td>Unable to issue coupon</td>
</tr>
<tr>
<td>723</td>
<td>Unable to redeem. The coupon cannot be used by this customer</td>
</tr>
<tr>
<td>724</td>
<td>Unable to send message</td>
</tr>
<tr>
<td>725</td>
<td>Unable to redeem coupon. Please provide validation code to redeem</td>
</tr>
<tr>
<td>726</td>
<td>Validation not required</td>
</tr>
<tr>
<td>728</td>
<td>Unable to redeem. Maximum number of coupon redemptions allowed has already been reached</td>
</tr>
<tr>
<td>729</td>
<td>Invalid redemption date range for the coupon series</td>
</tr>
<tr>
<td>730</td>
<td>Unknown error</td>
</tr>
<tr>
<td>732</td>
<td>No Missed call received from the customer</td>
</tr>
<tr>
<td>733</td>
<td>Transaction amount invalid</td>
</tr>
<tr>
<td>735</td>
<td>Unable to redeem coupon. The coupon cannot be redeemed at this store</td>
</tr>
<tr>
<td>736</td>
<td>Unable to redeem coupon. Maximum number of coupon redemptions allowed has already been reached</td>
</tr>
<tr>
<td>738</td>
<td>Cannot redeem the coupon. Please wait for <X> days to redeem this coupon again</td>
</tr>
<tr>
<td>739</td>
<td>Unable to redeem. Make sure that the redemption date you have entered is valid</td>
</tr>
<tr>
<td>740</td>
<td>Unable to process. Customer is marked as fraud</td>
</tr>
<tr>
<td>742</td>
<td>Coupon issual or redemption is blocked for this customer</td>
</tr>
<tr>
<td>750</td>
<td>Unable to process. Customer is marked as fraud</td>
</tr>
<tr>
<td>786</td>
<td>Unable to process coupon. Please try again later</td>
</tr>
<tr>
<td>787</td>
<td>Unable to process coupon. Please try again later</td>
</tr>
<tr>
<td>788</td>
<td>Configuration is invalid. Please report to Capillary Support</td>
</tr>
<tr>
<td>789</td>
<td>Unable to process coupon. Please try again later</td>
</tr>
<tr>
<td>790</td>
<td>Unable to process coupon. Please try again later</td>
</tr>
<tr>
<td>791</td>
<td>Unable to process coupon. Please try again later</td>
</tr>
<tr>
<td>792</td>
<td>Unable to process coupon. Please try again later</td>
</tr>
<tr>
<td>793</td>
<td>Unable to process coupon. Please try again later</td>
</tr>
<tr>
<td>794</td>
<td>Unable to process coupon. Please try again later</td>
</tr>
<tr>
<td>795</td>
<td>Configuration is invalid. Please report to Capillary Support</td>
</tr>
<tr>
<td>796</td>
<td>Unable to process coupon. Please try again later</td>
</tr>
<tr>
<td>797</td>
<td>Unable to process coupon. Please try again later</td>
</tr>
<tr>
<td>798</td>
<td>Unable to process coupon. Please try again later</td>
</tr>
<tr>
<td>799</td>
<td>Configuration is invalid. Please report to Capillary Support</td>
</tr>
</tbody></table>

          <h1 id="communications">Communications</h1>

<p>Communications represent personalized messages (SMSs/emails) sent to the loyalty customers. Messages such as transaction notifications, birthday wishes, anniversary wishes can be sent through communications APIs.</p>

<p>The communications entity stores personalized messages, and message templates, To send messages the communication gate way should be enabled for your organization with enough message credits.</p>

<p>The communications entity allows you to perform the following tasks:</p>

<ul>
<li>Fetch details of a specific email/SMS by message id </li>
<li>Send personalized emails/SMSs </li>
<li>Retrieve details of a specific email/sms template </li>
<li>Create new SMS/email templates or update existing templates </li>
</ul>

<h2 id="send-sms-to-customer">Send SMS to Customer</h2>
<pre class="highlight html"><code># Sample Request URL
http://us.api.capillarytech.com/v1.1/communications/sms?format=json

</code></pre>
<blockquote>
<p>Sample POST Request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"root"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"sms"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nt">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"447700900000"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"body"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hi, wish you a happy wedding anniversary!"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"scheduled_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-08-05 22:00:00IST"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code><span class="nt">&lt;root&gt;</span>
   <span class="nt">&lt;sms&gt;</span>
      <span class="nt">&lt;to&gt;</span>447700900000<span class="nt">&lt;/to&gt;</span>
      <span class="nt">&lt;body&gt;</span>Hi, wish you a happy wedding anniversary!<span class="nt">&lt;/body&gt;</span>
      <span class="nt">&lt;scheduled_time&gt;</span>2012-08-05 22:00:00IST<span class="nt">&lt;/scheduled_time&gt;</span>
   <span class="nt">&lt;/sms&gt;</span>
<span class="nt">&lt;/root&gt;</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"sms"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23423443"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"447700900000"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sent"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"scheduled_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-08-05 22:00:00IST"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>        
<span class="nt">&lt;response&gt;</span>
    <span class="nt">&lt;status&gt;</span>
        <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
        <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;message&gt;</span>success<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/status&gt;</span>
    <span class="nt">&lt;sms&gt;</span>
        <span class="nt">&lt;id&gt;</span>23423443<span class="nt">&lt;/id&gt;</span>
        <span class="nt">&lt;to&gt;</span>447700900000<span class="nt">&lt;/to&gt;</span>        
        <span class="nt">&lt;status&gt;</span>Sent<span class="nt">&lt;/status&gt;</span>
        <span class="nt">&lt;scheduled_time&gt;</span>2012-08-05 22:00:00IST<span class="nt">&lt;/scheduled_time&gt;</span>
<span class="nt">&lt;/sms&gt;</span>    
<span class="nt">&lt;/response&gt;</span>
</code></pre>
<p>This API allows you to send sms to a specific mobile number. You can schedule the date and time you wish to send the message.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/sms</code></td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>POST</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://{host}/v1.1/communications/sms?format={xml/json}</code></p>

<h2 id="send-email-to-customer">Send Email to Customer</h2>
<pre class="highlight html"><code># Sample Request URL
http://us.api.capillarytech.com/v1.1/communications/email?format=json

</code></pre>
<blockquote>
<p>Sample POST Request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"root"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nt">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom.sawyer@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"cc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cashier1@example.com, cashier2@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"bcc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"storemanager@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"store1@store.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"#text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"  -- optional
        "</span><span class="p">,</span><span class="w">
      </span><span class="nt">"subject"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Testing email"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"body"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dear Tom,
            Thanks for visiting our store. Hope you had a pleasant experience.

        "</span><span class="p">,</span><span class="w">
      </span><span class="nt">"attachments"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"attachment"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="nt">"file_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample.pdf"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"file_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pdf"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"file_data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"  -- base64_encoded file contents
                adsdsadd21121dasd12123123assdad1212123
                234234234234234234
                24234234

            "</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"scheduled_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-08-05 22:00:21"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>        
<span class="nt">&lt;root&gt;</span>
    <span class="nt">&lt;email&gt;</span>
        <span class="nt">&lt;to&gt;</span>tom.sawyer@example.com<span class="nt">&lt;/to&gt;</span>
        <span class="nt">&lt;cc&gt;</span>cashier1@example.com, cashier2@example.com<span class="nt">&lt;/cc&gt;</span>
        <span class="nt">&lt;bcc&gt;</span>storemanager@example.com<span class="nt">&lt;/bcc&gt;</span>
        <span class="nt">&lt;from&gt;</span>store1@store.com<span class="nt">&lt;/from&gt;</span>  -- optional
        <span class="nt">&lt;subject&gt;</span><span class="cp">&lt;![CDATA[Testing email]]&gt;</span><span class="nt">&lt;/subject&gt;</span>
        <span class="nt">&lt;body&gt;</span><span class="cp">&lt;![CDATA[Dear Tom,
            Thanks for visiting our store. Hope you had a pleasant experience.
            ]]&gt;</span>
        <span class="nt">&lt;/body&gt;</span>    
        <span class="nt">&lt;attachments&gt;</span>
            <span class="nt">&lt;attachment&gt;</span>
            <span class="nt">&lt;file_name&gt;</span>sample.pdf<span class="nt">&lt;/file_name&gt;</span>
            <span class="nt">&lt;file_type&gt;</span>pdf<span class="nt">&lt;/file_type&gt;</span>
            <span class="nt">&lt;file_data&gt;</span><span class="cp">&lt;![CDATA[  -- base64_encoded file contents
                adsdsadd21121dasd12123123assdad1212123
                234234234234234234
                24234234
                ]]&gt;</span>
            <span class="nt">&lt;/file_data&gt;</span>    
        <span class="nt">&lt;/attachment&gt;</span>    
        <span class="nt">&lt;/attachments&gt;</span>
        <span class="nt">&lt;scheduled_time&gt;</span>2016-08-05 22:00:21<span class="nt">&lt;/scheduled_time&gt;</span>
    <span class="nt">&lt;/email&gt;</span>    
      <span class="nt">&lt;/root&gt;</span>            

</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23423443"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom.sawyer@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"cc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cashier1@example.com, cashier2@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"bcc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"storemanager@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Queued"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"subject"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample email"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dear Tom,
            Thanks for the treat. Looking forward to more treats"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"scheduled_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-08-05 22:00::IST"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>        
<span class="nt">&lt;response&gt;</span>
    <span class="nt">&lt;status&gt;</span>
        <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
        <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;message&gt;</span>success<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/status&gt;</span>
    <span class="nt">&lt;email&gt;</span>
        <span class="nt">&lt;id&gt;</span>23423443<span class="nt">&lt;/id&gt;</span>
        <span class="nt">&lt;to&gt;</span>tom.sawyer@example.com<span class="nt">&lt;/to&gt;</span>
            <span class="nt">&lt;cc&gt;</span>cashier1@example.com, cashier2@example.com<span class="nt">&lt;/cc&gt;</span>
        <span class="nt">&lt;bcc&gt;</span>storemanager@example.com<span class="nt">&lt;/bcc&gt;</span>
        <span class="nt">&lt;status&gt;</span>Queued<span class="nt">&lt;/status&gt;</span>
        <span class="nt">&lt;subject&gt;</span>Sample email<span class="nt">&lt;/subject&gt;</span>
        <span class="nt">&lt;description&gt;</span>Dear Tom,
            Thanks for the treat. Looking forward to more treats<span class="nt">&lt;/description&gt;</span>
        <span class="nt">&lt;scheduled_time&gt;</span>2016-08-05 22:00::IST<span class="nt">&lt;/scheduled_time&gt;</span>
     <span class="nt">&lt;/email&gt;</span>    
<span class="nt">&lt;/response&gt;</span>
</code></pre>
<p>This API allows you to send email to a specific email id. You can schedule the date and time you wish to send the message.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/email</code></td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>POST</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://{host}/v1.1/communications/email?format={xml/json}</code></p>

<h2 id="retrieve-details-of-emails-sent">Retrieve Details of Emails Sent</h2>
<pre class="highlight html"><code># Sample Request
http://us.api.capillarytech.com/v1.1/communications/email?format=xml<span class="err">&amp;</span>id=2342344
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>        
<span class="nt">&lt;response&gt;</span>
    <span class="nt">&lt;status&gt;</span>
        <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
        <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;message&gt;</span>success<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/status&gt;</span>
    <span class="nt">&lt;email&gt;</span>
        <span class="nt">&lt;id&gt;</span>2342344<span class="nt">&lt;/id&gt;</span>
        <span class="nt">&lt;to&gt;</span>piyush.goel@example.com<span class="nt">&lt;/to&gt;</span>
        <span class="nt">&lt;cc&gt;</span>joe@example.com, jim@example.com<span class="nt">&lt;/cc&gt;</span>    
<span class="nt">&lt;subject&gt;</span>Test Email<span class="nt">&lt;/subject&gt;</span>
<span class="nt">&lt;description&gt;</span>This is body of the email sent<span class="nt">&lt;/description&gt;</span>
        <span class="nt">&lt;status&gt;</span>Delivered<span class="nt">&lt;/status&gt;</span>
        <span class="nt">&lt;sent_time&gt;</span>2016-08-05 22:00::IST<span class="nt">&lt;/sent_time&gt;</span>
<span class="nt">&lt;/email&gt;</span>    
<span class="nt">&lt;/response&gt;</span>

</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2342344"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"piyush.goel@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"cc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"joe@example.com, jim@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"subject"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Email"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is body of the email sent"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Delivered"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sent_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-08-05 22:00::IST"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns the details of a specific sent email based on the message id you pass. </p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/email</code></td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://{host}/v1.1/communications/email?format={xml/json}&amp;id={id}</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<p>id* - Pass the message id generated of the sent message.</p>

<h2 id="retrieve-details-of-smss-sent">Retrieve Details of SMSs Sent</h2>
<pre class="highlight html"><code># Sample Request
http://us.api.capillarytech.com/v1.1/communications/sms?format=xml<span class="err">&amp;</span>id=23423443
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>        
<span class="nt">&lt;response&gt;</span>
    <span class="nt">&lt;status&gt;</span>
        <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
        <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;message&gt;</span>success<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/status&gt;</span>
    <span class="nt">&lt;sms&gt;</span>
        <span class="nt">&lt;id&gt;</span>23423443<span class="nt">&lt;/id&gt;</span>
        <span class="nt">&lt;to&gt;</span>919980616xxx<span class="nt">&lt;/to&gt;</span>        
        <span class="nt">&lt;status&gt;</span>Sent<span class="nt">&lt;/status&gt;</span>
        <span class="nt">&lt;scheduled_time&gt;</span>2016-08-05 22:00:00IST<span class="nt">&lt;/scheduled_time&gt;</span>
        <span class="nt">&lt;message&gt;</span>Sample message<span class="nt">&lt;/message&gt;</span>
        <span class="nt">&lt;sender&gt;</span>test sender<span class="nt">&lt;/sender&gt;</span>
<span class="nt">&lt;/sms&gt;</span>    
<span class="nt">&lt;/response&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"sms"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23423443"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"919980616xxx"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sent"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"scheduled_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-08-05 22:00:00IST"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample message"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test sender"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns the details of a specific sent SMS based on the message id you pass.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/sms</code></td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://{host}/v1.1/communications/sms?format=&lt;xml/json&gt;&amp;&lt;parameters&gt;</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<p>id* - Pass the unique id of the message that you want to retrieve</p>

<h2 id="response-codes">Response Codes</h2>

<h3 id="success-codes">Success Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>4100</td>
<td>Message sent successfully</td>
</tr>
<tr>
<td>Message fetched successfully</td>
<td></td>
</tr>
<tr>
<td>Template added/updated successfully</td>
<td></td>
</tr>
<tr>
<td>4200</td>
<td>Email sent successfully / Email fetched successfully</td>
</tr>
</tbody></table>

<h3 id="error-codes">Error Codes</h3>

<table><thead>
<tr>
<th>CODE</th>
<th>DESCRIPTION</th>
</tr>
</thead><tbody>
<tr>
<td>4101</td>
<td>Unable to send message</td>
</tr>
<tr>
<td>4201</td>
<td>Unable to send email</td>
</tr>
<tr>
<td>4102</td>
<td>Unable to find/retrieve SMS</td>
</tr>
<tr>
<td>4202</td>
<td>Unable to find/retrieve email</td>
</tr>
<tr>
<td>4203</td>
<td>Invalid template type passed</td>
</tr>
<tr>
<td>4204</td>
<td>Template not found</td>
</tr>
<tr>
<td>4205</td>
<td>Unable to update the template</td>
</tr>
<tr>
<td>4206</td>
<td>Invalid template id passed</td>
</tr>
<tr>
<td>4207</td>
<td>No template is available with the given parameters</td>
</tr>
<tr>
<td>4208</td>
<td>Invalid email id</td>
</tr>
</tbody></table>

          <h1 id="request">Request</h1>

<p>Request entity contains APIs corresponding to submitting and retrieving requests. In Capillary APIs, requests are of two types - Change Identifier and Goodwill. Request APIs allow you to change customer identifiers, merge customer accounts, issue Goodwill points/coupons, and retrieve details of submitted requests.</p>

<ul>
<li><strong>Change Identifier</strong>: Requests corresponding to identifier change, accounts merge, and mobile reallocation</li>
<li><strong>Goodwill</strong>: Requests corresponding to goodwill points and coupons</li>
</ul>

<h2 id="submit-requests">Submit Requests</h2>
<pre class="highlight html"><code>http://us.api.capillarytech.com/v1.1/request/add
</code></pre>
<blockquote>
<p>Sample ID Change Request</p>
</blockquote>
<pre class="highlight xml"><code><span class="nt">&lt;root&gt;</span>
<span class="nt">&lt;request&gt;</span>
    <span class="nt">&lt;reference_id&gt;</span>1234<span class="nt">&lt;/reference_id&gt;</span>
    <span class="nt">&lt;type&gt;</span>CHANGE_IDENTIFIER<span class="nt">&lt;/type&gt;</span>
    <span class="nt">&lt;base_type&gt;</span>EMAIL<span class="nt">&lt;/base_type&gt;</span>
    <span class="nt">&lt;customer&gt;</span>
        <span class="nt">&lt;email&gt;</span>Tom.sawyerold@example.com<span class="nt">&lt;/email&gt;</span>
        <span class="nt">&lt;mobile&gt;</span>44700900000<span class="nt">&lt;/mobile&gt;</span>
        <span class="nt">&lt;external_id&gt;</span>ts1234<span class="nt">&lt;/external_id&gt;</span>
        <span class="nt">&lt;id&gt;</span>395958<span class="nt">&lt;/id&gt;</span>
    <span class="nt">&lt;/customer&gt;</span>
    <span class="nt">&lt;old_value&gt;</span>Tom.sawyerold@example.com<span class="nt">&lt;/old_value&gt;</span>
    <span class="nt">&lt;new_value&gt;</span>Tom.sawyer@example.com<span class="nt">&lt;/new_value&gt;</span>
    <span class="nt">&lt;requested_on&gt;</span>time in 8601<span class="nt">&lt;/requested_on&gt;</span>
<span class="nt">&lt;/request&gt;</span>
<span class="nt">&lt;/root&gt;</span>

</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"root"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"request"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nt">"reference_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CHANGE_IDENTIFIER"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"base_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EMAIL"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tom.sawyerold@example.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900000"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ts1234"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"395958"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"old_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tom.sawyerold@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"new_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tom.sawyer@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"requested_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"time in 8601"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Sample Goodwill Request</p>
</blockquote>
<pre class="highlight xml"><code><span class="nt">&lt;root&gt;</span>
   <span class="nt">&lt;request&gt;</span>
      <span class="nt">&lt;customer&gt;</span>
         <span class="nt">&lt;id&gt;</span>2345<span class="nt">&lt;/id&gt;</span>
         <span class="nt">&lt;mobile&gt;&lt;/mobile&gt;</span>
         <span class="nt">&lt;email&gt;&lt;/email&gt;</span>
         <span class="nt">&lt;external_id&gt;&lt;/external_id&gt;</span>
      <span class="nt">&lt;/customer&gt;</span>
      <span class="nt">&lt;comments&gt;</span>API Service request - Awarding him 200 points.<span class="nt">&lt;/comments&gt;</span>
      <span class="nt">&lt;reason&gt;</span>POINTS_ISSUE<span class="nt">&lt;/reason&gt;</span>
      <span class="nt">&lt;type&gt;</span>GOODWILL<span class="nt">&lt;/type&gt;</span>
      <span class="nt">&lt;base_type&gt;</span>POINTS<span class="nt">&lt;/base_type&gt;</span>
      <span class="nt">&lt;points&gt;</span>200<span class="nt">&lt;/points&gt;</span>
   <span class="nt">&lt;/request&gt;</span>
<span class="nt">&lt;/root&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"root"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"request"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"customer"</span><span class="p">:{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"2345"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"mobile"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="nt">"email"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="nt">"external_id"</span><span class="p">:</span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"comments"</span><span class="p">:</span><span class="s2">"API Service request - Awarding him 200 points."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"reason"</span><span class="p">:</span><span class="s2">"Issue Goodwill points"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"GOODWILL"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"base_type"</span><span class="p">:</span><span class="s2">"POINTS"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"points"</span><span class="p">:</span><span class="s2">"200"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="nt">&lt;response&gt;</span>
<span class="nt">&lt;status&gt;</span>
<span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
<span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
<span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
<span class="nt">&lt;/status&gt;</span>
<span class="nt">&lt;requests&gt;</span>
    <span class="nt">&lt;request&gt;</span>
<span class="nt">&lt;reference_id&gt;</span>1234<span class="nt">&lt;/reference_id&gt;</span>
<span class="nt">&lt;id&gt;</span>23123124<span class="nt">&lt;/id&gt;</span>
<span class="nt">&lt;status&gt;</span>PENDING<span class="nt">&lt;/status&gt;</span>
<span class="nt">&lt;type&gt;</span>CHANGE_IDENTIFIER<span class="nt">&lt;/type&gt;</span>
<span class="nt">&lt;base_type&gt;</span>MOBILE<span class="nt">&lt;/base_type&gt;</span>
<span class="nt">&lt;customer&gt;</span>
<span class="nt">&lt;firstname&gt;</span>Tom<span class="nt">&lt;/firstname&gt;</span>
<span class="nt">&lt;lastname&gt;</span>Sawyer<span class="nt">&lt;/lastname&gt;</span>
<span class="nt">&lt;email&gt;</span>tom.sawyerold@example.com<span class="nt">&lt;/email&gt;</span>
<span class="nt">&lt;mobile&gt;</span>44700900000<span class="nt">&lt;/mobile&gt;</span>
<span class="nt">&lt;external_id&gt;</span>ts1234<span class="nt">&lt;/external_id&gt;</span>
<span class="nt">&lt;id&gt;</span>10423<span class="nt">&lt;/id&gt;</span>
<span class="nt">&lt;/customer&gt;</span>
<span class="nt">&lt;old_value&gt;</span>tom.sawyerold@example.com<span class="nt">&lt;/old_value&gt;</span>
<span class="nt">&lt;new_value&gt;</span>Tom.sawyer@example.com<span class="nt">&lt;/new_value&gt;</span>
<span class="nt">&lt;item_status&gt;</span>
<span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
<span class="nt">&lt;code&gt;</span>9000<span class="nt">&lt;/code&gt;</span>
<span class="nt">&lt;message&gt;</span>Change Identifier request added successfully<span class="nt">&lt;/message&gt;</span>
<span class="nt">&lt;/item_status&gt;</span>
<span class="nt">&lt;/request&gt;</span>
<span class="nt">&lt;/requests&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"requests"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"request"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"reference_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23123124"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PENDING"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CHANGE_IDENTIFIER"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"base_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MOBILE"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tom"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sawyer"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom.sawyerold@example.com"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900000"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ts1234"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10423"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"old_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom.sawyerold@example.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"new_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tom.sawyer@example.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9000"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Change Identifier request added successfully"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This API allows you to submit requests for changing customer identifier, merging customers, reallocating mobile number and issuing goodwill points/coupons to the loyalty customers.</p>

<p>Requests, when submitted, will go in pending status by default. Capillary back-end team verifies the request and could either approves or rejects it. The <code class="prettyprint">request/add</code> API allows you to directly process a request by passing a query param <code class="prettyprint">client_auto_approve=true</code>.</p>

<p>If <code class="prettyprint">client_auto_approve=true</code>, the request will be created in pending status by default and then processed automatically.</p>

<p>However, requests can be approved automatically based on the following configs set on Member Care.</p>

<table><thead>
<tr>
<th>Config</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>CI_EMAIL_AUTO_APPROVE</td>
<td>Approves email id change requests automatically</td>
</tr>
<tr>
<td>CI_MOBILE_AUTO_APPROVE</td>
<td>Approves mobile number change requests automatically</td>
</tr>
<tr>
<td>CI_EXTID_AUTO_APPROVE</td>
<td>Approves external id change requests automatically</td>
</tr>
<tr>
<td>CI_ADDRESS_AUTO_APPROVE</td>
<td>Approves registered address change requests automatically</td>
</tr>
<tr>
<td>CI_MERGE_AUTO_APPROVE</td>
<td>Approves customer accounts merge requests automatically</td>
</tr>
<tr>
<td>CI_MOBILEREALLOC_AUTO_APPROVE</td>
<td>Approves mobile number reallocation requests automatically</td>
</tr>
</tbody></table>

<aside class="warning">
The param `client_auto_approve` overrides all the server side configurations mentioned in the table above. However, it is recommended not to use the param unless it is highly necessary.
</aside>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>program_id</td>
<td>Applicable for Goodwill points to issue points from a specific loyalty program based on the program id passed. For this you also need to pass client_auto_approve=true</td>
</tr>
<tr>
<td>client_auto_approve=true</td>
<td>Allows processing a request directly</td>
</tr>
</tbody></table>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Entry</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>request/add</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>POST</td>
</tr>
<tr>
<td>Response Object</td>
<td>Submits customer requests</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/request/add&amp;format=&lt;xml/json&gt;</code></p>

<h3 id="request-attributes">Request Attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Customer Identifier*</td>
<td>Unique identifier of the customer for whom the request is created. This can be mobile no/email id/external id/user id</td>
</tr>
<tr>
<td>reference_id*</td>
<td>Unique reference id for the request</td>
</tr>
<tr>
<td>type</td>
<td>Type of request. Value: CHANGE_IDENTIFIER, GOODWILL</td>
</tr>
<tr>
<td>base_type</td>
<td>Sub-type of the request. Value: If <code class="prettyprint">type=CHANGE_IDENTIFIER</code>, <code class="prettyprint">base_type</code> will be MOBILE, EMAIL, EXTERNAL_ID, MERGE, or REALLOCATION. <br> If <code class="prettyprint">type=GOODWILL</code>, <code class="prettyprint">base_type</code> will be POINTS, or COUPONS</td>
</tr>
<tr>
<td>old_value</td>
<td>The current value of the customer identifier. Applicable only for identifier change requests</td>
</tr>
<tr>
<td>new_value</td>
<td>The new value of the customer identifier. Applicable only for identifier change requests</td>
</tr>
<tr>
<td>requested_on</td>
<td>Date on which the request is created in YYYY-MM-DD format</td>
</tr>
<tr>
<td>reason</td>
<td>Reason for issuing goodwill points/coupons. Applicable only for goodwill response</td>
</tr>
<tr>
<td>comments</td>
<td>Small description on why goodwill points/coupons issued</td>
</tr>
<tr>
<td>client_auto_approve</td>
<td>If the value is true, approves request directly when the request is submitted. This even overrides the back-end configurations set on Member Care. Hence, highly recommended not to use in normal cases</td>
</tr>
</tbody></table>

<h2 id="approve-requests">Approve Requests</h2>
<pre class="highlight html"><code>http://us.api.capillarytech.com/v1.1/request/approve
</code></pre>
<blockquote>
<p>Sample POST Request</p>
</blockquote>
<pre class="highlight xml"><code><span class="nt">&lt;root&gt;</span>
    <span class="nt">&lt;request&gt;</span>
        <span class="nt">&lt;type&gt;</span>GOODWILL<span class="nt">&lt;/type&gt;</span>
        <span class="nt">&lt;base_type&gt;</span>POINTS<span class="nt">&lt;/base_type&gt;</span>
        <span class="nt">&lt;id&gt;</span>23423<span class="nt">&lt;/id&gt;</span>
        <span class="nt">&lt;points&gt;</span>20<span class="nt">&lt;/points&gt;</span>
<span class="nt">&lt;updated_comments&gt;</span>Seems to a valid request. hence approving<span class="nt">&lt;/updated_comments&gt;</span>
    <span class="nt">&lt;/request&gt;</span>
<span class="nt">&lt;/root&gt;</span>


</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"root"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"request"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GOODWILL"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"base_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POINTS"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23423"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"points"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_comments"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Seems to a valid request. hence approving"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="nt">&lt;response&gt;</span>
    <span class="nt">&lt;requests&gt;</span>
        <span class="nt">&lt;goodwill&gt;</span>
            <span class="nt">&lt;type&gt;</span>POINTS<span class="nt">&lt;/type&gt;</span>
            <span class="nt">&lt;reason&gt;</span>BILL_ISSUE<span class="nt">&lt;/reason&gt;</span>
            <span class="nt">&lt;comments&gt;</span>pls issue a coupon for the failed transaction<span class="nt">&lt;/comments&gt;</span>
<span class="nt">&lt;updated_comments&gt;</span>Seems to a valid request. hence approving<span class="nt">&lt;/updated_comments&gt;</span>
            <span class="nt">&lt;status&gt;</span>APPROVED<span class="nt">&lt;/status&gt;</span>
            <span class="nt">&lt;reply&gt;&lt;/reply&gt;</span>
            <span class="nt">&lt;customer&gt;</span>
                <span class="nt">&lt;firstname&gt;</span>Tom<span class="nt">&lt;/firstname&gt;</span>
                <span class="nt">&lt;lastname&gt;</span>Sawyer<span class="nt">&lt;/lastname&gt;</span>
                <span class="nt">&lt;email&gt;</span>tom.sawyer@example.com<span class="nt">&lt;/email&gt;</span>
                <span class="nt">&lt;mobile&gt;</span>919999999999<span class="nt">&lt;/mobile&gt;</span>
                <span class="nt">&lt;external_id&gt;</span>ts1234<span class="nt">&lt;/external_id&gt;</span>
            <span class="nt">&lt;/customer&gt;</span>
            <span class="nt">&lt;added_on&gt;</span>2014-01-22T03:06:11+05:30<span class="nt">&lt;/added_on&gt;</span>
            <span class="nt">&lt;last_action_on&gt;</span>2016-01-23T03:06:11+05:30<span class="nt">&lt;/last_action_on&gt;</span>
        <span class="nt">&lt;/goodwill&gt;</span>
    <span class="nt">&lt;/requests&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"requests"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"goodwill"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POINTS"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BILL_ISSUE"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"comments"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pls issue a coupon for the failed transaction"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated_comments"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Seems to a valid request. hence approving"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"APPROVED"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tom"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sawyer"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom.sawyer@example.com"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"919999999999"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ts1234"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"added_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-01-22T03:06:11+05:30"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"last_action_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-23T03:06:11+05:30"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Allows approving requests that are in pending status. You can use this API only when the auto-approval configurations are not enabled for your organization. Also, you cannot approve force approval requests made using <code class="prettyprint">client_auto_approve=true</code>.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Entry</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>request/approve</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>POST</td>
</tr>
<tr>
<td>Response Object</td>
<td>Approves customer requests</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/request/approve&amp;format=&lt;xml/json&gt;</code></p>

<h3 id="request-attributes">Request Attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Reference id of the request that you want to approve</td>
</tr>
<tr>
<td>type</td>
<td>Type of request. Value: CHANGE_IDENTIFIER, GOODWILL</td>
</tr>
<tr>
<td>base_type</td>
<td>Sub-type of the request. Value: If <code class="prettyprint">type=CHANGE_IDENTIFIER</code>, <code class="prettyprint">base_type</code> will be MOBILE, EMAIL, EXTERNAL_ID, MERGE, or REALLOCATION. <br> If <code class="prettyprint">type=GOODWILL</code>, <code class="prettyprint">base_type</code> will be POINTS, or COUPONS</td>
</tr>
</tbody></table>

<h2 id="reject-request">Reject Request</h2>
<pre class="highlight html"><code>http://us.api.capillarytech.com/v1.1/request/reject
</code></pre>
<blockquote>
<p>Sample POST Request</p>
</blockquote>
<pre class="highlight xml"><code><span class="nt">&lt;root&gt;</span>
    <span class="nt">&lt;request&gt;</span>
        <span class="nt">&lt;type&gt;</span>CHANGE_IDENTIFIER<span class="nt">&lt;/type&gt;</span>
        <span class="nt">&lt;base_type&gt;</span>MOBILE<span class="nt">&lt;/base_type&gt;</span>
        <span class="nt">&lt;id&gt;</span>346436<span class="nt">&lt;/id&gt;</span>
        <span class="nt">&lt;updated_comments&gt;</span>outlier<span class="nt">&lt;/updated_comments&gt;</span>
    <span class="nt">&lt;/request&gt;</span>
<span class="nt">&lt;/root&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"root"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"request"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CHANGE_IDENTIFIER"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"base_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MOBILE"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"346436"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_comments"</span><span class="p">:</span><span class="w"> </span><span class="s2">"outlier"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Sample POST Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="nt">&lt;response&gt;</span>
<span class="nt">&lt;status&gt;</span>
<span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
<span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
<span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
<span class="nt">&lt;/status&gt;</span>
<span class="nt">&lt;requests&gt;</span>
<span class="nt">&lt;request&gt;</span>
<span class="nt">&lt;id&gt;</span>12955<span class="nt">&lt;/id&gt;</span>
<span class="nt">&lt;type&gt;</span>CHANGE_IDENTIFIER<span class="nt">&lt;/type&gt;</span>
<span class="nt">&lt;base_type&gt;</span>MOBILE<span class="nt">&lt;/base_type&gt;</span>
<span class="nt">&lt;status&gt;</span>REJECTED<span class="nt">&lt;/status&gt;</span>
<span class="nt">&lt;old_value&gt;</span>44700900099<span class="nt">&lt;/old_value&gt;</span>
<span class="nt">&lt;new_value&gt;</span>44700900000<span class="nt">&lt;/new_value&gt;</span>
<span class="nt">&lt;item_status&gt;</span>
<span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
<span class="nt">&lt;code&gt;</span>9000<span class="nt">&lt;/code&gt;</span>
<span class="nt">&lt;message&gt;</span>Request updated successfully<span class="nt">&lt;/message&gt;</span>
<span class="nt">&lt;/item_status&gt;</span>
<span class="nt">&lt;/request&gt;</span>
<span class="nt">&lt;/requests&gt;</span>
<span class="nt">&lt;/response&gt;</span>

</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"requests"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"request"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12955"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CHANGE_IDENTIFIER"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"base_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MOBILE"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REJECTED"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"old_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900099"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"new_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900000"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9000"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Request updated successfully"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Allows rejecting requests that are in pending status. You can use this API only when the auto-approval configurations are not enabled for your organization. Also, you cannot reject force approval requests made using <code class="prettyprint">client_auto_approve=true</code>.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Entry</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>request/reject</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>POST</td>
</tr>
<tr>
<td>Response Object</td>
<td>Rejects pending requests</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/request/reject&amp;format=&lt;xml/json&gt;</code></p>

<h3 id="request-attributes">Request Attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Reference id of the request that you want to approve</td>
</tr>
<tr>
<td>type</td>
<td>Type of request. Value: CHANGE_IDENTIFIER, GOODWILL</td>
</tr>
<tr>
<td>base_type</td>
<td>Sub-type of the request. Value: If <code class="prettyprint">type=CHANGE_IDENTIFIER</code>, <code class="prettyprint">base_type</code> will be MOBILE, EMAIL, EXTERNAL_ID, MERGE, or REALLOCATION. <br> If <code class="prettyprint">type=GOODWILL</code>, <code class="prettyprint">base_type</code> will be POINTS, or COUPONS</td>
</tr>
</tbody></table>

<h2 id="retrieve-request-details">Retrieve Request Details</h2>
<pre class="highlight html"><code>https://us.api.capillarytech.com/v1.1/request/get?format=json
</code></pre><pre class="highlight xml"><code><span class="nt">&lt;response&gt;</span>
<span class="nt">&lt;status&gt;</span>
<span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
<span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
<span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
<span class="nt">&lt;/status&gt;</span>
<span class="nt">&lt;requests&gt;</span>
    <span class="nt">&lt;count&gt;</span>531<span class="nt">&lt;/count&gt;</span>
    <span class="nt">&lt;rows&gt;</span>30<span class="nt">&lt;/rows&gt;</span>
<span class="nt">&lt;goodwill&gt;</span>
<span class="nt">&lt;id&gt;</span>10039<span class="nt">&lt;/id&gt;</span>
<span class="nt">&lt;type&gt;</span>GOODWILL<span class="nt">&lt;/type&gt;</span>
<span class="nt">&lt;status&gt;</span>PENDING<span class="nt">&lt;/status&gt;</span>
<span class="nt">&lt;base_type&gt;</span>COUPON<span class="nt">&lt;/base_type&gt;</span>
<span class="nt">&lt;reason&gt;</span>BILL_ISSUE<span class="nt">&lt;/reason&gt;</span>
<span class="nt">&lt;comments&gt;</span>customer is angry<span class="nt">&lt;/comments&gt;</span>
<span class="nt">&lt;customer&gt;</span>
<span class="nt">&lt;firstname&gt;</span>Tom<span class="nt">&lt;/firstname&gt;</span>
<span class="nt">&lt;lastname&gt;</span>Sawyer<span class="nt">&lt;/lastname&gt;</span>
<span class="nt">&lt;email&gt;</span>Tom.sawyer@example.com<span class="nt">&lt;/email&gt;</span>
<span class="nt">&lt;mobile&gt;</span>44700900000<span class="nt">&lt;/mobile&gt;</span>
<span class="nt">&lt;external_id&gt;</span>ts1234<span class="nt">&lt;/external_id&gt;</span>
<span class="nt">&lt;fraud_status&gt;</span>CONFIRMED<span class="nt">&lt;/fraud_status&gt;</span>
<span class="nt">&lt;/customer&gt;</span>
<span class="nt">&lt;assoc_id&gt;&lt;/assoc_id&gt;</span>
<span class="nt">&lt;approved_value&gt;&lt;/approved_value&gt;</span>
<span class="nt">&lt;updated_comments&gt;&lt;/updated_comments&gt;</span>
<span class="nt">&lt;added_on&gt;</span>2016-02-12T13:32:42+05:30<span class="nt">&lt;/added_on&gt;</span>
<span class="nt">&lt;last_action_on&gt;&lt;/last_action_on&gt;</span>
<span class="nt">&lt;added_by&gt;</span>
<span class="nt">&lt;code&gt;</span>Tom.store<span class="nt">&lt;/code&gt;</span>
<span class="nt">&lt;name&gt;</span>Tom store<span class="nt">&lt;/name&gt;</span>
<span class="nt">&lt;/added_by&gt;</span>
<span class="nt">&lt;updated_by&gt;</span>
<span class="nt">&lt;code&gt;&lt;/code&gt;</span>
<span class="nt">&lt;name&gt;&lt;/name&gt;</span>
<span class="nt">&lt;/updated_by&gt;</span>
<span class="nt">&lt;/goodwill&gt;</span>
<span class="nt">&lt;change_identifier&gt;</span>
<span class="nt">&lt;id&gt;</span>10034<span class="nt">&lt;/id&gt;</span>
<span class="nt">&lt;type&gt;</span>CHANGE_IDENTIFIER<span class="nt">&lt;/type&gt;</span>
<span class="nt">&lt;status&gt;</span>REJECTED<span class="nt">&lt;/status&gt;</span>
<span class="nt">&lt;base_type&gt;</span>EMAIL<span class="nt">&lt;/base_type&gt;</span>
<span class="nt">&lt;new_value&gt;</span>Tom@Tom2.com<span class="nt">&lt;/new_value&gt;</span>
<span class="nt">&lt;old_value&gt;</span>Tom@Tom.com<span class="nt">&lt;/old_value&gt;</span>
<span class="nt">&lt;customer&gt;</span>
<span class="nt">&lt;firstname&gt;</span>Tom<span class="nt">&lt;/firstname&gt;</span>
<span class="nt">&lt;lastname&gt;</span>Sawyer<span class="nt">&lt;/lastname&gt;</span>
<span class="nt">&lt;email&gt;</span>Tom@Tom2.com<span class="nt">&lt;/email&gt;</span>
<span class="nt">&lt;mobile&gt;</span>919740798372<span class="nt">&lt;/mobile&gt;</span>
<span class="nt">&lt;external_id&gt;</span>XYPZ001<span class="nt">&lt;/external_id&gt;</span>
<span class="nt">&lt;fraud_status&gt;</span>CONFIRMED<span class="nt">&lt;/fraud_status&gt;</span>
<span class="nt">&lt;/customer&gt;</span>
<span class="nt">&lt;updated_comments&gt;&lt;/updated_comments&gt;</span>
<span class="nt">&lt;added_on&gt;</span>2016-02-12T05:30:00+05:30<span class="nt">&lt;/added_on&gt;</span>
<span class="nt">&lt;last_action_on&gt;</span>2014-02-21T05:30:00+05:30<span class="nt">&lt;/last_action_on&gt;</span>
<span class="nt">&lt;added_by&gt;</span>
<span class="nt">&lt;code&gt;</span>Tom.store<span class="nt">&lt;/code&gt;</span>
<span class="nt">&lt;name&gt;</span>Tom store<span class="nt">&lt;/name&gt;</span>
<span class="nt">&lt;/added_by&gt;</span>
<span class="nt">&lt;updated_by&gt;</span>
<span class="nt">&lt;code&gt;</span>admin<span class="nt">&lt;/code&gt;</span>
<span class="nt">&lt;name&gt;</span>Mr Admin<span class="nt">&lt;/name&gt;</span>
<span class="nt">&lt;/updated_by&gt;</span>
<span class="nt">&lt;/change_identifier&gt;</span>
<span class="nt">&lt;change_identifier&gt;</span>
<span class="nt">&lt;id&gt;</span>10035<span class="nt">&lt;/id&gt;</span>
<span class="nt">&lt;type&gt;</span>CHANGE_IDENTIFIER<span class="nt">&lt;/type&gt;</span>
<span class="nt">&lt;status&gt;</span>REJECTED<span class="nt">&lt;/status&gt;</span>
<span class="nt">&lt;base_type&gt;</span>EMAIL<span class="nt">&lt;/base_type&gt;</span>
<span class="nt">&lt;new_value&gt;</span>tom.sawyer@example.com<span class="nt">&lt;/new_value&gt;</span>
<span class="nt">&lt;old_value&gt;</span>tom.tom@example.com<span class="nt">&lt;/old_value&gt;</span>
<span class="nt">&lt;customer&gt;</span>
<span class="nt">&lt;firstname&gt;</span>Tom<span class="nt">&lt;/firstname&gt;</span>
<span class="nt">&lt;lastname&gt;</span>Sawyer<span class="nt">&lt;/lastname&gt;</span>
<span class="nt">&lt;email&gt;</span>Tom.sawyer@example.com<span class="nt">&lt;/email&gt;</span>
<span class="nt">&lt;mobile&gt;</span>44700900000<span class="nt">&lt;/mobile&gt;</span>
<span class="nt">&lt;external_id&gt;</span>XYPZ001<span class="nt">&lt;/external_id&gt;</span>
<span class="nt">&lt;fraud_status&gt;</span>CONFIRMED<span class="nt">&lt;/fraud_status&gt;</span>
<span class="nt">&lt;/customer&gt;</span>
<span class="nt">&lt;added_on&gt;</span>2014-01-20T05:30:00+05:30<span class="nt">&lt;/added_on&gt;</span>
<span class="nt">&lt;last_action_on&gt;</span>2016-02-01T05:30:00+05:30<span class="nt">&lt;/last_action_on&gt;</span>
<span class="nt">&lt;added_by&gt;</span>
<span class="nt">&lt;code&gt;</span>Tom.store<span class="nt">&lt;/code&gt;</span>
<span class="nt">&lt;name&gt;</span>Tom store<span class="nt">&lt;/name&gt;</span>
<span class="nt">&lt;/added_by&gt;</span>
<span class="nt">&lt;updated_by&gt;</span>
<span class="nt">&lt;code&gt;</span>admin007<span class="nt">&lt;/code&gt;</span>
<span class="nt">&lt;name&gt;</span>Mr Admin<span class="nt">&lt;/name&gt;</span>
<span class="nt">&lt;/updated_by&gt;</span>
<span class="nt">&lt;/change_identifier&gt;</span>
<span class="nt">&lt;item_status&gt;</span>
<span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
<span class="nt">&lt;code&gt;</span>9000<span class="nt">&lt;/code&gt;</span>
<span class="nt">&lt;message&gt;</span>Request retrieved successfully<span class="nt">&lt;/message&gt;</span>
<span class="nt">&lt;/item_status&gt;</span>
<span class="nt">&lt;/requests&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"requests"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"531"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"rows"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"goodwill"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10039"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GOODWILL"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PENDING"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"base_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COUPON"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BILL_ISSUE"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"comments"</span><span class="p">:</span><span class="w"> </span><span class="s2">"customer is angry"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tom"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sawyer"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tom.sawyer@example.com"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900000"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ts1234"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"fraud_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CONFIRMED"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"added_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-12T13:32:42+05:30"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"added_by"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tom.store"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tom store"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">

        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"change_identifier"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10034"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CHANGE_IDENTIFIER"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REJECTED"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"base_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EMAIL"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"new_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tom@Tom2.com"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"old_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tom@Tom.com"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tom"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sawyer"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tom@Tom2.com"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"919740798372"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XYPZ001"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"fraud_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CONFIRMED"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"added_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-12T05:30:00+05:30"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"last_action_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-02-21T05:30:00+05:30"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"added_by"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tom.store"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tom store"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mr Admin"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10035"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CHANGE_IDENTIFIER"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REJECTED"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"base_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EMAIL"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"new_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom.sawyer@example.com"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"old_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom.tom@example.com"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tom"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sawyer"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tom.sawyer@example.com"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XYPZ001"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"fraud_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CONFIRMED"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"added_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-01-20T05:30:00+05:30"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"last_action_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-01T05:30:00+05:30"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"added_by"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tom.store"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tom store"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin007"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mr Admin"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9000"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Request retrieved successfully"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>The <code class="prettyprint">request/get</code> API allows you to retrieve up to 50 records containing goodwill and change identifier requests. a sub-set of request/logs API. You can retrieve requests by customer and request type such as change identifier, customer merge, mobile reallocation and good will requests. This API supports various filters to fetch requests.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>Response Object</td>
<td>Returns the list of service requests and the current status of each request</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://&lt;cluster url&gt;/v1.1/request/get&amp;format=&lt;xml/json&gt;</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>start_date</td>
<td>Duration for which you want to retrieve the request details - between start_date and end_date</td>
</tr>
<tr>
<td>end_date</td>
<td>Duration for which you want to retrieve the request details - between start_date and end_date</td>
</tr>
<tr>
<td>customer identifiers</td>
<td>Identifier (user_id, email, mobile, external_id supported) of the customer whose details you want to retrieve</td>
</tr>
<tr>
<td>status</td>
<td>Returns the requests by request status. <strong>Value</strong>: APPROVED, PENDING, REJECTED</td>
</tr>
<tr>
<td>type</td>
<td>Returns a specific type of requests. <strong>Value</strong>: CHANGE_IDENTIFIER, GOODWILL</td>
</tr>
<tr>
<td>base_type</td>
<td>(MOBILE, EXTERNAL_ID, EMAIL, MERGE, ADDRESS, COUPONS, POINTS)</td>
</tr>
<tr>
<td>start_id &amp; end_id</td>
<td>pagination support - request id</td>
</tr>
<tr>
<td>start_limit</td>
<td>UI support for data table; ex: get next 20 batch; formula: (page_no-1)*limit</td>
</tr>
</tbody></table>

<p>limit (no of entries to list)</p>

<h2 id="retrieve-request-logs">Retrieve Request Logs</h2>
<pre class="highlight html"><code>https://us.api.capillarytech.com/v1.1/request/logs?format=json<span class="err">&amp;</span>type=CHANGE_IDENTIFIER<span class="err">&amp;</span>start_date=2016-01-15<span class="err">&amp;</span>end_date=2017-05-08<span class="err">&amp;</span>base_type=EMAIL

</code></pre><pre class="highlight xml"><code><span class="nt">&lt;response&gt;</span>
    <span class="nt">&lt;status&gt;</span>
        <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
        <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/status&gt;</span>
    <span class="nt">&lt;requests&gt;</span>
        <span class="nt">&lt;count&gt;</span>60<span class="nt">&lt;/count&gt;</span>
        <span class="nt">&lt;rows&gt;</span>10<span class="nt">&lt;/rows&gt;</span>
        <span class="nt">&lt;change_identifier&gt;</span>
            <span class="nt">&lt;id&gt;</span>263452<span class="nt">&lt;/id&gt;</span>
            <span class="nt">&lt;customer&gt;</span>
                <span class="nt">&lt;firstname&gt;</span>Tom<span class="nt">&lt;/firstname&gt;</span>
                <span class="nt">&lt;lastname&gt;</span>Sawyer<span class="nt">&lt;/lastname&gt;</span>
                <span class="nt">&lt;email&gt;</span>tom.sawyer@example.com<span class="nt">&lt;/email&gt;</span>
                <span class="nt">&lt;mobile&gt;</span>44700900000<span class="nt">&lt;/mobile&gt;</span>
                <span class="nt">&lt;external_id&gt;</span>ts123<span class="nt">&lt;/external_id&gt;</span>
                <span class="nt">&lt;fraud_status&gt;</span>NONE<span class="nt">&lt;/fraud_status&gt;</span>
            <span class="nt">&lt;/customer&gt;</span>
            <span class="nt">&lt;type&gt;</span>CHANGE_IDENTIFIER<span class="nt">&lt;/type&gt;</span>
            <span class="nt">&lt;base_type&gt;</span>EMAIL<span class="nt">&lt;/base_type&gt;</span>
            <span class="nt">&lt;status&gt;</span>PENDING<span class="nt">&lt;/status&gt;</span>
            <span class="nt">&lt;old_value&gt;</span>tom.sawyerold@example.com<span class="nt">&lt;/old_value&gt;</span>
            <span class="nt">&lt;new_value&gt;</span>tom.sawyer@example.com<span class="nt">&lt;/new_value&gt;</span>
            <span class="nt">&lt;updated_comments/&gt;</span>
            <span class="nt">&lt;one_step_change&gt;</span>false<span class="nt">&lt;/one_step_change&gt;</span>
            <span class="nt">&lt;approval_type&gt;</span>CLIENT<span class="nt">&lt;/approval_type&gt;</span>
            <span class="nt">&lt;logs&gt;</span>
                <span class="nt">&lt;added_by&gt;</span>
                    <span class="nt">&lt;till&gt;</span>
                        <span class="nt">&lt;code&gt;</span>Catherine<span class="nt">&lt;/code&gt;</span>
                        <span class="nt">&lt;name&gt;</span>James<span class="nt">&lt;/name&gt;</span>
                    <span class="nt">&lt;/till&gt;</span>
                    <span class="nt">&lt;store&gt;</span>
                        <span class="nt">&lt;code/&gt;</span>
                        <span class="nt">&lt;name/&gt;</span>
                    <span class="nt">&lt;/store&gt;</span>
                    <span class="nt">&lt;time&gt;</span>2016-12-16T12:49:29+05:30<span class="nt">&lt;/time&gt;</span>
                <span class="nt">&lt;/added_by&gt;</span>
                <span class="nt">&lt;updated_by&gt;</span>
                    <span class="nt">&lt;user&gt;</span>
                        <span class="nt">&lt;name&gt;</span>Catherine James<span class="nt">&lt;/name&gt;</span>
                        <span class="nt">&lt;mobile&gt;</span>44700200030<span class="nt">&lt;/mobile&gt;</span>
                        <span class="nt">&lt;email&gt;</span>catherine@example.com<span class="nt">&lt;/email&gt;</span>
                    <span class="nt">&lt;/user&gt;</span>
                    <span class="nt">&lt;ip&gt;</span>115.114.139.186<span class="nt">&lt;/ip&gt;</span>
                    <span class="nt">&lt;time&gt;</span>2016-12-16T12:49:29+05:30<span class="nt">&lt;/time&gt;</span>
                <span class="nt">&lt;/updated_by&gt;</span>
            <span class="nt">&lt;/logs&gt;</span>
        <span class="nt">&lt;/change_identifier&gt;</span>
        <span class="nt">&lt;change_identifier&gt;</span>
            <span class="nt">&lt;id&gt;</span>225750<span class="nt">&lt;/id&gt;</span>
            <span class="nt">&lt;customer&gt;</span>
                <span class="nt">&lt;firstname&gt;</span>LUCIA<span class="nt">&lt;/firstname&gt;</span>
                <span class="nt">&lt;lastname&gt;</span>Customer<span class="nt">&lt;/lastname&gt;</span>
                <span class="nt">&lt;email&gt;</span>lucia@example.com<span class="nt">&lt;/email&gt;</span>
                <span class="nt">&lt;mobile&gt;</span>918656001195<span class="nt">&lt;/mobile&gt;</span>
                <span class="nt">&lt;external_id/&gt;</span>
                <span class="nt">&lt;fraud_status&gt;</span>NONE<span class="nt">&lt;/fraud_status&gt;</span>
            <span class="nt">&lt;/customer&gt;</span>
            <span class="nt">&lt;type&gt;</span>CHANGE_IDENTIFIER<span class="nt">&lt;/type&gt;</span>
            <span class="nt">&lt;base_type&gt;</span>EMAIL<span class="nt">&lt;/base_type&gt;</span>
            <span class="nt">&lt;status&gt;</span>APPROVED<span class="nt">&lt;/status&gt;</span>
            <span class="nt">&lt;old_value&gt;</span>lucia.old@example.com<span class="nt">&lt;/old_value&gt;</span>
            <span class="nt">&lt;new_value&gt;</span>lucia@example.com<span class="nt">&lt;/new_value&gt;</span>
            <span class="nt">&lt;updated_comments/&gt;</span>
            <span class="nt">&lt;one_step_change&gt;</span>true<span class="nt">&lt;/one_step_change&gt;</span>
            <span class="nt">&lt;approval_type&gt;</span>CLIENT<span class="nt">&lt;/approval_type&gt;</span>
            <span class="nt">&lt;logs&gt;</span>
                <span class="nt">&lt;added_by&gt;</span>
                    <span class="nt">&lt;till&gt;</span>
                        <span class="nt">&lt;code&gt;</span>1371622280_919866643044<span class="nt">&lt;/code&gt;</span>
                        <span class="nt">&lt;name&gt;</span>1371622280_Ashish<span class="nt">&lt;/name&gt;</span>
                    <span class="nt">&lt;/till&gt;</span>
                    <span class="nt">&lt;store&gt;</span>
                        <span class="nt">&lt;code/&gt;</span>
                        <span class="nt">&lt;name/&gt;</span>
                    <span class="nt">&lt;/store&gt;</span>
                    <span class="nt">&lt;time&gt;</span>2016-09-16T15:52:07+05:30<span class="nt">&lt;/time&gt;</span>
                <span class="nt">&lt;/added_by&gt;</span>
                <span class="nt">&lt;updated_by&gt;</span>
                    <span class="nt">&lt;user&gt;</span>
                        <span class="nt">&lt;name&gt;</span>Ashish Karan<span class="nt">&lt;/name&gt;</span>
                        <span class="nt">&lt;mobile&gt;</span>919866643044<span class="nt">&lt;/mobile&gt;</span>
                        <span class="nt">&lt;email&gt;</span>cap@coin.com<span class="nt">&lt;/email&gt;</span>
                    <span class="nt">&lt;/user&gt;</span>
                    <span class="nt">&lt;ip&gt;</span>115.114.139.186<span class="nt">&lt;/ip&gt;</span>
                    <span class="nt">&lt;time&gt;</span>2016-09-16T15:52:07+05:30<span class="nt">&lt;/time&gt;</span>
                <span class="nt">&lt;/updated_by&gt;</span>
            <span class="nt">&lt;/logs&gt;</span>
        <span class="nt">&lt;/change_identifier&gt;</span>
        <span class="nt">&lt;item_status&gt;</span>
            <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
            <span class="nt">&lt;code&gt;</span>9000<span class="nt">&lt;/code&gt;</span>
            <span class="nt">&lt;message&gt;</span>Request retrieved successfully<span class="nt">&lt;/message&gt;</span>
        <span class="nt">&lt;/item_status&gt;</span>
    <span class="nt">&lt;/requests&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"requests"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"rows"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"change_identifier"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"263452"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tom"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sawyer"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom.sawyer@example.com"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ts123"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"fraud_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NONE"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CHANGE_IDENTIFIER"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"base_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EMAIL"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PENDING"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"old_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom.sawyerold@example.com"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"new_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom.sawyer@example.com"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"one_step_change"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"approval_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CLIENT"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"logs"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"added_by"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"till"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Catherine"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"James"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="nt">"store"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">

              </span><span class="p">},</span><span class="w">
              </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-12-16T12:49:29+05:30"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Catherine James"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700200030"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"catherine@example.com"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="nt">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"115.114.139.186"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-12-16T12:49:29+05:30"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"225750"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LUCIA"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Customer"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lucia@example.com"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"918656001195"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"fraud_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NONE"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CHANGE_IDENTIFIER"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"base_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EMAIL"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"APPROVED"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"old_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lucia.old@example.com"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"new_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lucia@example.com"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"one_step_change"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"approval_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CLIENT"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"logs"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"added_by"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"till"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1371622280_919866643044"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1371622280_Ashish"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="nt">"store"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">

              </span><span class="p">},</span><span class="w">
              </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-16T15:52:07+05:30"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ashish Karan"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"919866643044"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cap@coin.com"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="nt">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"115.114.139.186"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-16T15:52:07+05:30"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9000"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Request retrieved successfully"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Retrieves the requests logs of a specific duration. You can retrieve the either the logs of <code class="prettyprint">CHANGE_IDENTIFIER</code>or <code class="prettyprint">GOODWILL</code>. </p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>request/logs</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>Response Object</td>
<td>Returns the log of service requests</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://&lt;cluster url&gt;/v1.1/request/logs&amp;format=&lt;xml/json&gt;</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type*</td>
<td>CHANGE_IDENTIFIER, GOODWILL</td>
</tr>
<tr>
<td>start_date*</td>
<td>Returns the logs of a specific duration set in start_date and end_date (YYYY-MM-DD)</td>
</tr>
<tr>
<td>end_date*</td>
<td>Returns the logs of a specific duration set in start_date and end_date (YYYY-MM-DD)</td>
</tr>
<tr>
<td>base_type*</td>
<td>MOBILE, EXTERNAL_ID, EMAIL, MERGE, COUPONS, POINTS</td>
</tr>
<tr>
<td>status</td>
<td>Filters the logs by request status. Values: PENDING, APPROVED, REJECTED</td>
</tr>
<tr>
<td>updated_by</td>
<td>Returns the requests that were updated by a specific associate</td>
</tr>
<tr>
<td>added_by</td>
<td>Returns the requests created by a specific associate</td>
</tr>
<tr>
<td>request_id</td>
<td>Returns the details of a specific request id</td>
</tr>
<tr>
<td>is_one_step_change</td>
<td>Returns the requests that were updated directly in a single call. Value: true, false</td>
</tr>
<tr>
<td>approval_type</td>
<td>Returns the logs of a specific approval type. Value: CLIENT, CONFIG, CONFIG_DISABLED, CLIENT_DISABLED</td>
</tr>
<tr>
<td>customer identifiers</td>
<td>Returns the requests of a specific customer. Params: email, mobile, external_id, customer_id</td>
</tr>
<tr>
<td>user_id</td>
<td>Returns the user ids of customers if <code class="prettyprint">user_id=true</code></td>
</tr>
<tr>
<td>start_id &amp; end_id</td>
<td>Returns the logs of a specific range of request ids. For example, logs</td>
</tr>
<tr>
<td>limit</td>
<td>Limits the number of results per page. For example, <code class="prettyprint">limit=10</code> shows 10 results per page on UI</td>
</tr>
</tbody></table>

          <h1 id="task">Task</h1>

<p>Tasks could be any activity created by an associate for oneself or for other associate. The task entity allows you to create, update and map tasks and retrieve the details of tasks created in your organization.</p>

<h2 id="create-tasks">Create Tasks</h2>
<pre class="highlight html"><code># Sample Request
http://api.capillary.co.in/v1.1/task/add
</code></pre>
<blockquote>
<p>Sample POST Request</p>
</blockquote>
<pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>

<span class="nt">&lt;root&gt;</span>


   <span class="nt">&lt;task&gt;</span>


      <span class="nt">&lt;id&gt;</span>-1<span class="nt">&lt;/id&gt;</span>


      <span class="c">&lt;!-- server side id of the Task, -1 in case of add,


or other than that will attempt to update the task --&gt;</span>


      <span class="nt">&lt;local_id&gt;</span>213124334342<span class="nt">&lt;/local_id&gt;</span>


      <span class="c">&lt;!-- local id is client side id of the task --&gt;</span>


      <span class="nt">&lt;title&gt;</span>any title for this task<span class="nt">&lt;/title&gt;</span>


      <span class="nt">&lt;body&gt;</span>description of this task<span class="nt">&lt;/body&gt;</span>


      <span class="nt">&lt;start_date&gt;</span>2016-10-4 12:12:12<span class="nt">&lt;/start_date&gt;</span>


      <span class="nt">&lt;end_date&gt;</span>2016-10-10 12:12:12<span class="nt">&lt;/end_date&gt;</span>


      <span class="nt">&lt;expiry_date&gt;</span>2016-10-10 12:12:12<span class="nt">&lt;/expiry_date&gt;</span>


      <span class="nt">&lt;type&gt;</span>MEMO<span class="nt">&lt;/type&gt;</span>


      <span class="c">&lt;!-- this can be MEMO/TASK --&gt;</span>


      <span class="nt">&lt;action&gt;</span>


         <span class="c">&lt;!-- action_type can be any of (sms/email/call/none) --&gt;</span>


         <span class="nt">&lt;type&gt;</span>sms<span class="nt">&lt;/type&gt;</span>


         <span class="nt">&lt;template&gt;</span><span class="cp">&lt;![CDATA[Hi {name}, Your points = {points}]]&gt;</span><span class="nt">&lt;/template&gt;</span>


      <span class="nt">&lt;/action&gt;</span>


      <span class="nt">&lt;creator&gt;</span>


         <span class="c">&lt;!-- creator can be any of (manager/cashier) --&gt;</span>


         <span class="nt">&lt;type&gt;</span>manager<span class="nt">&lt;/type&gt;</span>


         <span class="nt">&lt;id&gt;</span>55456456<span class="nt">&lt;/id&gt;</span>


      <span class="nt">&lt;/creator&gt;</span>


      <span class="c">&lt;!-- id of the manager or cashier --&gt;</span>


      <span class="nt">&lt;target_type&gt;</span>CASHIER/CUSTOMER<span class="nt">&lt;/target_type&gt;</span>


      <span class="c">&lt;!-- target type cashier, is not specified yet  --&gt;</span>


      <span class="nt">&lt;customer_ids&gt;</span>15,82,443399<span class="nt">&lt;/customer_ids&gt;</span>


      <span class="nt">&lt;selected_audience_groups&gt;</span>443452,432887<span class="nt">&lt;/selected_audience_groups&gt;</span>


      <span class="c">&lt;!-- 


if target_type is CUSTOMER then


for whom this task needs to be executed.


along with target_type, either customer_ids or selected_audience_groups needs to be passed.





passing customer_ids will create task for individual customer, and passing selected_audiance_groups will create tasks for each customers for the given groups.


--&gt;</span>


      <span class="nt">&lt;execute_by_all&gt;</span>false<span class="nt">&lt;/execute_by_all&gt;</span>


      <span class="c">&lt;!-- execute_by_all indicates


if the task needs to be performed by all cashier or not --&gt;</span>


      <span class="nt">&lt;executable_by_type&gt;</span>cashier<span class="nt">&lt;/executable_by_type&gt;</span>


      <span class="c">&lt;!-- executable_by_type can be any of the cashier or store,


        store indicates that all cashier of the store can


access this task --&gt;</span>


      <span class="nt">&lt;executable_by_ids&gt;</span>44,33,22,54<span class="nt">&lt;/executable_by_ids&gt;</span>


      <span class="c">&lt;!-- ids can be cashier_id/store_id depends on


executable_by_type --&gt;</span>


      <span class="c">&lt;!-- represent current status of the task --&gt;</span>


      <span class="nt">&lt;possible_statuses&gt;</span>OPEN,IN_PROGRESS,CLOSED<span class="nt">&lt;/possible_statuses&gt;</span>


      <span class="c">&lt;!-- represents possible statuses --&gt;</span>


      <span class="nt">&lt;tags&gt;</span>[“label” : “birthday task”, “priority” : “1” ]<span class="nt">&lt;/tags&gt;</span>


      <span class="c">&lt;!-- reminder is mandatory to create reminders --&gt;</span>


      <span class="nt">&lt;reminder</span> <span class="na">create=</span><span class="s">"true"</span><span class="nt">&gt;</span>


         <span class="nt">&lt;time&gt;</span>2012-12-26 13:35:35<span class="nt">&lt;/time&gt;</span>


         <span class="nt">&lt;template&gt;</span><span class="cp">&lt;![CDATA[….]]&gt;</span><span class="nt">&lt;/template&gt;</span>


      <span class="nt">&lt;/reminder&gt;</span>


      <span class="nt">&lt;entries&gt;</span>


         <span class="c">&lt;!-- these entries will try to update the task entry status,


this will be considered only when task id “&lt;id&gt;” is positive  --&gt;</span>


         <span class="nt">&lt;entry&gt;</span>


            <span class="nt">&lt;customer_id</span> <span class="nt">/&gt;</span>


            <span class="nt">&lt;associate_id</span> <span class="nt">/&gt;</span>


            <span class="c">&lt;!-- store_id can directly fetched from currentuser --&gt;</span>


            <span class="nt">&lt;status&gt;</span>CLOSE<span class="nt">&lt;/status&gt;</span>


            <span class="c">&lt;!-- new status --&gt;</span>


         <span class="nt">&lt;/entry&gt;</span>


         <span class="nt">&lt;entry&gt;</span>


            <span class="nt">&lt;customer_id</span> <span class="nt">/&gt;</span>


            <span class="nt">&lt;associate_id</span> <span class="nt">/&gt;</span>


            <span class="c">&lt;!-- store_id can directly fetched from currentuser --&gt;</span>


            <span class="nt">&lt;status&gt;</span>CLOSE<span class="nt">&lt;/status&gt;</span>


            <span class="c">&lt;!-- new status --&gt;</span>


         <span class="nt">&lt;/entry&gt;</span>


      <span class="nt">&lt;/entries&gt;</span>


   <span class="nt">&lt;/task&gt;</span>


<span class="nt">&lt;/root&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"root"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"task"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"local_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"213124334342"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"any title for this task"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"body"</span><span class="p">:</span><span class="w"> </span><span class="s2">"description of this task"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-4 12:12:12"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"end_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-10 12:12:12"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"expiry_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-10 12:12:12"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MEMO"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sms"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"template"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hi {name}, Your points = {points}"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"creator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"manager"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55456456"</span><span class="w">
      </span><span class="p">},</span><span class="w">

      </span><span class="nt">"target_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CASHIER/CUSTOMER"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"customer_ids"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15,82,443399"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"selected_audience_groups"</span><span class="p">:</span><span class="w"> </span><span class="s2">"443452,432887"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"execute_by_all"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"executable_by_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cashier"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"executable_by_ids"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44,33,22,54"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"possible_statuses"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN,IN_PROGRESS,CLOSED"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"tags"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[“label” : “birthday task”, “priority” : “1” ]"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"reminder"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nt">"-create"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-12-26 13:35:35"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"template"</span><span class="p">:</span><span class="w"> </span><span class="s2">"…."</span><span class="w">
      </span><span class="p">}],</span><span class="w">
      </span><span class="nt">"entries"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"entry"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w"> </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CLOSE"</span><span class="w"> </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w"> </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CLOSE"</span><span class="w"> </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;response&gt;</span>
   <span class="nt">&lt;status&gt;</span>
      <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
      <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
      <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
   <span class="nt">&lt;/status&gt;</span>
   <span class="nt">&lt;tasks&gt;</span>
      <span class="nt">&lt;task&gt;</span>
         <span class="nt">&lt;id&gt;</span>12<span class="nt">&lt;/id&gt;</span>
         <span class="nt">&lt;title&gt;</span>Title<span class="nt">&lt;/title&gt;</span>
         <span class="nt">&lt;body&gt;</span>Body<span class="nt">&lt;/body&gt;</span>
         <span class="nt">&lt;start_date&gt;</span>20120820<span class="nt">&lt;/start_date&gt;</span>
         <span class="nt">&lt;end_date&gt;</span>20120821<span class="nt">&lt;/end_date&gt;</span>
         <span class="nt">&lt;action&gt;</span>
            <span class="nt">&lt;type&gt;</span>Call<span class="nt">&lt;/type&gt;</span>
            <span class="nt">&lt;template&gt;</span>Hi {name}, Your points = {points}<span class="nt">&lt;/template&gt;</span>
         <span class="nt">&lt;/action&gt;</span>
         <span class="nt">&lt;cashier_task&gt;</span>false<span class="nt">&lt;/cashier_task&gt;</span>
         <span class="c">&lt;!-- Executable by particular cashier --&gt;</span>
         <span class="nt">&lt;customer_task&gt;</span>false<span class="nt">&lt;/customer_task&gt;</span>
         <span class="nt">&lt;execute_by_all&gt;</span>false<span class="nt">&lt;/execute_by_all&gt;</span>
         <span class="c">&lt;!-- non cashier/customer tasks --&gt;</span>
         <span class="nt">&lt;creator&gt;</span>
            <span class="nt">&lt;type&gt;</span>manager<span class="nt">&lt;/type&gt;</span>
            <span class="nt">&lt;id&gt;</span>55456456<span class="nt">&lt;/id&gt;</span>
            <span class="nt">&lt;name&gt;</span>name<span class="nt">&lt;/name&gt;</span>
         <span class="nt">&lt;/creator&gt;</span>
         <span class="nt">&lt;entries&gt;</span>
            <span class="nt">&lt;entry&gt;</span>
               <span class="nt">&lt;entry_id</span> <span class="nt">/&gt;</span>
               <span class="nt">&lt;customer_id</span> <span class="nt">/&gt;</span>
               <span class="nt">&lt;associate_id</span> <span class="nt">/&gt;</span>
               <span class="nt">&lt;associate_name&gt;</span>assigned_to name<span class="nt">&lt;/associate_name&gt;</span>
               <span class="nt">&lt;store_id</span> <span class="nt">/&gt;</span>
               <span class="nt">&lt;status&gt;</span>OPEN<span class="nt">&lt;/status&gt;</span>
               <span class="nt">&lt;type&gt;</span>CUSTOMER/CASHIER<span class="nt">&lt;/type&gt;</span>
            <span class="nt">&lt;/entry&gt;</span>
            <span class="nt">&lt;entry&gt;</span>
               <span class="nt">&lt;entry_id</span> <span class="nt">/&gt;</span>
               <span class="nt">&lt;customer_id</span> <span class="nt">/&gt;</span>
               <span class="nt">&lt;associate_id</span> <span class="nt">/&gt;</span>
               <span class="nt">&lt;associate_name&gt;</span>assigned_to name<span class="nt">&lt;/associate_name&gt;</span>
               <span class="nt">&lt;store_id</span> <span class="nt">/&gt;</span>
               <span class="nt">&lt;status&gt;</span>OPEN<span class="nt">&lt;/status&gt;</span>
               <span class="nt">&lt;type&gt;</span>CUSTOMER/CASHIER<span class="nt">&lt;/type&gt;</span>
            <span class="nt">&lt;/entry&gt;</span>
         <span class="nt">&lt;/entries&gt;</span>
         <span class="c">&lt;!-- reminders will be populated only if they are created --&gt;</span>
         <span class="nt">&lt;reminders&gt;</span>
            <span class="nt">&lt;reminder&gt;</span>
               <span class="nt">&lt;id&gt;</span>15<span class="nt">&lt;/id&gt;</span>
               <span class="nt">&lt;time&gt;</span>2016-05-30 13:12:12<span class="nt">&lt;/time&gt;</span>
               <span class="nt">&lt;created_by&gt;</span>453345<span class="nt">&lt;/created_by&gt;</span>
               <span class="nt">&lt;template&gt;</span><span class="cp">&lt;![CDATA[Please note this too]]&gt;</span><span class="nt">&lt;/template&gt;</span>
               <span class="nt">&lt;remindee_id&gt;</span>1245333<span class="nt">&lt;/remindee_id&gt;</span>
            <span class="nt">&lt;/reminder&gt;</span>
            <span class="nt">&lt;reminder&gt;</span>
               <span class="nt">&lt;id&gt;</span>16<span class="nt">&lt;/id&gt;</span>
               <span class="nt">&lt;time&gt;</span>2016-05-30 13:12:12<span class="nt">&lt;/time&gt;</span>
               <span class="nt">&lt;created_by&gt;</span>453345<span class="nt">&lt;/created_by&gt;</span>
               <span class="nt">&lt;template&gt;</span><span class="cp">&lt;![CDATA[Please note this too]]&gt;</span><span class="nt">&lt;/template&gt;</span>
               <span class="nt">&lt;remindee_id&gt;</span>1245333<span class="nt">&lt;/remindee_id&gt;</span>
            <span class="nt">&lt;/reminder&gt;</span>
         <span class="nt">&lt;/reminders&gt;</span>
         <span class="nt">&lt;item_status&gt;</span>
            <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
            <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
            <span class="nt">&lt;message&gt;</span>Task Added Successfully<span class="nt">&lt;/message&gt;</span>
         <span class="nt">&lt;/item_status&gt;</span>
      <span class="nt">&lt;/task&gt;</span>
   <span class="nt">&lt;/tasks&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
        </span><span class="p">},</span><span class="w"> 
        </span><span class="nt">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"task"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Title"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"body"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Body"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20120820"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"end_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20120821"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Call"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"template"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hi {name}, Your points = {points}"</span><span class="w">
                </span><span class="p">},</span><span class="w"> 
                </span><span class="nt">"cashier_task"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                    </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                    </span><span class="s2">""</span><span class="w">
                </span><span class="p">],</span><span class="w"> 
                </span><span class="nt">"customer_task"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"execute_by_all"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"creator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"manager"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55456456"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name"</span><span class="w">
                </span><span class="p">},</span><span class="w"> 
                </span><span class="nt">"entries"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"entry"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="p">{</span><span class="w">
                            </span><span class="nt">"entry_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                            </span><span class="nt">"customer_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                            </span><span class="nt">"associate_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                            </span><span class="nt">"associate_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"assigned_to name"</span><span class="p">,</span><span class="w"> 
                            </span><span class="nt">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                            </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w"> 
                            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CUSTOMER/CASHIER"</span><span class="w">
                        </span><span class="p">},</span><span class="w"> 
                        </span><span class="p">{</span><span class="w">
                            </span><span class="nt">"entry_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                            </span><span class="nt">"customer_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                            </span><span class="nt">"associate_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                            </span><span class="nt">"associate_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"assigned_to name"</span><span class="p">,</span><span class="w"> 
                            </span><span class="nt">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                            </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w"> 
                            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CUSTOMER/CASHIER"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">]</span><span class="w">
                </span><span class="p">},</span><span class="w"> 
                </span><span class="nt">"reminders"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"reminder"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="p">{</span><span class="w">
                            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15"</span><span class="p">,</span><span class="w"> 
                            </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-30 13:12:12"</span><span class="p">,</span><span class="w"> 
                            </span><span class="nt">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"453345"</span><span class="p">,</span><span class="w"> 
                            </span><span class="nt">"template"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please note this too"</span><span class="p">,</span><span class="w"> 
                            </span><span class="nt">"remindee_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1245333"</span><span class="w">
                        </span><span class="p">},</span><span class="w"> 
                        </span><span class="p">{</span><span class="w">
                            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16"</span><span class="p">,</span><span class="w"> 
                            </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-30 13:12:12"</span><span class="p">,</span><span class="w"> 
                            </span><span class="nt">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"453345"</span><span class="p">,</span><span class="w"> 
                            </span><span class="nt">"template"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please note this too"</span><span class="p">,</span><span class="w"> 
                            </span><span class="nt">"remindee_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1245333"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">]</span><span class="w">
                </span><span class="p">},</span><span class="w"> 
                </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Task Added Successfully"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Creates new store task and store task entry ( that is status for each executor ). You can also set task type, title, created by, assigned to, validity, status and reminder.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Entry</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>task/add</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET &amp; POST</td>
</tr>
<tr>
<td>Response Object</td>
<td>Creates new tasks</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/task/add?format=&lt;xml/json&gt;</code></p>

<h2 id="retrieve-list-of-tasks">Retrieve List of Tasks</h2>
<pre class="highlight html"><code>http://us.api.capillarytech.com/v1.1/task/metadata?format=xml<span class="err">&amp;</span>assoc=false<span class="err">&amp;</span>action_type=call<span class="err">&amp;</span>created_by=12435<span class="err">&amp;</span>created_by_type=cashier<span class="err">&amp;</span>execute_by_all=false<span class="err">&amp;</span>customer_task=true<span class="err">&amp;</span>start_id=3245<span class="err">&amp;</span>end_id=3345<span class="err">&amp;</span>start_date=2016-18-20+12:12:12<span class="err">&amp;</span>end_date=2016-12-29+12:11:45<span class="err">&amp;</span>batch_size=10
</code></pre><pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;response&gt;</span>
   <span class="nt">&lt;status&gt;</span>
      <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
      <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
      <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
   <span class="nt">&lt;/status&gt;</span>
   <span class="nt">&lt;tasks&gt;</span>
      <span class="nt">&lt;task&gt;</span>
         <span class="nt">&lt;id&gt;</span>15<span class="nt">&lt;/id&gt;</span>
         <span class="nt">&lt;title&gt;</span>Title<span class="nt">&lt;/title&gt;</span>
         <span class="nt">&lt;body&gt;</span>Body<span class="nt">&lt;/body&gt;</span>
         <span class="nt">&lt;start_date&gt;</span>2016-08-20<span class="nt">&lt;/start_date&gt;</span>
         <span class="nt">&lt;end_date&gt;</span>2016-12-29<span class="nt">&lt;/end_date&gt;</span>
         <span class="nt">&lt;expiry_date&gt;</span>2016-12-30 12:11:45<span class="nt">&lt;/expiry_date&gt;</span>
         <span class="nt">&lt;action&gt;</span>
            <span class="c">&lt;!-- Call/SMS/Email/None --&gt;</span>
            <span class="nt">&lt;type&gt;</span>Call<span class="nt">&lt;/type&gt;</span>
            <span class="nt">&lt;template&gt;</span>Hi {name}, Your points = {points}<span class="nt">&lt;/template&gt;</span>
         <span class="nt">&lt;/action&gt;</span>
         <span class="nt">&lt;task_type&gt;</span>MEMO/TASK<span class="nt">&lt;/task_type&gt;</span>
         <span class="nt">&lt;cashier_task&gt;</span>false<span class="nt">&lt;/cashier_task&gt;</span>
         <span class="c">&lt;!-- Executable by particular cashier --&gt;</span>
         <span class="nt">&lt;customer_task&gt;</span>false<span class="nt">&lt;/customer_task&gt;</span>
         <span class="nt">&lt;execute_by_all&gt;</span>false<span class="nt">&lt;/execute_by_all&gt;</span>
         <span class="c">&lt;!-- non cashier/customer tasks --&gt;</span>
         <span class="nt">&lt;creator&gt;</span>
            <span class="nt">&lt;type</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;id</span> <span class="nt">/&gt;</span>
         <span class="nt">&lt;/creator&gt;</span>
         <span class="nt">&lt;possible_statuses&gt;</span>
            <span class="nt">&lt;status&gt;</span>
               <span class="nt">&lt;label&gt;</span>open<span class="nt">&lt;/label&gt;</span>
               <span class="nt">&lt;value&gt;</span>open<span class="nt">&lt;/value&gt;</span>
            <span class="nt">&lt;/status&gt;</span>
            <span class="nt">&lt;status&gt;</span>
               <span class="nt">&lt;label&gt;</span>processing<span class="nt">&lt;/label&gt;</span>
               <span class="nt">&lt;value&gt;</span>in_progress<span class="nt">&lt;/value&gt;</span>
            <span class="nt">&lt;/status&gt;</span>
         <span class="nt">&lt;/possible_statuses&gt;</span>
         <span class="nt">&lt;tags&gt;</span><span class="cp">&lt;![CDATA[[“label” : “birthday task”, “priority” : “1” ]]]&gt;</span><span class="nt">&lt;/tags&gt;</span>
      <span class="nt">&lt;/task&gt;</span>
   <span class="nt">&lt;/tasks&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
        </span><span class="p">},</span><span class="w"> 
        </span><span class="nt">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"task"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Title"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"body"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Body"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-08-20"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"end_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-08-21"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"expiry_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-10 12:12:12"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Call"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"template"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hi {name}, Your points = {points}"</span><span class="w">
                </span><span class="p">},</span><span class="w"> 
                </span><span class="nt">"task_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MEMO/TASK"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"cashier_task"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                    </span><span class="s2">""</span><span class="w">
                </span><span class="p">],</span><span class="w"> 
                </span><span class="nt">"customer_task"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"execute_by_all"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"creator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w"> 
                </span><span class="nt">"possible_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="p">{</span><span class="w">
                            </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open"</span><span class="p">,</span><span class="w"> 
                            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open"</span><span class="w">
                        </span><span class="p">},</span><span class="w"> 
                        </span><span class="p">{</span><span class="w">
                            </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"processing"</span><span class="p">,</span><span class="w"> 
                            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"in_progress"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">]</span><span class="w">
                </span><span class="p">},</span><span class="w"> 
                </span><span class="nt">"tags"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[“label” : “birthday task”, “priority” : “1” ]"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns the list of tasks created which contains information such as the title of the task, notes, created date, expiry date, type (customer/associate).</p>

<p>You can also use filters to limit or customize the results. You can also use <code class="prettyprint">store/task</code> to retrieve task details.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Entry</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>task/metadata</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>Response Object</td>
<td>Returns task(s) details</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/task/metadata?format=&lt;xml/json&gt;&amp;&lt;param&gt;=&lt;value&gt;</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>assoc</td>
<td>Returns tasks of a specific associate</td>
</tr>
<tr>
<td>action_type</td>
<td>Value: sms, email, call, or none. Returns a particular type of task (SMS/email/call). If action_type is &ldquo;none&rdquo;, then the tasks other than SMS, email, or call will be returned.</td>
</tr>
<tr>
<td>created_by</td>
<td>Returns the tasks of a specific associate</td>
</tr>
<tr>
<td>created_by_type</td>
<td>Returns the tasks created by either manager or cashier. Value: manager, cashier.</td>
</tr>
<tr>
<td>execute_by_all</td>
<td>Returns the list of generic tasks - not to a specific associate or created for all associates</td>
</tr>
<tr>
<td>customer_task</td>
<td>Returns the list of all customer tasks assigned to associates</td>
</tr>
<tr>
<td>start_id</td>
<td>Returns the list of tasks having task ids greater than or equal to the value passed in this param</td>
</tr>
<tr>
<td>end_id</td>
<td>Returns the list of tasks having task ids less than or equal to the value passed in this param</td>
</tr>
<tr>
<td>start_date</td>
<td>Returns the list of tasks created between the dates set on start_date and end_date. If only start_date is mentioned then the list of tasks created on or after that specified date is returned</td>
</tr>
<tr>
<td>end_date</td>
<td>Returns the list of tasks created between the dates set on start_date and end_date. If only end_date is passed, the list of tasks created on or before the specified date is returned</td>
</tr>
<tr>
<td>batch_size</td>
<td>Limits the number of tasks to be displayed. For example, if <code class="prettyprint">batch_size=10</code> then the details of only 10 tasks are returned</td>
</tr>
</tbody></table>

<h2 id="update-tasks">Update Tasks</h2>
<pre class="highlight html"><code>http://us.api.capillarytech.com/v1.1/task/update?format=json
</code></pre>
<blockquote>
<p>Sample POST Request </p>
</blockquote>
<pre class="highlight xml"><code><span class="nt">&lt;root&gt;</span>
    <span class="nt">&lt;task&gt;</span>
        <span class="nt">&lt;id&gt;</span>15<span class="nt">&lt;/id&gt;</span>

        <span class="c">&lt;!-- tags for update the entry --&gt;</span>
        <span class="nt">&lt;entry_id&gt;&lt;/entry_id&gt;</span>
        <span class="nt">&lt;customer_id&gt;&lt;/customer_id&gt;</span>
        <span class="nt">&lt;associate_id&gt;&lt;/associate_id&gt;</span>
<span class="c">&lt;!-- store_id can directly fetched from currentuser --&gt;</span>
        <span class="nt">&lt;status&gt;</span>CLOSED<span class="nt">&lt;/status&gt;</span> <span class="c">&lt;!-- new status --&gt;</span>    

    <span class="c">&lt;!-- tags for update metadata --&gt;</span>
    <span class="nt">&lt;title&gt;</span>Sample title<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;body&gt;</span>sample body<span class="nt">&lt;/body&gt;</span>
    <span class="nt">&lt;start_date&gt;</span>2016-08-20<span class="nt">&lt;/start_date&gt;</span>
    <span class="nt">&lt;end_date&gt;</span>2016-08-22<span class="nt">&lt;/end_date&gt;</span>
    <span class="nt">&lt;expiry_date&gt;</span>2016-08-22<span class="nt">&lt;/expiry_date&gt;</span>
    <span class="nt">&lt;action_type&gt;</span>call<span class="nt">&lt;/action_type&gt;</span>
    <span class="nt">&lt;action_template&gt;</span><span class="cp">&lt;![CDATA[ template ]]&gt;</span><span class="nt">&lt;/action_template&gt;</span>
    <span class="c">&lt;!-- executable_by_ids can only add new status(task_entry) it can’t remove any of the existing entries, not supported for now. --&gt;</span>
    <span class="nt">&lt;executable_by_ids&gt;&lt;/executable_by_ids&gt;</span>
    <span class="nt">&lt;tags&gt;</span>
<span class="cp">&lt;![CDATA[
[“label” : “birthday task”, “priority” : “1” ]
]]&gt;</span>
<span class="nt">&lt;/tags&gt;</span>
<span class="nt">&lt;/task&gt;</span>
<span class="nt">&lt;/root&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"root"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"task"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CLOSED"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample title"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"body"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample body"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-08-20"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"end_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-08-22"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"expiry_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-08-22"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"action_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"call"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"action_template"</span><span class="p">:</span><span class="w"> </span><span class="s2">" template "</span><span class="p">,</span><span class="w">
      </span><span class="nt">"tags"</span><span class="p">:</span><span class="w"> </span><span class="s2">"

[“label” : “birthday task”, “priority” : “1” ]

"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="nt">&lt;response&gt;</span>
    <span class="nt">&lt;status&gt;</span>
        <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
        <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/status&gt;</span>
    <span class="nt">&lt;tasks&gt;</span>
        <span class="nt">&lt;task&gt;</span>
            <span class="nt">&lt;id&gt;&lt;/id&gt;</span>
            <span class="nt">&lt;entry_id&gt;&lt;/entry_id&gt;</span>
            <span class="nt">&lt;customer_id&gt;&lt;/customer_id&gt;</span>
            <span class="nt">&lt;associate_id&gt;&lt;/associate_id&gt;</span>
            <span class="nt">&lt;status&gt;</span>CLOSED<span class="nt">&lt;/status&gt;</span>

            <span class="c">&lt;!-- tags for task metadata --&gt;</span>
            <span class="nt">&lt;title&gt;&lt;/title&gt;</span>
            <span class="nt">&lt;body&gt;&lt;/body&gt;</span>
            <span class="nt">&lt;start_date&gt;</span>2016-08-20<span class="nt">&lt;/start_date&gt;</span>
            <span class="nt">&lt;end_date&gt;</span>2016-08-22<span class="nt">&lt;/end_date&gt;</span>
            <span class="nt">&lt;expiry_date&gt;</span>2016-08-22<span class="nt">&lt;/expiry_date&gt;</span>
            <span class="nt">&lt;action_type&gt;&lt;/action_type&gt;</span>
            <span class="nt">&lt;action_template&gt;&lt;/action_template&gt;</span>
            <span class="nt">&lt;executable_by_ids&gt;&lt;/executable_by_ids&gt;</span>
            <span class="nt">&lt;tags&gt;&lt;/tags&gt;</span>

            <span class="nt">&lt;item_status&gt;</span>
                <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
            <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
            <span class="nt">&lt;message&gt;</span>Task Status Updated Successfully<span class="nt">&lt;/message&gt;</span>
                <span class="nt">&lt;/item_status&gt;</span>

        <span class="nt">&lt;/task&gt;</span>
    <span class="nt">&lt;/tasks&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"task"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CLOSED"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-08-20"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"end_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-08-22"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"expiry_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-08-22"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Task Status Updated Successfully"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Updates the status of existing tasks and metadata details.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET &amp; POST</td>
</tr>
<tr>
<td>Response Object</td>
<td>Modifies status and metadata of existing tasks</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/task/update?format=&lt;xml/json&gt;</code></p>

<h2 id="retrieve-individual-task-details">Retrieve Individual Task Details</h2>
<pre class="highlight html"><code>http://us.api.capillarytech.com/v1.1/task/get?format=xml
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="nt">&lt;response&gt;</span>
    <span class="nt">&lt;status&gt;</span>
        <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
        <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/status&gt;</span>
<span class="nt">&lt;tasks&gt;</span>
<span class="nt">&lt;task&gt;</span>
    <span class="nt">&lt;id&gt;&lt;/id&gt;</span>
    <span class="nt">&lt;entry_id&gt;&lt;/entry_id&gt;</span>
    <span class="nt">&lt;type&gt;</span>CUSTOMER/CASHIER<span class="nt">&lt;/type&gt;</span>
      <span class="nt">&lt;associate_id&gt;</span>
123
<span class="nt">&lt;/associate_id&gt;</span>    <span class="c">&lt;!-- individual tasks --&gt;</span>
      <span class="nt">&lt;customer_id&gt;</span>
124
<span class="nt">&lt;/customer_id&gt;</span>     <span class="c">&lt;!-- customer tasks   --&gt;</span>
      <span class="nt">&lt;store_id&gt;</span>
125
<span class="nt">&lt;/store_id&gt;</span>
      <span class="nt">&lt;status&gt;</span>OPEN<span class="nt">&lt;/status&gt;</span>
        <span class="nt">&lt;/task&gt;</span>
        <span class="nt">&lt;task&gt;</span>
    <span class="nt">&lt;id&gt;&lt;/id&gt;</span>
    <span class="nt">&lt;entry_id&gt;&lt;/entry_id&gt;</span>
    <span class="nt">&lt;type&gt;</span>CUSTOMER/TYPE<span class="nt">&lt;/type&gt;</span>
      <span class="nt">&lt;associate_id&gt;</span>
125
<span class="nt">&lt;/associate_id&gt;</span>    <span class="c">&lt;!-- individual tasks --&gt;</span>
      <span class="nt">&lt;customer_id&gt;</span>
122
<span class="nt">&lt;/customer_id&gt;</span>     <span class="c">&lt;!-- customer tasks   --&gt;</span>
      <span class="nt">&lt;store_id&gt;</span>
127
<span class="nt">&lt;/store_id&gt;</span>
      <span class="nt">&lt;status&gt;</span>OPEN<span class="nt">&lt;/status&gt;</span>
<span class="nt">&lt;/task&gt;</span>
<span class="nt">&lt;/tasks&gt;</span>
<span class="nt">&lt;/response&gt;</span>

</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"task"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CUSTOMER/CASHIER"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"associate_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"
123
"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"customer_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"
124
"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"
125
"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CUSTOMER/TYPE"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"associate_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"
125
"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"customer_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"
122
"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"
127
"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns the information about individual tasks such as created by, assigned to, task type, created at store and current status.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Entry</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>task/get</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>Response Object</td>
<td>Returns individual task details</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/task/get?format=&lt;xml/json&gt;&amp;&lt;params&gt;=&lt;value&gt;</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>assoc</td>
<td>Returns tasks of all associates of the current store if <code class="prettyprint">assoc=true</code></td>
</tr>
<tr>
<td>all</td>
<td>Returns all the tasks of the current organization if <code class="prettyprint">all=true</code>. If <code class="prettyprint">all=false</code>, only the current store tasks are returned. Default value: true</td>
</tr>
<tr>
<td>action_type</td>
<td>Value: sms, email, call, or none. Returns a particular type of task (SMS/email/call). If action_type is &ldquo;none&rdquo;, then the tasks other than SMS, email, or call will be returned.</td>
</tr>
<tr>
<td>assoc_id</td>
<td>Returns the tasks assigned to a specific associate</td>
</tr>
<tr>
<td>customer_id</td>
<td>Returns the tasks created for a specific customer</td>
</tr>
<tr>
<td>status</td>
<td>Returns the tasks by status. Value: OPEN, IN_PROGRESS, CLOSED</td>
</tr>
<tr>
<td>start_date</td>
<td>Returns the list of tasks created in a specific duration (set in start_date and end_date). If only start_date is mentioned then the list of tasks created on or after the specified date is returned.</td>
</tr>
<tr>
<td>end_date</td>
<td>Returns the list of tasks created in a specific duration set in start_date and end_date. If only end_date is passed then the list of tasks created on or before the specified date is returned.</td>
</tr>
<tr>
<td>batch_size</td>
<td>Limits the number of tasks to be displayed. For example, if <code class="prettyprint">batch_size=10</code> then the details of only 10 tasks are returned</td>
</tr>
</tbody></table>

<h2 id="retrieve-task-logs">Retrieve Task Logs</h2>
<pre class="highlight html"><code># Sample Request URL
http://us.api.capillarytech.com/v1.1/task/log?task_id=12,15
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="nt">&lt;response&gt;</span>
    <span class="nt">&lt;status&gt;</span>
        <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
        <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/status&gt;</span>
    <span class="nt">&lt;tasks&gt;</span>
        <span class="nt">&lt;task&gt;</span>
            <span class="nt">&lt;log&gt;</span>
<span class="nt">&lt;task_id&gt;</span>12<span class="nt">&lt;/task_id&gt;</span>
                    <span class="nt">&lt;task_status_id&gt;&lt;/task_status_id&gt;</span>
            <span class="nt">&lt;customer_id&gt;&lt;/customer_id&gt;</span>
            <span class="nt">&lt;associate_id&gt;&lt;/associate_id&gt;</span>
            <span class="nt">&lt;store_id&gt;&lt;/store_id&gt;</span>
                <span class="nt">&lt;updated_time&gt;&lt;/updated_time&gt;</span>
                <span class="nt">&lt;new_status&gt;&lt;/new_status&gt;</span>
        <span class="nt">&lt;/log&gt;</span>
        <span class="nt">&lt;log&gt;</span>
            <span class="nt">&lt;task_id&gt;&lt;/task_id&gt;</span>
                    <span class="nt">&lt;task_status_id&gt;&lt;/task_status_id&gt;</span>
            <span class="nt">&lt;customer_id&gt;&lt;/customer_id&gt;</span>
            <span class="nt">&lt;associate_id&gt;&lt;/associate_id&gt;</span>
            <span class="nt">&lt;store_id&gt;&lt;/store_id&gt;</span>
                <span class="nt">&lt;updated_time&gt;&lt;/updated_time&gt;</span>
                <span class="nt">&lt;new_status&gt;&lt;/new_status&gt;</span>
            <span class="nt">&lt;/log&gt;</span>
            <span class="nt">&lt;log&gt;</span>
                <span class="nt">&lt;task_id&gt;&lt;/task_id&gt;</span>
                    <span class="nt">&lt;task_status_id&gt;&lt;/task_status_id&gt;</span>
            <span class="nt">&lt;customer_id&gt;&lt;/customer_id&gt;</span>
            <span class="nt">&lt;associate_id&gt;&lt;/associate_id&gt;</span>
            <span class="nt">&lt;store_id&gt;&lt;/store_id&gt;</span>
                <span class="nt">&lt;updated_time&gt;&lt;/updated_time&gt;</span>
                <span class="nt">&lt;new_status&gt;&lt;/new_status&gt;</span>
            <span class="nt">&lt;/log&gt;</span>
            <span class="nt">&lt;log&gt;</span>
<span class="nt">&lt;task_id&gt;&lt;/task_id&gt;</span>
<span class="nt">&lt;item_status&gt;</span>
<span class="nt">&lt;success&gt;</span>false<span class="nt">&lt;/success&gt;</span>
<span class="nt">&lt;code&gt;</span>5204<span class="nt">&lt;/code&gt;</span>
<span class="nt">&lt;message&gt;</span>
Task Identifier is Empty or Invalid
<span class="nt">&lt;/message&gt;</span>
<span class="nt">&lt;/item_status&gt;</span>
            <span class="nt">&lt;/log&gt;</span>
        <span class="nt">&lt;/task&gt;</span>
    <span class="nt">&lt;/tasks&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"task"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"log"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w"> </span><span class="nt">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12"</span><span class="w"> </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">

          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">

          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5204"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"
Task Identifier is Empty or Invalid
"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns the log of task updates</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Entry</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>task/log</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>Response Object</td>
<td>Returns the log of task updates</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/task/log?task_id=&lt;id1,id2,id3,...&gt;</code></p>

<h3 id="request-parameter">Request Parameter</h3>

<p>task_id  | Returns the log of specific tasks based on the ids passed</p>

<h2 id="retrieve-status-mappings">Retrieve Status Mappings</h2>
<pre class="highlight html"><code>http://us.api.capillarytech.com/v1.1/task/statusmapping?format=json
</code></pre><pre class="highlight xml"><code><span class="nt">&lt;response&gt;</span>
    <span class="nt">&lt;status&gt;</span>
        <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
        <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/status&gt;</span>
    <span class="nt">&lt;tasks&gt;</span>
    <span class="nt">&lt;task_statuses&gt;</span>
        <span class="nt">&lt;status&gt;</span>
            <span class="nt">&lt;id&gt;</span>1<span class="nt">&lt;/id&gt;</span>
            <span class="nt">&lt;value&gt;</span>OPEN<span class="nt">&lt;/value&gt;</span>
            <span class="c">&lt;!-- value represents status type in server side --&gt;</span>
            <span class="nt">&lt;label&gt;</span>NEW<span class="nt">&lt;/label&gt;</span>
            <span class="c">&lt;!-- organization depended status that
represents corresponding value --&gt;</span>
        <span class="nt">&lt;/status&gt;</span>
        <span class="nt">&lt;status&gt;</span>
            <span class="nt">&lt;id&gt;</span>2<span class="nt">&lt;/id&gt;</span>
            <span class="nt">&lt;value&gt;</span>CLOSED<span class="nt">&lt;/value&gt;</span>
            <span class="c">&lt;!-- value represents status type in server side --&gt;</span>
            <span class="nt">&lt;label&gt;</span>FINISH<span class="nt">&lt;/label&gt;</span>
            <span class="c">&lt;!-- organization depended status that
represents corresponding value --&gt;</span>
        <span class="nt">&lt;/status&gt;</span>
        <span class="nt">&lt;status&gt;</span>
            <span class="nt">&lt;id&gt;</span>3<span class="nt">&lt;/id&gt;</span>
            <span class="nt">&lt;value&gt;</span>NONE<span class="nt">&lt;/value&gt;</span>
            <span class="c">&lt;!-- value represents status type in server side --&gt;</span>
            <span class="nt">&lt;value&gt;</span>PROCESSING_START<span class="nt">&lt;/value&gt;</span>
            <span class="c">&lt;!-- organization depended status that
represents corresponding value --&gt;</span>
        <span class="nt">&lt;/status&gt;</span>
        <span class="nt">&lt;status&gt;</span>
            <span class="nt">&lt;id&gt;</span>4<span class="nt">&lt;/id&gt;</span>
            <span class="nt">&lt;value&gt;</span>NONE<span class="nt">&lt;/value&gt;</span>
            <span class="c">&lt;!-- value represents status type in server side --&gt;</span>
            <span class="nt">&lt;label&gt;</span>PROCESSING_DONE<span class="nt">&lt;/label&gt;</span>
            <span class="c">&lt;!-- organization depended status that
represents corresponding value --&gt;</span>
        <span class="nt">&lt;/status&gt;</span>
    <span class="nt">&lt;/task_statuses&gt;</span>
<span class="nt">&lt;/tasks&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"task_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NEW"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CLOSED"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FINISH"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"NONE"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"PROCESSING_START"</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NONE"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PROCESSING_DONE"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>task/statusmapping</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>Response Object</td>
<td>Returns mapping between predefined status and user-defined status</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/task/statusmapping?format=&lt;xml/json&gt;</code></p>

<h2 id="update-status-mappings">Update Status Mappings</h2>
<pre class="highlight html"><code>http://us.api.capillarytech.com/v1.1/task/statusmapping.xml
</code></pre><pre class="highlight xml"><code> <span class="nt">&lt;root&gt;</span>
    <span class="nt">&lt;status&gt;</span>
        <span class="nt">&lt;value&gt;</span>OPEN<span class="nt">&lt;/value&gt;</span>
        <span class="nt">&lt;label&gt;</span>NEW<span class="nt">&lt;/label&gt;</span>
    <span class="nt">&lt;/status&gt;</span>
    <span class="nt">&lt;status&gt;</span>
        <span class="nt">&lt;id&gt;</span>2<span class="nt">&lt;/id&gt;</span>
        <span class="nt">&lt;value&gt;</span>CLOSED<span class="nt">&lt;/value&gt;</span>
        <span class="nt">&lt;label&gt;</span>FINISHED<span class="nt">&lt;/label&gt;</span>
    <span class="nt">&lt;/status&gt;</span>
    <span class="nt">&lt;status&gt;</span>
        <span class="nt">&lt;id&gt;</span>3<span class="nt">&lt;/id&gt;</span>
        <span class="nt">&lt;value&gt;</span>NONE<span class="nt">&lt;/value&gt;</span>
        <span class="nt">&lt;label&gt;</span>PROCESS_START<span class="nt">&lt;/label&gt;</span>
    <span class="nt">&lt;/status&gt;</span>
<span class="nt">&lt;status&gt;</span>
            <span class="nt">&lt;value&gt;</span>NONE<span class="nt">&lt;/value&gt;</span>
        <span class="nt">&lt;label&gt;</span>PROCESS_DONE<span class="nt">&lt;/label&gt;</span>
    <span class="nt">&lt;/status&gt;</span>
<span class="nt">&lt;/root&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"root"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NEW"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CLOSED"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FINISHED"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NONE"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PROCESS_START"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NONE"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PROCESS_DONE"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="nt">&lt;response&gt;</span>
    <span class="nt">&lt;status&gt;</span>
        <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
        <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/status&gt;</span>
    <span class="nt">&lt;tasks&gt;</span>
    <span class="nt">&lt;task_statuses&gt;</span>
        <span class="nt">&lt;status&gt;</span>
            <span class="nt">&lt;id&gt;</span>1<span class="nt">&lt;/id&gt;</span>
            <span class="nt">&lt;value&gt;</span>OPEN<span class="nt">&lt;/value&gt;</span>
            <span class="nt">&lt;label&gt;</span>NEW<span class="nt">&lt;/label&gt;</span>
<span class="nt">&lt;item_status&gt;</span>
        <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
        <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;message&gt;</span>status added successfully<span class="nt">&lt;/message&gt;</span>
<span class="nt">&lt;/item_status&gt;</span>
        <span class="nt">&lt;/status&gt;</span>
        <span class="nt">&lt;status&gt;</span>
            <span class="nt">&lt;id&gt;</span>2<span class="nt">&lt;/id&gt;</span>
            <span class="nt">&lt;value&gt;</span>CLOSED<span class="nt">&lt;/value&gt;</span>
            <span class="nt">&lt;label&gt;</span>FINISHED<span class="nt">&lt;/label&gt;</span>
<span class="nt">&lt;item_status&gt;</span>
        <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
        <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;message&gt;</span>status added successfully<span class="nt">&lt;/message&gt;</span>
<span class="nt">&lt;/item_status&gt;</span>
        <span class="nt">&lt;/status&gt;</span>
        <span class="nt">&lt;status&gt;</span>
            <span class="nt">&lt;id&gt;</span>3<span class="nt">&lt;/id&gt;</span>
            <span class="nt">&lt;value&gt;</span>NONE<span class="nt">&lt;/value&gt;</span>
            <span class="nt">&lt;label&gt;</span>PROCESSING_START<span class="nt">&lt;/label&gt;</span>
<span class="nt">&lt;item_status&gt;</span>
        <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
        <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;message&gt;</span>status added successfully<span class="nt">&lt;/message&gt;</span>
<span class="nt">&lt;/item_status&gt;</span>
        <span class="nt">&lt;/status&gt;</span>
        <span class="nt">&lt;status&gt;</span>
            <span class="nt">&lt;id&gt;</span>4<span class="nt">&lt;/id&gt;</span>
            <span class="nt">&lt;value&gt;</span>NONE<span class="nt">&lt;/value&gt;</span>
            <span class="nt">&lt;label&gt;</span>PROCESSING_DONE<span class="nt">&lt;/label&gt;</span>
<span class="nt">&lt;item_status&gt;</span>
        <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
        <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;message&gt;</span>status added successfully<span class="nt">&lt;/message&gt;</span>
<span class="nt">&lt;/item_status&gt;</span>
        <span class="nt">&lt;/status&gt;</span>
    <span class="nt">&lt;/task_statuses&gt;</span>
    <span class="nt">&lt;/tasks&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"task_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NEW"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"status added successfully"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CLOSED"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FINISHED"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"status added successfully"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NONE"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PROCESSING_START"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"status added successfully"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NONE"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PROCESSING_DONE"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"status added successfully"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Allows to update mappings between the predefined and the user-defined statuses.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>task/statusmapping</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>POST</td>
</tr>
<tr>
<td>Response Object</td>
<td>Updates mapping between predefined and user-defined status</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p>http://<cluster url>/v1.1/task/statusmapping?format=xml/json&gt;</p>

<h2 id="retrieve-task-reminders">Retrieve Task Reminders</h2>
<pre class="highlight html"><code>http://api.capillary.co.in/v1.1/task/reminder?format=xml<span class="err">&amp;</span>only_for_stores=true
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="nt">&lt;response&gt;</span>
    <span class="nt">&lt;status&gt;</span>
        <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
        <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/status&gt;</span>
    <span class="nt">&lt;tasks&gt;</span>
        <span class="nt">&lt;reminders&gt;</span>
        <span class="nt">&lt;reminder&gt;</span>
            <span class="nt">&lt;id&gt;</span>32<span class="nt">&lt;/id&gt;</span>
            <span class="nt">&lt;task_id&gt;</span>4<span class="nt">&lt;/task_id&gt;</span>
            <span class="nt">&lt;created_by&gt;</span>453345<span class="nt">&lt;/created_by&gt;</span>
            <span class="nt">&lt;remindee_id&gt;</span>1245332<span class="nt">&lt;/remindee_id&gt;</span>
            <span class="nt">&lt;time&gt;</span>2016-05-30 12:12:12<span class="nt">&lt;/time&gt;</span>
            <span class="nt">&lt;template&gt;</span>Please note this<span class="nt">&lt;/template&gt;</span>
        <span class="nt">&lt;/reminder&gt;</span>
        <span class="nt">&lt;reminder&gt;</span>
            <span class="nt">&lt;id&gt;</span>33<span class="nt">&lt;/id&gt;</span>
            <span class="nt">&lt;task_id&gt;</span>4<span class="nt">&lt;/task_id&gt;</span>
            <span class="nt">&lt;created_by&gt;</span>453345<span class="nt">&lt;/created_by&gt;</span>
            <span class="nt">&lt;remindee_id&gt;</span>1245332<span class="nt">&lt;/remindee_id&gt;</span>
            <span class="nt">&lt;time&gt;</span>2016-05-30 12:12:12<span class="nt">&lt;/time&gt;</span>
            <span class="nt">&lt;template&gt;</span>Please note this<span class="nt">&lt;/template&gt;</span>
        <span class="nt">&lt;/reminder&gt;</span>
        <span class="nt">&lt;reminder&gt;</span>
            <span class="nt">&lt;id&gt;</span>34<span class="nt">&lt;/id&gt;</span>
            <span class="nt">&lt;task_id&gt;</span>5<span class="nt">&lt;/task_id&gt;</span>
            <span class="nt">&lt;created_by&gt;</span>453345<span class="nt">&lt;/created_by&gt;</span>
            <span class="nt">&lt;remindee_id&gt;</span>1245333<span class="nt">&lt;/remindee_id&gt;</span>
            <span class="nt">&lt;time&gt;</span>2016-05-30 13:12:12<span class="nt">&lt;/time&gt;</span>
            <span class="nt">&lt;template&gt;</span>Please note this too<span class="nt">&lt;/template&gt;</span>
        <span class="nt">&lt;/reminder&gt;</span>
    <span class="nt">&lt;/reminders&gt;</span>
<span class="nt">&lt;/tasks&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"reminders"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"reminder"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"32"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"453345"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"remindee_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1245332"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-30 12:12:12"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"template"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please note this"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"33"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"453345"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"remindee_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1245332"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-30 12:12:12"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"template"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please note this"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"453345"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"remindee_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1245333"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-30 13:12:12"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"template"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please note this too"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>task/reminder</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>Response Object</td>
<td>Return task reminders</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/task/reminder?format=&lt;xml/json&gt;&amp;only_for_stores=true</code></p>

<h2 id="update-task-reminders">Update Task Reminders</h2>
<pre class="highlight html"><code>http://us.api.capillarytech.com/v1.1/task/reminder?format=xml<span class="err">&amp;</span>only_for_stores=true
</code></pre>
<blockquote>
<p>Sample POST Request</p>
</blockquote>
<pre class="highlight xml"><code><span class="nt">&lt;root&gt;</span>
    <span class="nt">&lt;reminder&gt;</span>
        <span class="nt">&lt;task_id&gt;</span>4<span class="nt">&lt;/task_id&gt;</span>
        <span class="nt">&lt;local_id&gt;&lt;/local_id&gt;</span>
        <span class="nt">&lt;time&gt;</span>2016-05-30 12:12:12<span class="nt">&lt;/time&gt;</span>
        <span class="nt">&lt;created_by&gt;</span>453345<span class="nt">&lt;/created_by&gt;</span>
        <span class="c">&lt;!-- created_by needs to be assoc_id --&gt;</span>
        <span class="nt">&lt;template&gt;</span>Please note this<span class="nt">&lt;/template&gt;</span>
    <span class="nt">&lt;remindee_id&gt;</span>1245332<span class="nt">&lt;/remindee_id&gt;</span>
    <span class="nt">&lt;/reminder&gt;</span>
<span class="nt">&lt;reminder&gt;</span>
        <span class="nt">&lt;task_id&gt;</span>5<span class="nt">&lt;/task_id&gt;</span>
        <span class="nt">&lt;local_id&gt;&lt;/local_id&gt;</span>
        <span class="nt">&lt;time&gt;</span>2016-05-30 13:12:12<span class="nt">&lt;/time&gt;</span>
        <span class="nt">&lt;created_by&gt;</span>453345<span class="nt">&lt;/created_by&gt;</span>
        <span class="nt">&lt;template&gt;</span>Please note this too<span class="nt">&lt;/template&gt;</span>
        <span class="nt">&lt;remindee_id&gt;</span>1245333<span class="nt">&lt;/remindee_id&gt;</span>
    <span class="nt">&lt;/reminder&gt;</span>
<span class="nt">&lt;/root&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"root"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"reminder"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-30 12:12:12"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"453345"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"template"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please note this"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"remindee_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1245332"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-30 13:12:12"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"453345"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"template"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please note this too"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"remindee_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1245333"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="nt">&lt;response&gt;</span>
    <span class="nt">&lt;status&gt;</span>
        <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
        <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/status&gt;</span>
    <span class="nt">&lt;tasks&gt;</span>
        <span class="nt">&lt;reminders&gt;</span>
        <span class="nt">&lt;reminder&gt;</span>
            <span class="nt">&lt;id&gt;</span>33<span class="nt">&lt;/id&gt;</span>
            <span class="nt">&lt;task_id&gt;</span>4<span class="nt">&lt;/task_id&gt;</span>
            <span class="nt">&lt;created_by&gt;</span>453345<span class="nt">&lt;/created_by&gt;</span>
            <span class="nt">&lt;remindee_id&gt;</span>1245332<span class="nt">&lt;/remindee_id&gt;</span>
            <span class="nt">&lt;time&gt;</span>2016-05-30 12:12:12<span class="nt">&lt;/time&gt;</span>
            <span class="nt">&lt;template&gt;</span>Please note this<span class="nt">&lt;/template&gt;</span>
<span class="nt">&lt;item_status&gt;</span>
                <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
                <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
                <span class="nt">&lt;message&gt;</span>Reminder Added Successfully<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
        <span class="nt">&lt;/reminder&gt;</span>
        <span class="nt">&lt;reminder&gt;</span>
            <span class="nt">&lt;id&gt;</span>34<span class="nt">&lt;/id&gt;</span>
            <span class="nt">&lt;task_id&gt;</span>5<span class="nt">&lt;/task_id&gt;</span>
            <span class="nt">&lt;created_by&gt;</span>453345<span class="nt">&lt;/created_by&gt;</span>
            <span class="nt">&lt;remindee_id&gt;</span>1245333<span class="nt">&lt;/remindee_id&gt;</span>
            <span class="nt">&lt;time&gt;</span>2016-05-30 13:12:12<span class="nt">&lt;/time&gt;</span>
            <span class="nt">&lt;template&gt;</span>Please note this too<span class="nt">&lt;/template&gt;</span>
<span class="nt">&lt;item_status&gt;</span>
                <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
                <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
                <span class="nt">&lt;message&gt;</span>Reminder Added Successfully<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
        <span class="nt">&lt;/reminder&gt;</span>
<span class="nt">&lt;/reminders&gt;</span>
<span class="nt">&lt;/tasks&gt;</span>    
<span class="nt">&lt;/response&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"reminders"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"reminder"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"33"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"453345"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"remindee_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1245332"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-30 12:12:12"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"template"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please note this"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Reminder Added Successfully"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"453345"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"remindee_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1245333"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-30 13:12:12"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"template"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please note this too"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Reminder Added Successfully"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Creates new task reminders or updates existing reminders.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>task/reminder</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>POST</td>
</tr>
<tr>
<td>Response Object</td>
<td>Updates task reminders</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/task/reminder?format=&lt;xml/json&gt;&amp;only_for_stores=true</code></p>

<h2 id="response-codes">Response Codes</h2>

<h3 id="success-codes">Success Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>5200</td>
<td>Tasks retrieved successfully</td>
</tr>
<tr>
<td></td>
<td>Tasks meta data retrieved successfully</td>
</tr>
<tr>
<td></td>
<td>Task added successfully</td>
</tr>
<tr>
<td></td>
<td>Task updated successfully</td>
</tr>
<tr>
<td></td>
<td>Task fetched successfully</td>
</tr>
<tr>
<td></td>
<td>Task update log file fetched successfully</td>
</tr>
<tr>
<td></td>
<td>Task reminder added successfully</td>
</tr>
<tr>
<td></td>
<td>Update log file retrieved successfully</td>
</tr>
<tr>
<td></td>
<td>Status mapping added successfully</td>
</tr>
</tbody></table>

<h3 id="error-codes">Error Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>5201</td>
<td>Unable to fetch task details</td>
</tr>
<tr>
<td>5201</td>
<td>Unable to fetch task meta data</td>
</tr>
<tr>
<td>5201</td>
<td>Unable to add the task</td>
</tr>
<tr>
<td>5021</td>
<td>Unable to update the task</td>
</tr>
<tr>
<td>5203</td>
<td>No identifier passed</td>
</tr>
<tr>
<td>5204</td>
<td>Invalid or empty task identifier</td>
</tr>
<tr>
<td>5205</td>
<td>One or more params you have passed are invalid. Please check the parameters</td>
</tr>
<tr>
<td>5206</td>
<td>Unable to add status mapping</td>
</tr>
<tr>
<td>5206</td>
<td>Unable to add reminder</td>
</tr>
<tr>
<td>5207</td>
<td>Invalid status passed</td>
</tr>
<tr>
<td>5208</td>
<td>Task end date should be greater than the task start date</td>
</tr>
<tr>
<td>5208</td>
<td>Invalid internal status</td>
</tr>
<tr>
<td>5209</td>
<td>Task expiry date should be greater than the task end date</td>
</tr>
<tr>
<td>5211</td>
<td>No tasks found</td>
</tr>
<tr>
<td>5212</td>
<td>Invalid id the recipient (an associate) to whom the task is assigned</td>
</tr>
<tr>
<td>5212</td>
<td>Customers are not registered in this organization</td>
</tr>
<tr>
<td>5213</td>
<td>One or more customers passed are not registered</td>
</tr>
<tr>
<td>5213</td>
<td>Invalid create by id</td>
</tr>
<tr>
<td>5214</td>
<td>Please pass the store id to update the task as an admin user</td>
</tr>
</tbody></table>

          <h1 id="organization">Organization</h1>

<p>The organization entity holds configuration details and transaction details of an organization. You to retrieve the org level details such as profile information, configurations set on InTouch, custom field details, transaction details and top selling products at the organization.</p>

<p>You cannot modify the existing information using the organization entity.</p>

<h2 id="retrieve-org-details">Retrieve Org Details</h2>
<pre class="highlight html"><code># Sample Request
http://apac.api.capillarytech.com/v1.1/organization/get.json
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;response&gt;</span>
    <span class="nt">&lt;status&gt;</span>
        <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
        <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/status&gt;</span>
    <span class="nt">&lt;organization&gt;</span>
        <span class="nt">&lt;id&gt;</span>1<span class="nt">&lt;/id&gt;</span>
        <span class="nt">&lt;name&gt;</span>Capillary Technologies<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;address&gt;</span>20th Main, 1st phase, BTM Layout<span class="nt">&lt;/address&gt;</span>
        <span class="nt">&lt;language&gt;</span>English<span class="nt">&lt;/language&gt;</span>
        <span class="nt">&lt;currency&gt;</span>Indian Rupee<span class="nt">&lt;/currency&gt;</span>
        <span class="nt">&lt;timezone&gt;</span>Asia/Kolkata<span class="nt">&lt;/timezone&gt;</span>
        <span class="nt">&lt;timezone_offset&gt;</span>UTC+05:30<span class="nt">&lt;/timezone_offset&gt;</span>
        <span class="nt">&lt;min_sms_hour&gt;</span>0<span class="nt">&lt;/min_sms_hour&gt;</span>
        <span class="nt">&lt;max_sms_hour&gt;</span>24<span class="nt">&lt;/max_sms_hour&gt;</span>
        <span class="nt">&lt;logo&gt;</span>http://capillary.co.in/email_uploads/webclient_default.png<span class="nt">&lt;/logo&gt;</span>
        <span class="nt">&lt;website&gt;</span>http://www.example.com<span class="nt">&lt;/website&gt;</span>
        <span class="nt">&lt;country&gt;</span>India<span class="nt">&lt;/country&gt;</span>
        <span class="nt">&lt;country_code&gt;</span>IN<span class="nt">&lt;/country_code&gt;</span>
        <span class="nt">&lt;state&gt;</span>Karnataka<span class="nt">&lt;/state&gt;</span>
        <span class="nt">&lt;city&gt;</span>Bangalore<span class="nt">&lt;/city&gt;</span>
        <span class="nt">&lt;locality&gt;</span>Silk Board<span class="nt">&lt;/locality&gt;</span>
        <span class="nt">&lt;pincode&gt;</span>560076<span class="nt">&lt;/pincode&gt;</span>
    <span class="nt">&lt;/organization&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
        </span><span class="p">},</span><span class="w"> 
        </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Capillary Technologies"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20th Main, 1st phase, BTM Layout"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"English"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Indian Rupee"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"timezone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Asia/Kolkata"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"timezone_offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UTC+05:30"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"min_sms_hour"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"max_sms_hour"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"logo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://capillary.co.in/email_uploads/webclient_default.png"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"website"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.example.com"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"India"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"country_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Karnataka"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bangalore"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"locality"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Silk Board"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"pincode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"560076"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Retrieves the details of the organization provided during the org setup on InTouch. Details such as org id, name, address, base language, base currency, time zone, website address and so on will be returned through this  API.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>organization/get</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>Response Object</td>
<td>Returns entire details of the organization</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/organization/get.&lt;xml/json&gt;</code></p>

<h2 id="retrieve-org-entities">Retrieve Org Entities</h2>
<pre class="highlight html"><code>http://apac.api.capillarytech.com/v1.1/organization/entities?format=json<span class="err">&amp;</span>type=till
</code></pre><pre class="highlight xml"><code><span class="nt">&lt;response&gt;</span>
    <span class="nt">&lt;pagination&gt;</span>
        <span class="nt">&lt;limit&gt;</span>200<span class="nt">&lt;/limit&gt;</span>
        <span class="nt">&lt;offset&gt;</span>0<span class="nt">&lt;/offset&gt;</span>
        <span class="nt">&lt;total&gt;</span>4<span class="nt">&lt;/total&gt;</span>
    <span class="nt">&lt;/pagination&gt;</span>
    <span class="nt">&lt;status&gt;</span>
        <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
        <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/status&gt;</span>
    <span class="nt">&lt;organization&gt;</span>
        <span class="nt">&lt;entities&gt;</span>
            <span class="nt">&lt;entity&gt;</span>
                <span class="nt">&lt;item_status&gt;</span>
                    <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
                    <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
                    <span class="nt">&lt;message&gt;</span>Entity search successful<span class="nt">&lt;/message&gt;</span>
                <span class="nt">&lt;/item_status&gt;</span>
                <span class="nt">&lt;id&gt;</span>15001639<span class="nt">&lt;/id&gt;</span>
                <span class="nt">&lt;is_active&gt;</span>1<span class="nt">&lt;/is_active&gt;</span>
                <span class="nt">&lt;code&gt;</span>api.002<span class="nt">&lt;/code&gt;</span>
                <span class="nt">&lt;name&gt;</span>api.002<span class="nt">&lt;/name&gt;</span>
                <span class="nt">&lt;description/&gt;</span>
                <span class="nt">&lt;last_updated_by&gt;</span>4<span class="nt">&lt;/last_updated_by&gt;</span>
                <span class="nt">&lt;last_updated_on&gt;</span>2013-12-06 10:12:36<span class="nt">&lt;/last_updated_on&gt;</span>
                <span class="nt">&lt;time_zone_id&gt;</span>243<span class="nt">&lt;/time_zone_id&gt;</span>
                <span class="nt">&lt;currency_id&gt;</span>-1<span class="nt">&lt;/currency_id&gt;</span>
                <span class="nt">&lt;language_id&gt;</span>-1<span class="nt">&lt;/language_id&gt;</span>
                <span class="nt">&lt;timezones&gt;</span>
                    <span class="nt">&lt;base_timezone&gt;</span>
                        <span class="nt">&lt;label&gt;</span>Asia/Macau<span class="nt">&lt;/label&gt;</span>
                        <span class="nt">&lt;offset&gt;</span>+08:00<span class="nt">&lt;/offset&gt;</span>
                    <span class="nt">&lt;/base_timezone&gt;</span>
                <span class="nt">&lt;/timezones&gt;</span>
                <span class="nt">&lt;currencies&gt;</span>
                    <span class="nt">&lt;base_currency&gt;</span>
                        <span class="nt">&lt;symbol/&gt;</span>
                        <span class="nt">&lt;label/&gt;</span>
                    <span class="nt">&lt;/base_currency&gt;</span>
                <span class="nt">&lt;/currencies&gt;</span>
                <span class="nt">&lt;language_code/&gt;</span>
                <span class="nt">&lt;language_locale&gt;</span>IN<span class="nt">&lt;/language_locale&gt;</span>
                <span class="nt">&lt;languages&gt;</span>
                    <span class="nt">&lt;base_language&gt;</span>
                        <span class="nt">&lt;lang/&gt;</span>
                        <span class="nt">&lt;locale&gt;</span>IN<span class="nt">&lt;/locale&gt;</span>
                    <span class="nt">&lt;/base_language&gt;</span>
                <span class="nt">&lt;/languages&gt;</span>
                <span class="nt">&lt;parent/&gt;</span>
                <span class="nt">&lt;country_code&gt;</span>IN<span class="nt">&lt;/country_code&gt;</span>
                <span class="nt">&lt;username&gt;</span>api.002<span class="nt">&lt;/username&gt;</span>
                <span class="nt">&lt;last_login/&gt;</span>
                <span class="nt">&lt;type&gt;</span>TILL<span class="nt">&lt;/type&gt;</span>
            <span class="nt">&lt;/entity&gt;</span>
            <span class="nt">&lt;entity&gt;</span>
                <span class="nt">&lt;item_status&gt;</span>
                    <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
                    <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
                    <span class="nt">&lt;message&gt;</span>Entity search successful<span class="nt">&lt;/message&gt;</span>
                <span class="nt">&lt;/item_status&gt;</span>
                <span class="nt">&lt;id&gt;</span>15000593<span class="nt">&lt;/id&gt;</span>
                <span class="nt">&lt;is_active&gt;</span>1<span class="nt">&lt;/is_active&gt;</span>
                <span class="nt">&lt;code&gt;</span>api.001<span class="nt">&lt;/code&gt;</span>
                <span class="nt">&lt;name&gt;</span>api.001<span class="nt">&lt;/name&gt;</span>
                <span class="nt">&lt;description/&gt;</span>
                <span class="nt">&lt;last_updated_by&gt;</span>15000449<span class="nt">&lt;/last_updated_by&gt;</span>
                <span class="nt">&lt;last_updated_on&gt;</span>2013-07-10 14:07:12<span class="nt">&lt;/last_updated_on&gt;</span>
                <span class="nt">&lt;time_zone_id&gt;</span>243<span class="nt">&lt;/time_zone_id&gt;</span>
                <span class="nt">&lt;currency_id&gt;</span>-1<span class="nt">&lt;/currency_id&gt;</span>
                <span class="nt">&lt;language_id&gt;</span>-1<span class="nt">&lt;/language_id&gt;</span>
                <span class="nt">&lt;timezones&gt;</span>
                    <span class="nt">&lt;base_timezone&gt;</span>
                        <span class="nt">&lt;label&gt;</span>Asia/Macau<span class="nt">&lt;/label&gt;</span>
                        <span class="nt">&lt;offset&gt;</span>+08:00<span class="nt">&lt;/offset&gt;</span>
                    <span class="nt">&lt;/base_timezone&gt;</span>
                <span class="nt">&lt;/timezones&gt;</span>
                <span class="nt">&lt;currencies&gt;</span>
                    <span class="nt">&lt;base_currency&gt;</span>
                        <span class="nt">&lt;symbol/&gt;</span>
                        <span class="nt">&lt;label/&gt;</span>
                    <span class="nt">&lt;/base_currency&gt;</span>
                <span class="nt">&lt;/currencies&gt;</span>
                <span class="nt">&lt;language_code/&gt;</span>
                <span class="nt">&lt;language_locale&gt;</span>IN<span class="nt">&lt;/language_locale&gt;</span>
                <span class="nt">&lt;languages&gt;</span>
                    <span class="nt">&lt;base_language&gt;</span>
                        <span class="nt">&lt;lang/&gt;</span>
                        <span class="nt">&lt;locale&gt;</span>IN<span class="nt">&lt;/locale&gt;</span>
                    <span class="nt">&lt;/base_language&gt;</span>
                <span class="nt">&lt;/languages&gt;</span>
                <span class="nt">&lt;parent/&gt;</span>
                <span class="nt">&lt;country_code&gt;</span>IN<span class="nt">&lt;/country_code&gt;</span>
                <span class="nt">&lt;username&gt;</span>api.001<span class="nt">&lt;/username&gt;</span>
                <span class="nt">&lt;last_login/&gt;</span>
                <span class="nt">&lt;type&gt;</span>TILL<span class="nt">&lt;/type&gt;</span>
            <span class="nt">&lt;/entity&gt;</span>
            <span class="nt">&lt;entity&gt;</span>
                <span class="nt">&lt;item_status&gt;</span>
                    <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
                    <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
                    <span class="nt">&lt;message&gt;</span>Entity search successful<span class="nt">&lt;/message&gt;</span>
                <span class="nt">&lt;/item_status&gt;</span>
                <span class="nt">&lt;id&gt;</span>15004460<span class="nt">&lt;/id&gt;</span>
                <span class="nt">&lt;is_active&gt;</span>1<span class="nt">&lt;/is_active&gt;</span>
                <span class="nt">&lt;code&gt;</span>api.004<span class="nt">&lt;/code&gt;</span>
                <span class="nt">&lt;name&gt;</span>api.004<span class="nt">&lt;/name&gt;</span>
                <span class="nt">&lt;description/&gt;</span>
                <span class="nt">&lt;last_updated_by&gt;</span>4<span class="nt">&lt;/last_updated_by&gt;</span>
                <span class="nt">&lt;last_updated_on&gt;</span>2014-05-05 16:05:35<span class="nt">&lt;/last_updated_on&gt;</span>
                <span class="nt">&lt;time_zone_id&gt;</span>243<span class="nt">&lt;/time_zone_id&gt;</span>
                <span class="nt">&lt;currency_id&gt;</span>-1<span class="nt">&lt;/currency_id&gt;</span>
                <span class="nt">&lt;language_id&gt;</span>-1<span class="nt">&lt;/language_id&gt;</span>
                <span class="nt">&lt;timezones&gt;</span>
                    <span class="nt">&lt;base_timezone&gt;</span>
                        <span class="nt">&lt;label&gt;</span>Asia/Macau<span class="nt">&lt;/label&gt;</span>
                        <span class="nt">&lt;offset&gt;</span>+08:00<span class="nt">&lt;/offset&gt;</span>
                    <span class="nt">&lt;/base_timezone&gt;</span>
                <span class="nt">&lt;/timezones&gt;</span>
                <span class="nt">&lt;currencies&gt;</span>
                    <span class="nt">&lt;base_currency&gt;</span>
                        <span class="nt">&lt;symbol/&gt;</span>
                        <span class="nt">&lt;label/&gt;</span>
                    <span class="nt">&lt;/base_currency&gt;</span>
                <span class="nt">&lt;/currencies&gt;</span>
                <span class="nt">&lt;language_code/&gt;</span>
                <span class="nt">&lt;language_locale&gt;</span>IN<span class="nt">&lt;/language_locale&gt;</span>
                <span class="nt">&lt;languages&gt;</span>
                    <span class="nt">&lt;base_language&gt;</span>
                        <span class="nt">&lt;lang/&gt;</span>
                        <span class="nt">&lt;locale&gt;</span>IN<span class="nt">&lt;/locale&gt;</span>
                    <span class="nt">&lt;/base_language&gt;</span>
                <span class="nt">&lt;/languages&gt;</span>
                <span class="nt">&lt;parent/&gt;</span>
                <span class="nt">&lt;country_code&gt;</span>IN<span class="nt">&lt;/country_code&gt;</span>
                <span class="nt">&lt;username&gt;</span>api.004<span class="nt">&lt;/username&gt;</span>
                <span class="nt">&lt;last_login/&gt;</span>
                <span class="nt">&lt;type&gt;</span>TILL<span class="nt">&lt;/type&gt;</span>
            <span class="nt">&lt;/entity&gt;</span>
            <span class="nt">&lt;entity&gt;</span>
                <span class="nt">&lt;item_status&gt;</span>
                    <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
                    <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
                    <span class="nt">&lt;message&gt;</span>Entity search successful<span class="nt">&lt;/message&gt;</span>
                <span class="nt">&lt;/item_status&gt;</span>
                <span class="nt">&lt;id&gt;</span>15001817<span class="nt">&lt;/id&gt;</span>
                <span class="nt">&lt;is_active&gt;</span>1<span class="nt">&lt;/is_active&gt;</span>
                <span class="nt">&lt;code&gt;</span>apis.001<span class="nt">&lt;/code&gt;</span>
                <span class="nt">&lt;name&gt;</span>apis.001<span class="nt">&lt;/name&gt;</span>
                <span class="nt">&lt;description/&gt;</span>
                <span class="nt">&lt;last_updated_by&gt;</span>4<span class="nt">&lt;/last_updated_by&gt;</span>
                <span class="nt">&lt;last_updated_on&gt;</span>2016-12-31 16:12:41<span class="nt">&lt;/last_updated_on&gt;</span>
                <span class="nt">&lt;time_zone_id&gt;</span>243<span class="nt">&lt;/time_zone_id&gt;</span>
                <span class="nt">&lt;currency_id&gt;</span>-1<span class="nt">&lt;/currency_id&gt;</span>
                <span class="nt">&lt;language_id&gt;</span>-1<span class="nt">&lt;/language_id&gt;</span>
                <span class="nt">&lt;timezones&gt;</span>
                    <span class="nt">&lt;base_timezone&gt;</span>
                        <span class="nt">&lt;label&gt;</span>Asia/Macau<span class="nt">&lt;/label&gt;</span>
                        <span class="nt">&lt;offset&gt;</span>+08:00<span class="nt">&lt;/offset&gt;</span>
                    <span class="nt">&lt;/base_timezone&gt;</span>
                <span class="nt">&lt;/timezones&gt;</span>
                <span class="nt">&lt;currencies&gt;</span>
                    <span class="nt">&lt;base_currency&gt;</span>
                        <span class="nt">&lt;symbol/&gt;</span>
                        <span class="nt">&lt;label/&gt;</span>
                    <span class="nt">&lt;/base_currency&gt;</span>
                <span class="nt">&lt;/currencies&gt;</span>
                <span class="nt">&lt;language_code/&gt;</span>
                <span class="nt">&lt;language_locale&gt;</span>IN<span class="nt">&lt;/language_locale&gt;</span>
                <span class="nt">&lt;languages&gt;</span>
                    <span class="nt">&lt;base_language&gt;</span>
                        <span class="nt">&lt;lang/&gt;</span>
                        <span class="nt">&lt;locale&gt;</span>IN<span class="nt">&lt;/locale&gt;</span>
                    <span class="nt">&lt;/base_language&gt;</span>
                <span class="nt">&lt;/languages&gt;</span>
                <span class="nt">&lt;parent/&gt;</span>
                <span class="nt">&lt;country_code&gt;</span>IN<span class="nt">&lt;/country_code&gt;</span>
                <span class="nt">&lt;username&gt;</span>apis.001<span class="nt">&lt;/username&gt;</span>
                <span class="nt">&lt;last_login/&gt;</span>
                <span class="nt">&lt;type&gt;</span>TILL<span class="nt">&lt;/type&gt;</span>
            <span class="nt">&lt;/entity&gt;</span>
        <span class="nt">&lt;/entities&gt;</span>
    <span class="nt">&lt;/organization&gt;</span>
<span class="nt">&lt;/response&gt;</span>


</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"limit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"entities"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"entity"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Entity search successful"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15001639"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"is_active"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api.002"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api.002"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"last_updated_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"last_updated_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-12-06 10:12:36"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"time_zone_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"243"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"currency_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"language_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"timezones"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"base_timezone"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Asia/Macau"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+08:00"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"currencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"base_currency"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">

              </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"language_locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"languages"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"base_language"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="w"> </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"country_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api.002"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TILL"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Entity search successful"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15000593"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"is_active"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api.001"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api.001"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"last_updated_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15000449"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"last_updated_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-07-10 14:07:12"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"time_zone_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"243"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"currency_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"language_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"timezones"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"base_timezone"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Asia/Macau"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+08:00"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"currencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"base_currency"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">

              </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"language_locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"languages"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"base_language"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="w"> </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"country_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api.001"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TILL"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Entity search successful"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15004460"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"is_active"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api.004"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api.004"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"last_updated_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"last_updated_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-05-05 16:05:35"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"time_zone_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"243"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"currency_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"language_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"timezones"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"base_timezone"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Asia/Macau"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+08:00"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"currencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"base_currency"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">

              </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"language_locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"languages"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"base_language"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="w"> </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"country_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api.004"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TILL"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Entity search successful"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15001817"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"is_active"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"apis.001"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"apis.001"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"last_updated_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"last_updated_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-12-31 16:12:41"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"time_zone_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"243"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"currency_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"language_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"timezones"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"base_timezone"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Asia/Macau"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+08:00"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"currencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"base_currency"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">

              </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"language_locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"languages"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"base_language"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="w"> </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"country_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"apis.001"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TILL"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Retrieves the details of zones, stores, store servers, concepts or TILLs configured for the current organization.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>organization/entities</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>Response Object</td>
<td>Returns the</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/organization/entities?format=&lt;xml/json&gt;&amp;type=&lt;type&gt;&amp;id=&lt;id&gt;</code> </p>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/organization/entities?format=&lt;xml/json&gt;&amp;type=&lt;store/zone/till&gt;</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Returns the details of a particular organization. id is the organization id</td>
</tr>
<tr>
<td>type*</td>
<td>Value: STORE, STR_SERVER, TILL, ZONE, CONCEPTSTORE. Returns details of a specific zone, concept, store, store server, or TILL based on the param passed</td>
</tr>
</tbody></table>

<h2 id="retrieve-org-configurations">Retrieve Org Configurations</h2>
<pre class="highlight html"><code># Sample Request
http://api.capillary.co.in/v1.1/organization/configs?format=json
</code></pre>
<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;response&gt;</span>
  <span class="nt">&lt;status&gt;</span>
  <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
  <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
  <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
  <span class="nt">&lt;/status&gt;</span>
  <span class="nt">&lt;organization&gt;</span>
  <span class="nt">&lt;configs&gt;</span>
  <span class="nt">&lt;config&gt;</span>
  <span class="nt">&lt;key&gt;</span>CONF_USERS_IS_EMAIL_REQUIRED<span class="nt">&lt;/key&gt;</span>
  <span class="nt">&lt;scopes&gt;</span>ORG<span class="nt">&lt;/scopes&gt;</span>
  <span class="nt">&lt;value_type&gt;</span>NUMERIC<span class="nt">&lt;/value_type&gt;</span>
  <span class="nt">&lt;modules&gt;</span>LOYALTY<span class="nt">&lt;/modules&gt;</span>
  <span class="nt">&lt;entity_id&gt;</span>146<span class="nt">&lt;/entity_id&gt;</span>
  <span class="nt">&lt;value&gt;</span>0<span class="nt">&lt;/value&gt;</span>
  <span class="nt">&lt;/config&gt;</span>
  <span class="nt">&lt;config&gt;</span>
  <span class="nt">&lt;key&gt;</span>CONF_USERS_IS_EMAIL_UNIQUE<span class="nt">&lt;/key&gt;</span>
  <span class="nt">&lt;scopes&gt;</span>ORG<span class="nt">&lt;/scopes&gt;</span>
  <span class="nt">&lt;value_type&gt;</span>NUMERIC<span class="nt">&lt;/value_type&gt;</span>
  <span class="nt">&lt;modules&gt;</span>LOYALTY<span class="nt">&lt;/modules&gt;</span>
  <span class="nt">&lt;entity_id&gt;</span>146<span class="nt">&lt;/entity_id&gt;</span>
  <span class="nt">&lt;value&gt;</span>0<span class="nt">&lt;/value&gt;</span>
  <span class="nt">&lt;/config&gt;</span>
  <span class="nt">&lt;config&gt;</span>
  <span class="nt">&lt;key&gt;</span>CONF_LOYALTY_IS_BILL_NUMBER_REQUIRED<span class="nt">&lt;/key&gt;</span>
  <span class="nt">&lt;scopes&gt;</span>ORG<span class="nt">&lt;/scopes&gt;</span>
  <span class="nt">&lt;value_type&gt;</span>NUMERIC<span class="nt">&lt;/value_type&gt;</span>
  <span class="nt">&lt;modules&gt;</span>LOYALTY<span class="nt">&lt;/modules&gt;</span>
  <span class="nt">&lt;entity_id&gt;</span>146<span class="nt">&lt;/entity_id&gt;</span>
  <span class="nt">&lt;value&gt;</span>0<span class="nt">&lt;/value&gt;</span>
  <span class="nt">&lt;/config&gt;</span>
  <span class="nt">&lt;config&gt;</span>
  <span class="nt">&lt;key&gt;</span>CONF_LOYALTY_IS_BILL_NUMBER_UNIQUE<span class="nt">&lt;/key&gt;</span>
  <span class="nt">&lt;scopes&gt;</span>ORG<span class="nt">&lt;/scopes&gt;</span>
  <span class="nt">&lt;value_type&gt;</span>NUMERIC<span class="nt">&lt;/value_type&gt;</span>
  <span class="nt">&lt;modules&gt;</span>LOYALTY<span class="nt">&lt;/modules&gt;</span>
  <span class="nt">&lt;entity_id&gt;</span>146<span class="nt">&lt;/entity_id&gt;</span>
  <span class="nt">&lt;value&gt;</span>0<span class="nt">&lt;/value&gt;</span>
  <span class="nt">&lt;/config&gt;</span>
  <span class="nt">&lt;/configs&gt;</span>
  <span class="nt">&lt;/organization&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
        </span><span class="p">},</span><span class="w"> 
        </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"configs"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"config"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CONF_USERS_IS_EMAIL_REQUIRED"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"scopes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ORG"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"value_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NUMERIC"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"modules"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LOYALTY"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"146"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
                    </span><span class="p">},</span><span class="w"> 
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CONF_USERS_IS_EMAIL_UNIQUE"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"scopes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ORG"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"value_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NUMERIC"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"modules"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LOYALTY"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"146"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
                    </span><span class="p">},</span><span class="w"> 
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CONF_LOYALTY_IS_BILL_NUMBER_REQUIRED"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"scopes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ORG"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"value_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NUMERIC"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"modules"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LOYALTY"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"146"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
                    </span><span class="p">},</span><span class="w"> 
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CONF_LOYALTY_IS_BILL_NUMBER_UNIQUE"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"scopes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ORG"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"value_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NUMERIC"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"modules"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LOYALTY"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"146"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns the organization configuration details in key and value pairs.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>organization/configs</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>Response Object</td>
<td>Returns configuration details of the current organization</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/organization/configs?format=&lt;xml/json&gt;</code></p>

<h2 id="retrieve-org-statistics">Retrieve Org Statistics</h2>
<pre class="highlight html"><code># Sample Request
http://apac.api.capillarytech.com/v1.1/organization/statistics?format=json
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;response&gt;</span>
   <span class="nt">&lt;status&gt;</span>
      <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
      <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
      <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
   <span class="nt">&lt;/status&gt;</span>
   <span class="nt">&lt;organization&gt;</span>
      <span class="nt">&lt;statistics&gt;</span>
         <span class="nt">&lt;avg_basket&gt;</span>1.07142857143<span class="nt">&lt;/avg_basket&gt;</span>
         <span class="nt">&lt;avg_transaction_value&gt;</span>11796.5054945<span class="nt">&lt;/avg_transaction_value&gt;</span>
         <span class="nt">&lt;customers&gt;</span>223<span class="nt">&lt;/customers&gt;</span>
         <span class="nt">&lt;stores&gt;</span>2<span class="nt">&lt;/stores&gt;</span>
         <span class="nt">&lt;products&gt;</span>5<span class="nt">&lt;/products&gt;</span>
      <span class="nt">&lt;/statistics&gt;</span>
   <span class="nt">&lt;/organization&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
        </span><span class="p">},</span><span class="w"> 
        </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"statistics"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"avg_basket"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.07142857143"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"avg_transaction_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11796.5054945"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"customers"</span><span class="p">:</span><span class="w"> </span><span class="s2">"223"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"stores"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"products"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<p>Returns the statistical information of the org which contains count of stores, zones, tills, loyalty customers, and products sold; average transaction amount, basket size and so on.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>organization/statistics</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>Response Object</td>
<td>Returns configuration statistics</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/organization/statistics?format=&lt;xml/json&gt;</code></p>

<h2 id="retrieve-top-selling-items">Retrieve Top Selling Items</h2>
<pre class="highlight html"><code># Sample Request
http://apac.api.capillarytech.com/v1.1/organization/topitems?format=json
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;response&gt;</span>
   <span class="nt">&lt;status&gt;</span>
      <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
      <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
      <span class="nt">&lt;message&gt;</span>Some requests have failed due to errors<span class="nt">&lt;/message&gt;</span>
   <span class="nt">&lt;/status&gt;</span>
   <span class="nt">&lt;organization&gt;</span>
      <span class="nt">&lt;item&gt;</span>
         <span class="nt">&lt;sku&gt;</span>1331212<span class="nt">&lt;/sku&gt;</span>
         <span class="nt">&lt;price&gt;</span>3000<span class="nt">&lt;/price&gt;</span>
         <span class="nt">&lt;img_url&gt;</span>http://cdn.capillary.co.in/232424234.jpg<span class="nt">&lt;/img_url&gt;</span>
         <span class="nt">&lt;in_stock&gt;</span>true<span class="nt">&lt;/in_stock&gt;</span>
         <span class="nt">&lt;description&gt;</span>Trousers<span class="nt">&lt;/description&gt;</span>
         <span class="nt">&lt;attributes&gt;</span>
            <span class="nt">&lt;attribute&gt;</span>
               <span class="nt">&lt;name&gt;</span>Color<span class="nt">&lt;/name&gt;</span>
               <span class="nt">&lt;value&gt;</span>Black<span class="nt">&lt;/value&gt;</span>
            <span class="nt">&lt;/attribute&gt;</span>
            <span class="nt">&lt;attribute&gt;</span>
               <span class="nt">&lt;name&gt;</span>Size<span class="nt">&lt;/name&gt;</span>
               <span class="nt">&lt;value&gt;</span>XXL<span class="nt">&lt;/value&gt;</span>
            <span class="nt">&lt;/attribute&gt;</span>
         <span class="nt">&lt;/attributes&gt;</span>
      <span class="nt">&lt;/item&gt;</span>
      <span class="nt">&lt;item&gt;</span>
         <span class="nt">&lt;sku&gt;</span>1331213<span class="nt">&lt;/sku&gt;</span>
         <span class="nt">&lt;price&gt;</span>3000<span class="nt">&lt;/price&gt;</span>
         <span class="nt">&lt;img_url&gt;</span>http://cdn.capillary.co.in/232424234.jpg<span class="nt">&lt;/img_url&gt;</span>
         <span class="nt">&lt;in_stock&gt;</span>true<span class="nt">&lt;/in_stock&gt;</span>
         <span class="nt">&lt;description&gt;</span>Shirt<span class="nt">&lt;/description&gt;</span>
         <span class="nt">&lt;attributes&gt;</span>
            <span class="nt">&lt;attribute&gt;</span>
               <span class="nt">&lt;name&gt;</span>Color<span class="nt">&lt;/name&gt;</span>
               <span class="nt">&lt;value&gt;</span>Black<span class="nt">&lt;/value&gt;</span>
            <span class="nt">&lt;/attribute&gt;</span>
            <span class="nt">&lt;attribute&gt;</span>
               <span class="nt">&lt;name&gt;</span>Size<span class="nt">&lt;/name&gt;</span>
               <span class="nt">&lt;value&gt;</span>XXL<span class="nt">&lt;/value&gt;</span>
            <span class="nt">&lt;/attribute&gt;</span>
         <span class="nt">&lt;/attributes&gt;</span>
      <span class="nt">&lt;/item&gt;</span>
   <span class="nt">&lt;/organization&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Some requests have failed due to errors"</span><span class="w">
        </span><span class="p">},</span><span class="w"> 
        </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1331212"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3000"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"img_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://cdn.capillary.co.in/232424234.jpg"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"in_stock"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Trousers"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"attribute"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                            </span><span class="p">{</span><span class="w">
                                </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Color"</span><span class="p">,</span><span class="w"> 
                                </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Black"</span><span class="w">
                            </span><span class="p">},</span><span class="w"> 
                            </span><span class="p">{</span><span class="w">
                                </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Size"</span><span class="p">,</span><span class="w"> 
                                </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXL"</span><span class="w">
                            </span><span class="p">}</span><span class="w">
                        </span><span class="p">]</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">},</span><span class="w"> 
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1331213"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3000"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"img_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://cdn.capillary.co.in/232424234.jpg"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"in_stock"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Shirt"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"attribute"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                            </span><span class="p">{</span><span class="w">
                                </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Color"</span><span class="p">,</span><span class="w"> 
                                </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Black"</span><span class="w">
                            </span><span class="p">},</span><span class="w"> 
                            </span><span class="p">{</span><span class="w">
                                </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Size"</span><span class="p">,</span><span class="w"> 
                                </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXL"</span><span class="w">
                            </span><span class="p">}</span><span class="w">
                        </span><span class="p">]</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns top selling items of the current organization.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>organization/topitems</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>Response Object</td>
<td>Returns top selling items of the organization</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/organization/topitems?format=&lt;xml/json&gt;</code></p>

<h2 id="retrieve-configured-custom-fields">Retrieve Configured Custom Fields</h2>
<pre class="highlight html"><code># Sample Request
http://apac.api.capillarytech.com/v1.1/organization/customfields?format=json
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;response&gt;</span>
    <span class="nt">&lt;status&gt;</span>
        <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
        <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/status&gt;</span>
    <span class="nt">&lt;organization&gt;</span>
        <span class="nt">&lt;custom_fields&gt;</span>
            <span class="nt">&lt;field&gt;</span>
                <span class="nt">&lt;name&gt;</span>addresstwo<span class="nt">&lt;/name&gt;</span>
                <span class="nt">&lt;label&gt;</span>Address<span class="nt">&lt;/label&gt;</span>
                <span class="nt">&lt;type&gt;</span>text<span class="nt">&lt;/type&gt;</span>
                <span class="nt">&lt;datatype&gt;</span>String<span class="nt">&lt;/datatype&gt;</span>
                <span class="nt">&lt;default&gt;</span>["1"]<span class="nt">&lt;/default&gt;</span>
                <span class="nt">&lt;phase&gt;</span>2<span class="nt">&lt;/phase&gt;</span>
                <span class="nt">&lt;position&gt;</span>2<span class="nt">&lt;/position&gt;</span>
                <span class="nt">&lt;rule</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;regex</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;error</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;options</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;scope&gt;</span>loyalty_transaction<span class="nt">&lt;/scope&gt;</span>
                <span class="nt">&lt;is_mandatory&gt;</span>0<span class="nt">&lt;/is_mandatory&gt;</span>
                <span class="nt">&lt;is_disabled&gt;</span>0<span class="nt">&lt;/is_disabled&gt;</span>
            <span class="nt">&lt;/field&gt;</span>
        <span class="nt">&lt;/custom_fields&gt;</span>
    <span class="nt">&lt;/organization&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
        </span><span class="p">},</span><span class="w"> 
        </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"custom_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"field"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"addresstwo"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Address"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"datatype"</span><span class="p">:</span><span class="w"> </span><span class="s2">"String"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"default"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[\"1\"]"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"phase"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"position"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"rule"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"regex"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"options"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"scope"</span><span class="p">:</span><span class="w"> </span><span class="s2">"loyalty_transaction"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"is_mandatory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"is_disabled"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns the details of custom fields configured for the current organization.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>organization/customfields</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>Response Object</td>
<td>Returns custom fields of the org</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/organization/customfields?format=&lt;xml/json&gt;&amp;scope=&lt;scope&gt;</code></p>

<h3 id="request-parameter">Request Parameter</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Scope</td>
<td>Value: customer_feedback, loyalty_transaction, loyalty_registration, customer_preferences <br> Returns custom field details configured for InStore for that specific module. For example, <code class="prettyprint">scope=customer_feedback</code> retrieves the custom fields of Customer Feedback window of InStore. <br> If no parameter is passed, custom fields of all modules will be returned.</td>
</tr>
</tbody></table>

<h2 id="retrieve-configured-payment-modes">Retrieve Configured Payment Modes</h2>
<pre class="highlight html"><code># Sample Request
http://us.api.capillarytech.com/v1.1/organization/tenders
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="nt">&lt;response&gt;</span>
    <span class="nt">&lt;status&gt;</span>
        <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
        <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/status&gt;</span>
    <span class="nt">&lt;organization&gt;</span>
        <span class="nt">&lt;tenders&gt;</span>
            <span class="nt">&lt;count&gt;</span>6<span class="nt">&lt;/count&gt;</span>
            <span class="nt">&lt;tender&gt;</span>
                <span class="nt">&lt;name&gt;</span>CA<span class="nt">&lt;/name&gt;</span>
                <span class="nt">&lt;canonical_name&gt;</span>CASH<span class="nt">&lt;/canonical_name&gt;</span>
                <span class="nt">&lt;description&gt;</span>payment via cash<span class="nt">&lt;/description&gt;</span>
            <span class="nt">&lt;/tender&gt;</span>
            <span class="nt">&lt;tender&gt;</span>
                <span class="nt">&lt;name&gt;</span>Card<span class="nt">&lt;/name&gt;</span>
                <span class="nt">&lt;canonical_name&gt;</span>CARD<span class="nt">&lt;/canonical_name&gt;</span>
                <span class="nt">&lt;description&gt;</span>payment via card, it can be debit/credit card<span class="nt">&lt;/description&gt;</span>
            <span class="nt">&lt;/tender&gt;</span>
            <span class="nt">&lt;tender&gt;</span>
                <span class="nt">&lt;name&gt;</span>Check<span class="nt">&lt;/name&gt;</span>
                <span class="nt">&lt;canonical_name&gt;</span>CHECK<span class="nt">&lt;/canonical_name&gt;</span>
                <span class="nt">&lt;description&gt;</span>payment via cheque<span class="nt">&lt;/description&gt;</span>
            <span class="nt">&lt;/tender&gt;</span>
            <span class="nt">&lt;tender&gt;</span>
                <span class="nt">&lt;name&gt;</span>GIFT<span class="nt">&lt;/name&gt;</span>
                <span class="nt">&lt;canonical_name&gt;</span>POINTS<span class="nt">&lt;/canonical_name&gt;</span>
                <span class="nt">&lt;description&gt;</span>payment via points<span class="nt">&lt;/description&gt;</span>
            <span class="nt">&lt;/tender&gt;</span>
            <span class="nt">&lt;tender&gt;</span>
                <span class="nt">&lt;name&gt;</span>COD<span class="nt">&lt;/name&gt;</span>
                <span class="nt">&lt;canonical_name&gt;</span>CASH_ON_DELIVERY<span class="nt">&lt;/canonical_name&gt;</span>
                <span class="nt">&lt;description&gt;</span>Cash on delivery<span class="nt">&lt;/description&gt;</span>
            <span class="nt">&lt;/tender&gt;</span>
            <span class="nt">&lt;tender&gt;</span>
                <span class="nt">&lt;name&gt;</span>Credit<span class="nt">&lt;/name&gt;</span>
                <span class="nt">&lt;canonical_name&gt;</span>CREDIT<span class="nt">&lt;/canonical_name&gt;</span>
                <span class="nt">&lt;description&gt;</span>no payment, purchase is on credit<span class="nt">&lt;/description&gt;</span>
            <span class="nt">&lt;/tender&gt;</span>
        <span class="nt">&lt;/tenders&gt;</span>
    <span class="nt">&lt;/organization&gt;</span>
<span class="nt">&lt;/response&gt;</span>

</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"tenders"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"tender"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"canonical_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CASH"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment via cash"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Card"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"canonical_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CARD"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment via card, it can be debit/credit card"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Check"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"canonical_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CHECK"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment via cheque"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GIFT"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"canonical_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POINTS"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment via points"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COD"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"canonical_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CASH_ON_DELIVERY"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cash on delivery"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Credit"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"canonical_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CREDIT"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"no payment, purchase is on credit"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns the details of payment modes configured for your organization.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>organization/tenders</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>Response Object</td>
<td>Returns configured payment modes</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/organization/tenders.&lt;xml/json&gt;</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>attribute_name</td>
<td>Retrieves the details of all tenders which contains the specific attribute name</td>
</tr>
<tr>
<td>attribute</td>
<td>Value: true, false. Retrieves attributes of the payment modes if <code class="prettyprint">attribute=true</code> is passed</td>
</tr>
</tbody></table>

<h2 id="response-codes">Response Codes</h2>

<h3 id="success-codes">Success Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>3200</td>
<td>Operation successful.</td>
</tr>
<tr>
<td>3200</td>
<td>Entities are fetched successfully</td>
</tr>
<tr>
<td>3200</td>
<td>Custom fields are fetched successfully</td>
</tr>
<tr>
<td>3205</td>
<td>Configurations saved successfully</td>
</tr>
<tr>
<td>3208</td>
<td>Configuration fetched successfully</td>
</tr>
</tbody></table>

<h3 id="error-codes">Error Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>3201</td>
<td>Operation failed</td>
</tr>
<tr>
<td>3202</td>
<td>Entities not found</td>
</tr>
<tr>
<td>3203</td>
<td>Custom field(s) not found</td>
</tr>
<tr>
<td>3204</td>
<td>Custom field(s) not found for this scope</td>
</tr>
<tr>
<td>3206</td>
<td>Unable to save configurations</td>
</tr>
<tr>
<td>3207</td>
<td>Customer type is invalid</td>
</tr>
<tr>
<td>3209</td>
<td>No configurations are found for this organization</td>
</tr>
<tr>
<td>3211</td>
<td>Configuration scope is invalid</td>
</tr>
<tr>
<td>3212</td>
<td>Configuration value is invalid</td>
</tr>
</tbody></table>

          <h1 id="store">Store</h1>

<p>The store entity holds information about all stores configured for an organization. This entity contain APIs to manage and fetch store details such as retrieve store information, upload log files to the server, get store report, and fetch store tasks. Store details and configurations cannot be updated using store APIs.</p>

<h2 id="retrieve-store-details">Retrieve Store Details</h2>
<pre class="highlight html"><code># Sample Request
http://us.api.capillarytech.com/v1.1/store/get?format=json<span class="err">&amp;</span>id=9235927
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;response&gt;</span>
    <span class="nt">&lt;status&gt;</span>
        <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
        <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/status&gt;</span>
    <span class="nt">&lt;stores&gt;</span>
        <span class="nt">&lt;store&gt;</span>
            <span class="nt">&lt;id&gt;</span>9235927<span class="nt">&lt;/id&gt;</span>
            <span class="nt">&lt;name&gt;</span>ManagerStore<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;code&gt;</span>client_sst_3<span class="nt">&lt;/code&gt;</span>
            <span class="nt">&lt;location&gt;</span>
                <span class="nt">&lt;latitude&gt;</span>10<span class="nt">&lt;/latitude&gt;</span>
                <span class="nt">&lt;longitude&gt;</span>10<span class="nt">&lt;/longitude&gt;</span>
            <span class="nt">&lt;/location&gt;</span>
            <span class="nt">&lt;currency&gt;</span>
                <span class="nt">&lt;name&gt;</span>Indian Rupee<span class="nt">&lt;/name&gt;</span>
                <span class="nt">&lt;symbol</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;iso_code&gt;</span>
                    <span class="nt">&lt;alpha&gt;</span>INR<span class="nt">&lt;/alpha&gt;</span>
                    <span class="nt">&lt;numeric&gt;</span>356<span class="nt">&lt;/numeric&gt;</span>
                <span class="nt">&lt;/iso_code&gt;</span>
            <span class="nt">&lt;/currency&gt;</span>
            <span class="nt">&lt;language&gt;</span>English<span class="nt">&lt;/language&gt;</span>
            <span class="nt">&lt;time_zone&gt;</span>
                <span class="nt">&lt;coordinates&gt;</span>+170306148<span class="nt">&lt;/coordinates&gt;</span>
                <span class="nt">&lt;offset&gt;</span>
                    <span class="nt">&lt;std&gt;</span>UTC-04<span class="nt">&lt;/std&gt;</span>
                    <span class="nt">&lt;summer&gt;</span>NULL<span class="nt">&lt;/summer&gt;</span>
                <span class="nt">&lt;/offset&gt;</span>
            <span class="nt">&lt;/time_zone&gt;</span>
            <span class="nt">&lt;mobile&gt;</span>44700900000<span class="nt">&lt;/mobile&gt;</span>
            <span class="nt">&lt;email&gt;</span>tom.sawyer@example.com<span class="nt">&lt;/email&gt;</span>
            <span class="nt">&lt;land_line</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;external_id</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;external_id_1</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;external_id_2</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;country_name&gt;</span>England<span class="nt">&lt;/country_name&gt;</span>
            <span class="nt">&lt;state_name&gt;&lt;/state_name&gt;</span>
            <span class="nt">&lt;city_name&gt;</span>London<span class="nt">&lt;/city_name&gt;</span>
            <span class="nt">&lt;area_name&gt;</span>Church Street<span class="nt">&lt;/area_name&gt;</span>
            <span class="nt">&lt;template&gt;</span>
                <span class="nt">&lt;sms&gt;</span>
                    <span class="nt">&lt;name&gt;</span>Catherine Earnshaw<span class="nt">&lt;/name&gt;</span>
                    <span class="nt">&lt;email&gt;</span>catherine.earnshaw@example.com<span class="nt">&lt;/email&gt;</span>
                    <span class="nt">&lt;mobile&gt;</span>44700900999<span class="nt">&lt;/mobile&gt;</span>
                <span class="nt">&lt;/sms&gt;</span>
                <span class="nt">&lt;email&gt;</span>
                    <span class="nt">&lt;name&gt;</span>John Smith<span class="nt">&lt;/name&gt;</span>
                    <span class="nt">&lt;mobile&gt;</span>44700900888<span class="nt">&lt;/mobile&gt;</span>
                    <span class="nt">&lt;email&gt;</span>john.smith@example.com<span class="nt">&lt;/email&gt;</span>
                <span class="nt">&lt;/email&gt;</span>
            <span class="nt">&lt;/template&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
                <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
                <span class="nt">&lt;code&gt;</span>900<span class="nt">&lt;/code&gt;</span>
                <span class="nt">&lt;message&gt;</span>Store Info Retrieval

    Successful<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
        <span class="nt">&lt;/store&gt;</span>
    <span class="nt">&lt;/stores&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
        </span><span class="p">},</span><span class="w"> 
        </span><span class="nt">"stores"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"store"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9235927"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ManagerStore"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"client_sst_3"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="w">
                </span><span class="p">},</span><span class="w"> 
                </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Indian Rupee"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"iso_code"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"alpha"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"numeric"</span><span class="p">:</span><span class="w"> </span><span class="s2">"356"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">},</span><span class="w"> 
                </span><span class="nt">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"English"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"time_zone"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"coordinates"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+170306148"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"offset"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"std"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UTC-04"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"summer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NULL"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">},</span><span class="w"> 
                </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900000"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom.sawyer@example.com"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"land_line"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"external_id_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"external_id_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"country_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"England"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"state_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"city_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"London"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"area_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Church Street"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"template"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"sms"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Catherine Earnshaw"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"catherine.earnshaw@example.com"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900999"</span><span class="w">
                    </span><span class="p">},</span><span class="w"> 
                    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Smith"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900888"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.smith@example.com"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">},</span><span class="w"> 
                </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"900"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Store Info Retrieval 

    Successful"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns detailed information of a specific store.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>store/get</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>Response Object</td>
<td>Returns store details</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/store/get?format=&lt;xml/json&gt;&amp;&lt;query_params&gt;</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>This is a unique store id generated by Capillary. Returns the details of the specific store based on the store id passed</td>
</tr>
<tr>
<td>external_id</td>
<td>Returns the store details based on the <code class="prettyprint">external_id</code> passed. External id is also a unique id for the store</td>
</tr>
</tbody></table>

<h2 id="retrieve-store-staff-details">Retrieve Store Staff Details</h2>
<pre class="highlight html"><code># Sample Request
http://us.api.capillarytech.com/v1.1/store/staff?format=json<span class="err">&amp;</span>type=ASSOCIATE
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="w">
        </span><span class="p">},</span><span class="w"> 
        </span><span class="nt">"store"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"staff"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2313"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ASSOCIATE"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"marks12131"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"George"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Milton"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"447009000693"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"george.milton@example.com"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"232234"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"store_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"store.server"</span><span class="w">
                    </span><span class="p">},</span><span class="w"> 
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2314"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ASSOCIATE"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"marks12132"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"George"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Milton"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"447009000693"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"george.milton@example.com"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"232234"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"store_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"store.server"</span><span class="w">
                    </span><span class="p">},</span><span class="w"> 
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2315"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ASSOCIATE"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"marks12133"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"George"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Milton"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"447009000693"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"george.milton@example.com"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"232234"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"store_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"store.server"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;response&gt;</span>
    <span class="nt">&lt;status&gt;</span>
        <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
        <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;message&gt;</span>success<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/status&gt;</span>
    <span class="nt">&lt;store&gt;</span>
        <span class="nt">&lt;staff&gt;</span>
            <span class="nt">&lt;user&gt;</span>
                <span class="nt">&lt;id&gt;</span>2313<span class="nt">&lt;/id&gt;</span>
                <span class="nt">&lt;type&gt;</span>ASSOCIATE<span class="nt">&lt;/type&gt;</span>
                <span class="c">&lt;!-- type can be ASSOCIATE or manager --&gt;</span>
                <span class="nt">&lt;code&gt;</span>marks12131<span class="nt">&lt;/code&gt;</span>
                <span class="nt">&lt;firstname&gt;</span>George<span class="nt">&lt;/firstname&gt;</span>
                <span class="nt">&lt;lastname&gt;</span>Milton<span class="nt">&lt;/lastname&gt;</span>
                <span class="nt">&lt;mobile&gt;</span>447009000693<span class="nt">&lt;/mobile&gt;</span>
                <span class="nt">&lt;email&gt;</span>george.milton@example.com<span class="nt">&lt;/email&gt;</span>
                <span class="nt">&lt;store_id&gt;</span>232234<span class="nt">&lt;/store_id&gt;</span>
                <span class="nt">&lt;store_code&gt;</span>store.server<span class="nt">&lt;/store_code&gt;</span>
            <span class="nt">&lt;/user&gt;</span>
            <span class="nt">&lt;user&gt;</span>
                <span class="nt">&lt;id&gt;</span>2314<span class="nt">&lt;/id&gt;</span>
                <span class="nt">&lt;type&gt;</span>ASSOCIATE<span class="nt">&lt;/type&gt;</span>
                <span class="nt">&lt;code&gt;</span>marks12132<span class="nt">&lt;/code&gt;</span>
                <span class="nt">&lt;firstname&gt;</span>George<span class="nt">&lt;/firstname&gt;</span>
                <span class="nt">&lt;lastname&gt;</span>Milton<span class="nt">&lt;/lastname&gt;</span>
                <span class="nt">&lt;mobile&gt;</span>447009000693<span class="nt">&lt;/mobile&gt;</span>
                <span class="nt">&lt;email&gt;</span>george.milton@example.com<span class="nt">&lt;/email&gt;</span>
                <span class="nt">&lt;store_id&gt;</span>232234<span class="nt">&lt;/store_id&gt;</span>
                <span class="nt">&lt;store_code&gt;</span>store.server<span class="nt">&lt;/store_code&gt;</span>
            <span class="nt">&lt;/user&gt;</span>
            <span class="nt">&lt;user&gt;</span>
                <span class="nt">&lt;id&gt;</span>2315<span class="nt">&lt;/id&gt;</span>
                <span class="nt">&lt;type&gt;</span>ASSOCIATE<span class="nt">&lt;/type&gt;</span>
                <span class="nt">&lt;code&gt;</span>marks12133<span class="nt">&lt;/code&gt;</span>
                <span class="nt">&lt;firstname&gt;</span>George<span class="nt">&lt;/firstname&gt;</span>
                <span class="nt">&lt;lastname&gt;</span>Milton<span class="nt">&lt;/lastname&gt;</span>
                <span class="nt">&lt;mobile&gt;</span>447009000693<span class="nt">&lt;/mobile&gt;</span>
                <span class="nt">&lt;email&gt;</span>george.milton@example.com<span class="nt">&lt;/email&gt;</span>
                <span class="nt">&lt;store_id&gt;</span>232234<span class="nt">&lt;/store_id&gt;</span>
                <span class="nt">&lt;store_code&gt;</span>store.server<span class="nt">&lt;/store_code&gt;</span>
            <span class="nt">&lt;/user&gt;</span>
        <span class="nt">&lt;/staff&gt;</span>
    <span class="nt">&lt;/store&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre>
<p>Returns the entire staff details of the current organization. Staff could be associates and managers.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>store/staff</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>Response Object</td>
<td>Returns details of staff</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/store/staff?format=xml&amp;type=&lt;type_value&gt;</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type_value</td>
<td>Value: ASSOCIATE, MANAGER. Returns the list of associates when <code class="prettyprint">type_value=ASSOCIATE</code> and managers when <code class="prettyprint">type_value=MANAGER</code></td>
</tr>
</tbody></table>

<h2 id="retrieve-store-tasks">Retrieve Store Tasks</h2>
<pre class="highlight html"><code># Sample Request
http://us.api.capillarytech.com/v1/store/tasks?format=json
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;response&gt;</span>
    <span class="nt">&lt;status&gt;</span>
        <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
        <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/status&gt;</span>
    <span class="nt">&lt;store&gt;</span>
        <span class="nt">&lt;tasks&gt;</span>
            <span class="nt">&lt;task&gt;</span>
                <span class="nt">&lt;id</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;entry_id</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;type&gt;</span>CUSTOMER/CASHIER<span class="nt">&lt;/type&gt;</span>
                <span class="nt">&lt;associate_id&gt;</span>123<span class="nt">&lt;/associate_id&gt;</span>
                <span class="c">&lt;!-- individual tasks --&gt;</span>
                <span class="nt">&lt;customer_id&gt;</span>124<span class="nt">&lt;/customer_id&gt;</span>
                <span class="c">&lt;!-- customer tasks --&gt;</span>
                <span class="nt">&lt;store_id&gt;</span>125<span class="nt">&lt;/store_id&gt;</span>
                <span class="nt">&lt;status&gt;</span>OPEN<span class="nt">&lt;/status&gt;</span>
            <span class="nt">&lt;/task&gt;</span>
            <span class="nt">&lt;task&gt;</span>
                <span class="nt">&lt;id</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;entry_id</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;type&gt;</span>CUSTOMER/TYPE<span class="nt">&lt;/type&gt;</span>
                <span class="nt">&lt;associate_id&gt;</span>125<span class="nt">&lt;/associate_id&gt;</span>
                <span class="c">&lt;!-- individual tasks --&gt;</span>
                <span class="nt">&lt;customer_id&gt;</span>122<span class="nt">&lt;/customer_id&gt;</span>
                <span class="c">&lt;!-- customer tasks --&gt;</span>
                <span class="nt">&lt;store_id&gt;</span>127<span class="nt">&lt;/store_id&gt;</span>
                <span class="nt">&lt;status&gt;</span>OPEN<span class="nt">&lt;/status&gt;</span>
            <span class="nt">&lt;/task&gt;</span>
        <span class="nt">&lt;/tasks&gt;</span>
    <span class="nt">&lt;/store&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
        </span><span class="p">},</span><span class="w"> 
        </span><span class="nt">"store"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"task"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"entry_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CUSTOMER/CASHIER"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"associate_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                            </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                            </span><span class="s2">""</span><span class="w">
                        </span><span class="p">],</span><span class="w"> 
                        </span><span class="nt">"customer_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"124"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"125"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="w">
                    </span><span class="p">},</span><span class="w"> 
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"entry_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CUSTOMER/TYPE"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"associate_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"125"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                            </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                            </span><span class="s2">""</span><span class="w">
                        </span><span class="p">],</span><span class="w"> 
                        </span><span class="nt">"customer_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"122"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"127"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns store task details such as task title, description, status, and updates.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>store/tasks</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>Response Object</td>
<td>Returns details of store tasks</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1/store/tasks?format=&lt;xml/json&gt;&amp;&lt;params&gt;=&lt;value&gt;</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>all</td>
<td>Value: sms, email, call, or none. Returns a particular type of task (SMS/email/call). If action_type is “none”, then the tasks other than SMS, email, or call will be returned</td>
</tr>
<tr>
<td>assoc_id</td>
<td>Returns the list of tasks assigned to a specific associate</td>
</tr>
<tr>
<td>customer_id</td>
<td>Returns the list of tasks created for a specific customer</td>
</tr>
<tr>
<td>start_date</td>
<td>Returns the list of tasks created between the dates set on start_date and end_date. If only start_date is mentioned then the list of tasks created on or after that specified date is returned</td>
</tr>
<tr>
<td>end_date</td>
<td>Returns the list of tasks created between the dates set on start_date and end_date. If only end_date is passed, the list of tasks created on or before the specified date is returned</td>
</tr>
<tr>
<td>count</td>
<td>Limits the number of tasks to be returned.  For example, if <code class="prettyprint">count=10</code> then the details of only 10 tasks are returned</td>
</tr>
</tbody></table>

<h2 id="verify-store-login-credentials">Verify Store Login Credentials</h2>
<pre class="highlight html"><code># Sample Request
http://api.capillary.co.in/v1.1/store/login.json
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;response&gt;</span>
   <span class="nt">&lt;status&gt;</span>
      <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
      <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
      <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
   <span class="nt">&lt;/status&gt;</span>
   <span class="nt">&lt;store&gt;</span>
      <span class="nt">&lt;user&gt;</span>
         <span class="nt">&lt;username&gt;</span>store.server<span class="nt">&lt;/username&gt;</span>
         <span class="nt">&lt;first_name&gt;</span>MSP<span class="nt">&lt;/first_name&gt;</span>
         <span class="nt">&lt;last_name&gt;</span>ss<span class="nt">&lt;/last_name&gt;</span>
         <span class="nt">&lt;org_name&gt;</span>SS Testing<span class="nt">&lt;/org_name&gt;</span>
         <span class="nt">&lt;user_id&gt;</span>4364301<span class="nt">&lt;/user_id&gt;</span>
         <span class="nt">&lt;org_id&gt;</span>146<span class="nt">&lt;/org_id&gt;</span>
         <span class="nt">&lt;server_time&gt;</span>2016-12-14T12:01:41+05:30<span class="nt">&lt;/server_time&gt;</span>
         <span class="nt">&lt;store_server_prefix</span> <span class="nt">/&gt;</span>
         <span class="nt">&lt;associate_login_enabled&gt;</span>false<span class="nt">&lt;/associate_login_enabled&gt;</span>
      <span class="nt">&lt;/user&gt;</span>
   <span class="nt">&lt;/store&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
        </span><span class="p">},</span><span class="w"> 
        </span><span class="nt">"store"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"store.server"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MSP"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ss"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"org_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SS Testing"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4364301"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"org_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"146"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"server_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-12-14T12:01:41+05:30"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"store_server_prefix"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"associate_login_enabled"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Verifies whether the log in credentials provided for a specific store are valid and returns the details of the users currently logged in to the store&rsquo;s InStore.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>store/login</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>Response Object</td>
<td>Verifies login credentials and returns active users of the store</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/store/login.&lt;xml/json&gt;</code></p>

<h2 id="upload-store-logs">Upload Store Logs</h2>
<pre class="highlight html"><code># Sample Request
http://api.capillary.co.in/v1.1/store/logs.file
</code></pre>
<blockquote>
<p>Sample POST Request</p>
</blockquote>
<pre class="highlight json"><code><span class="w">
</span></code></pre><pre class="highlight xml"><code>
</code></pre>
<blockquote>
<p>Success Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="nt">&lt;response&gt;</span>
<span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
<span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
<span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
<span class="nt">&lt;/response&gt;</span>

</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Failure Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="nt">&lt;response&gt;</span>
<span class="c">&lt;!-- Case 1: When file size received at the server is different from the HTTP HEADER X-CAP-CLIENT-FILESIZE passed by client.--&gt;</span>
     <span class="nt">&lt;success&gt;</span>false<span class="nt">&lt;/success&gt;</span>
     <span class="nt">&lt;code&gt;</span>904<span class="nt">&lt;/code&gt;</span>
     <span class="nt">&lt;message&gt;</span>Client log file size passed does not match size uploaded on server<span class="nt">&lt;/message&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"_comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Case 1: When file size received at the server is different from the HTTP HEADER X-CAP-CLIENT-FILESIZE passed by client"</span><span class="w">
    </span><span class="s2">"success"</span><span class="err">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"904"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Client log file size passed does not match size uploaded on server"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code><span class="nt">&lt;response&gt;</span>
<span class="c">&lt;!-- Case 2: Response when SHA1 signature of the file on client machine passed as HTTP HEADER X-CAP-CLIENT-FILESIGNATURE does not match SHA1 signature calculated on uploaded file on server --&gt;</span>
    <span class="nt">&lt;success&gt;</span>false<span class="nt">&lt;/success&gt;</span>
    <span class="nt">&lt;code&gt;</span>905<span class="nt">&lt;/code&gt;</span>
    <span class="nt">&lt;message&gt;</span>Client log file signature passed does not match file signature on server<span class="nt">&lt;/message&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"_comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Case 2: Response when SHA1 signature of the file on client machine passed as HTTP HEADER X-CAP-CLIENT-FILESIGNATURE does not match SHA1 signature calculated on uploaded file on server"</span><span class="w">
    </span><span class="s2">"success"</span><span class="err">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"905"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Client log file signature passed does not match file signature on server"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code><span class="nt">&lt;response&gt;</span>
<span class="c">&lt;!-- Case 3: Response when file upload from our server to S3 fails via file service call --&gt;</span>
    <span class="nt">&lt;success&gt;</span>false<span class="nt">&lt;/success&gt;</span>
    <span class="nt">&lt;code&gt;</span>906<span class="nt">&lt;/code&gt;</span>
    <span class="nt">&lt;message&gt;</span>Failed to upload client log file to file service<span class="nt">&lt;/message&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"_comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Case 3: Response when file upload from our server to S3 fails via file service call"</span><span class="w">
    </span><span class="s2">"success"</span><span class="err">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"906"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Failed to upload client log file to file service"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code><span class="nt">&lt;response&gt;</span>
<span class="c">&lt;!-- Case 4: Response when metadata of file is failed to insert into our DB --&gt;</span>
    <span class="nt">&lt;success&gt;</span>false<span class="nt">&lt;/success&gt;</span>
    <span class="nt">&lt;code&gt;</span>907<span class="nt">&lt;/code&gt;</span>
    <span class="nt">&lt;message&gt;</span>Failed to insert client log file metadata in db<span class="nt">&lt;/message&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"_comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Case 4: Response when metadata of file is failed to insert into our DB"</span><span class="w">
    </span><span class="s2">"success"</span><span class="err">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"907"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Failed to insert client log file metadata in db"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Uploads the log files of InStore as per the headers provided - supports activity logs and performance logs.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>store/logs</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>POST</td>
</tr>
<tr>
<td>Response Object</td>
<td>Uploads InStore log files</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/store/logs.file</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uploaded_time</td>
<td>Time at which the log file is uploaded in the database. Format: <code class="prettyprint">YYYY-MM-DD HH:MM:SS</code></td>
</tr>
<tr>
<td>logged_time</td>
<td>Time at which the log file is created in the database. Format: <code class="prettyprint">YYYY-MM-DD HH:MM:SS</code></td>
</tr>
</tbody></table>

<h3 id="uploading-activity-log-files-to-the-server">UPLOADING ACTIVITY LOG FILES TO THE SERVER</h3>

<p><strong>Headers</strong></p>

<p>Authorization - Basic xxxxxxxx</p>

<p>Content-Type - multipart/form-data</p>

<p>X-CAP-CLIENT-LOGFILENAME - test.txt (name of file on client machine)</p>

<p>X-CAP-CLIENT-LOGFILESIZE - 189991 (this is file size in bytes on client machine)</p>

<p>X-CAP-CLIENT-FILE-SIGNATURE - dcac6f31e6805076ecb35f6351ba7e2e8b1794a5 (SHA1 hash of file on client)</p>

<h3 id="uploading-performance-log-files">Uploading Performance Log Files</h3>

<h2 id="get-store-reports">Get Store Reports</h2>
<pre class="highlight html"><code># Sample Request
http://us.api.capillarytech.com/v1.1/store/reports.json
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
    <span class="nt">&lt;response&gt;</span>
        <span class="nt">&lt;status&gt;</span>
            <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
            <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
            <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
        <span class="nt">&lt;/status&gt;</span>
        <span class="nt">&lt;report&gt;</span>
            <span class="nt">&lt;loyalty&gt;</span>
                <span class="nt">&lt;row&gt;</span>
                    <span class="nt">&lt;start_date&gt;</span>2016-10-18 00:00:00<span class="nt">&lt;/start_date&gt;</span>
                    <span class="nt">&lt;end_date&gt;</span>2016-10-18 23:59:59<span class="nt">&lt;/end_date&gt;</span>
                    <span class="nt">&lt;customers&gt;</span>0<span class="nt">&lt;/customers&gt;</span>
                    <span class="nt">&lt;transactions&gt;</span>10<span class="nt">&lt;/transactions&gt;</span>
                    <span class="nt">&lt;not_interested_transactions&gt;</span>0<span class="nt">&lt;/not_interested_transactions&gt;</span>
                    <span class="nt">&lt;points_issued&gt;</span>210<span class="nt">&lt;/points_issued&gt;</span>
                    <span class="nt">&lt;points_redeemed&gt;</span>50<span class="nt">&lt;/points_redeemed&gt;</span>
                <span class="nt">&lt;/row&gt;</span>
                <span class="nt">&lt;row&gt;</span>
                    <span class="nt">&lt;start_date&gt;</span>2016-10-17 00:00:00<span class="nt">&lt;/start_date&gt;</span>
                    <span class="nt">&lt;end_date&gt;</span>2016-10-17 23:59:59<span class="nt">&lt;/end_date&gt;</span>
                    <span class="nt">&lt;customers&gt;</span>1<span class="nt">&lt;/customers&gt;</span>
                    <span class="nt">&lt;transactions&gt;</span>8<span class="nt">&lt;/transactions&gt;</span>
                    <span class="nt">&lt;not_interested_transactions&gt;</span>0<span class="nt">&lt;/not_interested_transactions&gt;</span>
                    <span class="nt">&lt;points_issued&gt;</span>310<span class="nt">&lt;/points_issued&gt;</span>
                    <span class="nt">&lt;points_redeemed&gt;</span>80<span class="nt">&lt;/points_redeemed&gt;</span>
                <span class="nt">&lt;/row&gt;</span>
                <span class="nt">&lt;row&gt;</span>
                    <span class="nt">&lt;start_date&gt;</span>2016-10-16 00:00:00<span class="nt">&lt;/start_date&gt;</span>
                    <span class="nt">&lt;end_date&gt;</span>2016-10-16 23:59:59<span class="nt">&lt;/end_date&gt;</span>
                    <span class="nt">&lt;customers&gt;</span>10<span class="nt">&lt;/customers&gt;</span>
                    <span class="nt">&lt;transactions&gt;</span>7<span class="nt">&lt;/transactions&gt;</span>
                    <span class="nt">&lt;not_interested_transactions&gt;</span>3<span class="nt">&lt;/not_interested_transactions&gt;</span>
                    <span class="nt">&lt;points_issued&gt;</span>500<span class="nt">&lt;/points_issued&gt;</span>
                    <span class="nt">&lt;points_redeemed&gt;</span>200<span class="nt">&lt;/points_redeemed&gt;</span>
                <span class="nt">&lt;/row&gt;</span>
                <span class="nt">&lt;row&gt;</span>
                    <span class="nt">&lt;start_date&gt;</span>2016-10-13 00:00:00<span class="nt">&lt;/start_date&gt;</span>
                    <span class="nt">&lt;end_date&gt;</span>2016-10-18 23:59:59<span class="nt">&lt;/end_date&gt;</span>
                    <span class="nt">&lt;customers&gt;</span>3<span class="nt">&lt;/customers&gt;</span>
                    <span class="nt">&lt;transactions&gt;</span>11<span class="nt">&lt;/transactions&gt;</span>
                    <span class="nt">&lt;not_interested_transactions&gt;</span>2<span class="nt">&lt;/not_interested_transactions&gt;</span>
                    <span class="nt">&lt;points_issued&gt;</span>340<span class="nt">&lt;/points_issued&gt;</span>
                    <span class="nt">&lt;points_redeemed&gt;</span>90<span class="nt">&lt;/points_redeemed&gt;</span>
                <span class="nt">&lt;/row&gt;</span>
            <span class="nt">&lt;/loyalty&gt;</span>
            <span class="nt">&lt;redemption&gt;</span>
                <span class="nt">&lt;row&gt;</span>
                    <span class="nt">&lt;store_username&gt;</span>till.005<span class="nt">&lt;/store_username&gt;</span>
                    <span class="nt">&lt;customer&gt;</span>
                        <span class="nt">&lt;firstname&gt;</span>Tom<span class="nt">&lt;/firstname&gt;</span>
                        <span class="nt">&lt;lastname&gt;</span>Sawyer<span class="nt">&lt;/lastname&gt;</span>
                        <span class="nt">&lt;mobile&gt;</span>44700900000<span class="nt">&lt;/mobile&gt;</span>
                    <span class="nt">&lt;/customer&gt;</span>
                    <span class="nt">&lt;transaction_number&gt;&lt;/transaction_number&gt;</span>
                    <span class="nt">&lt;points_redeemed&gt;</span>100<span class="nt">&lt;/points_redeemed&gt;</span>
                    <span class="nt">&lt;redemption_date&gt;</span>2013-10-18 10:24:02<span class="nt">&lt;/redemption_date&gt;</span>
                <span class="nt">&lt;/row&gt;</span>
                <span class="nt">&lt;row&gt;</span>
                    <span class="nt">&lt;store_username&gt;</span>till.005<span class="nt">&lt;/store_username&gt;</span>
                    <span class="nt">&lt;customer&gt;</span>
                        <span class="nt">&lt;firstname&gt;</span>John<span class="nt">&lt;/firstname&gt;</span>
                        <span class="nt">&lt;lastname&gt;</span>Rita<span class="nt">&lt;/lastname&gt;</span>
                        <span class="nt">&lt;mobile&gt;</span>44700900999<span class="nt">&lt;/mobile&gt;</span>
                    <span class="nt">&lt;/customer&gt;</span>
                    <span class="nt">&lt;transaction_number&gt;</span>aaj-1<span class="nt">&lt;/transaction_number&gt;</span>
                    <span class="nt">&lt;points_redeemed&gt;</span>100<span class="nt">&lt;/points_redeemed&gt;</span>
                    <span class="nt">&lt;redemption_date&gt;</span>2013-10-18 10:49:54<span class="nt">&lt;/redemption_date&gt;</span>
                <span class="nt">&lt;/row&gt;</span>
            <span class="nt">&lt;/redemption&gt;</span>
        <span class="nt">&lt;/report&gt;</span>
    <span class="nt">&lt;/response&gt;</span>


</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
        </span><span class="p">},</span><span class="w"> 
        </span><span class="nt">"report"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"loyalty"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"row"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-18 00:00:00"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"end_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-18 23:59:59"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"customers"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"not_interested_transactions"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"points_issued"</span><span class="p">:</span><span class="w"> </span><span class="s2">"210"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"points_redeemed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="w">
                    </span><span class="p">},</span><span class="w"> 
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-17 00:00:00"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"end_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-17 23:59:59"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"customers"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"not_interested_transactions"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"points_issued"</span><span class="p">:</span><span class="w"> </span><span class="s2">"310"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"points_redeemed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"80"</span><span class="w">
                    </span><span class="p">},</span><span class="w"> 
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-16 00:00:00"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"end_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-16 23:59:59"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"customers"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"not_interested_transactions"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"points_issued"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"points_redeemed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="w">
                    </span><span class="p">},</span><span class="w"> 
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-13 00:00:00"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"end_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-18 23:59:59"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"customers"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"not_interested_transactions"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"points_issued"</span><span class="p">:</span><span class="w"> </span><span class="s2">"340"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"points_redeemed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"90"</span><span class="w">
                    </span><span class="p">},</span><span class="w"> 

                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w"> 
            </span><span class="nt">"redemption"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"row"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"store_username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"till.005"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nt">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tom"</span><span class="p">,</span><span class="w"> 
                            </span><span class="nt">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sawyer"</span><span class="p">,</span><span class="w"> 
                            </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900000"</span><span class="w">
                        </span><span class="p">},</span><span class="w"> 
                        </span><span class="nt">"transaction_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"points_redeemed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"redemption_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-10-18 10:24:02"</span><span class="w">
                    </span><span class="p">},</span><span class="w"> 
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"store_username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"till.005"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nt">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w"> 
                            </span><span class="nt">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rita"</span><span class="p">,</span><span class="w"> 
                            </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44700900999"</span><span class="w">
                        </span><span class="p">},</span><span class="w"> 
                        </span><span class="nt">"transaction_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aaj-1"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"points_redeemed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"redemption_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-10-18 10:49:54"</span><span class="w">
                    </span><span class="p">},</span><span class="w"> 
                  </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns report of a specific store containing details like sales of previous day, week and month; customers visited; points and coupons issued; points and coupons redeemed etc will be returned. The report also includes the summary of transaction amount, number of customers registered, points and coupons redeemed, transaction types and so on.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>store/reports</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>Response Object</td>
<td>Returns report of a particular store</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/store/reports.xml?&lt;query_params&gt;</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>Value: loyalty, redemption. Returns either transaction (<code class="prettyprint">type=loyalty</code>) report or redemption (<code class="prettyprint">type=redemption</code>) report based on the parameter value passed</td>
</tr>
<tr>
<td>start_date</td>
<td>Returns the report for the specified duration (between start_date and end_date). <br><strong>if <code class="prettyprint">start_date</code> is passed, <code class="prettyprint">end_date</code> should also be passed and vice versa</strong></td>
</tr>
<tr>
<td>end_date</td>
<td>Returns the store report for the specified duration of start_date and end_date. <br> <strong>if <code class="prettyprint">start_date</code> is passed, <code class="prettyprint">end_date</code> should also be passed and vice versa</strong></td>
</tr>
</tbody></table>

<h2 id="upload-store-reports">Upload Store Reports</h2>
<pre class="highlight html"><code># Sample Request
http://us.api.capillarytech.com/v1.1/store/reports?format=json
</code></pre>
<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;root&gt;</span>

   <span class="nt">&lt;report</span> <span class="na">type=</span><span class="s">"loyalty"</span><span class="nt">&gt;</span>

      <span class="nt">&lt;store_code&gt;</span>xx<span class="nt">&lt;/store_code&gt;</span>

      <span class="c">&lt;!-- 

            will be used for uploading multiple store’s 

            loyalty tracker info in one API 

         --&gt;</span>

      <span class="nt">&lt;total_transactions&gt;</span>10<span class="nt">&lt;/total_transactions&gt;</span>

      <span class="nt">&lt;total_sales&gt;</span>5000<span class="nt">&lt;/total_sales&gt;</span>

      <span class="nt">&lt;footfall_count&gt;</span>10<span class="nt">&lt;/footfall_count&gt;</span>

      <span class="nt">&lt;date&gt;</span>2013-03-14 18:00:13<span class="nt">&lt;/date&gt;</span>

      <span class="nt">&lt;transaction_count&gt;</span>

         <span class="nt">&lt;regular&gt;</span>5<span class="nt">&lt;/regular&gt;</span>

         <span class="nt">&lt;not_interested&gt;</span>5<span class="nt">&lt;/not_interested&gt;</span>

         <span class="nt">&lt;total_enter_later&gt;</span>4<span class="nt">&lt;/total_enter_later&gt;</span>

         <span class="nt">&lt;enter_later_for_today&gt;</span>1<span class="nt">&lt;/enter_later_for_today&gt;</span>

      <span class="nt">&lt;/transaction_count&gt;</span>

   <span class="nt">&lt;/report&gt;</span>

<span class="nt">&lt;/root&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"root"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"report"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"loyalty"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"store_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xx"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_transactions"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_sales"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5000"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"footfall_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-03-14 18:00:13"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"transaction_count"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"regular"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"not_interested"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"total_enter_later"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"enter_later_for_today"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;response&gt;</span>
   <span class="nt">&lt;status&gt;</span>
      <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
      <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
      <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
   <span class="nt">&lt;/status&gt;</span>
   <span class="nt">&lt;store&gt;</span>
      <span class="nt">&lt;report&gt;</span>
         <span class="nt">&lt;type&gt;</span>loyalty<span class="nt">&lt;/type&gt;</span>
         <span class="nt">&lt;store_code&gt;</span>xx<span class="nt">&lt;/store_code&gt;</span>
         <span class="nt">&lt;date&gt;</span>2013-03-14 18:00:13<span class="nt">&lt;/date&gt;</span>
         <span class="nt">&lt;item_status&gt;</span>
            <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
            <span class="nt">&lt;code&gt;</span>900<span class="nt">&lt;/code&gt;</span>
            <span class="nt">&lt;message&gt;</span>store report uploaded successfully<span class="nt">&lt;/message&gt;</span>
         <span class="nt">&lt;/item_status&gt;</span>
      <span class="nt">&lt;/report&gt;</span>
   <span class="nt">&lt;/store&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
        </span><span class="p">},</span><span class="w"> 
        </span><span class="nt">"store"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"report"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"loyalty"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"store_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xx"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-03-14 18:00:13"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"900"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"store report uploaded successfully"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<p>Uploads store report from InStore to the main server.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>store/reports</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>POST</td>
</tr>
<tr>
<td>Response Object</td>
<td>Uploads store report to the server</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/store/reports.xml?&lt;query_params&gt;</code></p>

<h2 id="retrieve-store-configurations">Retrieve Store Configurations</h2>
<pre class="highlight html"><code># Sample Request
http://us.api.capillarytech.com/store/configurations?format=json
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
    <span class="nt">&lt;response&gt;</span>
        <span class="nt">&lt;status&gt;</span>
            <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
            <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
            <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
        <span class="nt">&lt;/status&gt;</span>
        <span class="nt">&lt;store&gt;</span>
            <span class="nt">&lt;configurations&gt;</span>
                <span class="nt">&lt;last_modified_time&gt;</span>
                    <span class="nt">&lt;comment&gt;&lt;/comment&gt;</span>
                    <span class="nt">&lt;comment&gt;&lt;/comment&gt;</span>
                    <span class="nt">&lt;comment&gt;&lt;/comment&gt;</span>
                    <span class="nt">&lt;configurations&gt;</span>2016-07-03 15:40:29<span class="nt">&lt;/configurations&gt;</span>
                    <span class="nt">&lt;custom_fields&gt;</span>2016-07-01 15:40:29<span class="nt">&lt;/custom_fields&gt;</span>
                    <span class="nt">&lt;countries&gt;&lt;/countries&gt;</span>
                    <span class="nt">&lt;store_attributes&gt;&lt;/store_attributes&gt;</span>
                    <span class="nt">&lt;cron_entries&gt;&lt;/cron_entries&gt;</span>
                    <span class="nt">&lt;store_tasks&gt;&lt;/store_tasks&gt;</span>
                    <span class="nt">&lt;store_tasks_entries&gt;&lt;/store_tasks_entries&gt;</span>
                    <span class="nt">&lt;purchased_features&gt;&lt;/purchased_features&gt;</span>
                <span class="nt">&lt;/last_modified_time&gt;</span>
                <span class="nt">&lt;comment&gt;&lt;/comment&gt;</span>
                <span class="nt">&lt;comment&gt;&lt;/comment&gt;</span>
                <span class="nt">&lt;comment&gt;&lt;/comment&gt;</span>
                <span class="nt">&lt;comment&gt;&lt;/comment&gt;</span>
                <span class="nt">&lt;comment&gt;&lt;/comment&gt;</span>
                <span class="nt">&lt;comment&gt;&lt;/comment&gt;</span>
                <span class="nt">&lt;data_providers_file&gt;</span>323<span class="nt">&lt;/data_providers_file&gt;</span>
                <span class="nt">&lt;client_log_config_file&gt;&lt;/client_log_config_file&gt;</span>
                <span class="nt">&lt;printer_templates&gt;</span>
                    <span class="nt">&lt;comment&gt;&lt;/comment&gt;</span>
                    <span class="nt">&lt;dvs_coupon&gt;&lt;/dvs_coupon&gt;</span>
                    <span class="nt">&lt;transaction&gt;&lt;/transaction&gt;</span>
                    <span class="nt">&lt;customer&gt;&lt;/customer&gt;</span>
                    <span class="nt">&lt;campaign_coupon&gt;&lt;/campaign_coupon&gt;</span>
                    <span class="nt">&lt;points_redemption&gt;&lt;/points_redemption&gt;</span>
                <span class="nt">&lt;/printer_templates&gt;</span>
                <span class="nt">&lt;rules_packages&gt;</span>
                    <span class="nt">&lt;dvs_issue&gt;</span>
                        <span class="nt">&lt;version&gt;&lt;/version&gt;</span>
                        <span class="nt">&lt;file_id&gt;&lt;/file_id&gt;</span>
                        <span class="nt">&lt;comment&gt;&lt;/comment&gt;</span>
                    <span class="nt">&lt;/dvs_issue&gt;</span>
                    <span class="nt">&lt;dvs_redeem&gt;</span>
                        <span class="nt">&lt;version&gt;&lt;/version&gt;</span>
                        <span class="nt">&lt;file_id&gt;&lt;/file_id&gt;</span>
                        <span class="nt">&lt;comment&gt;&lt;/comment&gt;</span>
                    <span class="nt">&lt;/dvs_redeem&gt;</span>
                <span class="nt">&lt;/rules_packages&gt;</span>
                <span class="nt">&lt;inventory_version&gt;&lt;/inventory_version&gt;</span>
                <span class="nt">&lt;integration_output_templates&gt;</span>
                    <span class="nt">&lt;comment&gt;&lt;/comment&gt;</span>
                    <span class="nt">&lt;points_redemption&gt;</span>-1<span class="nt">&lt;/points_redemption&gt;</span>
                    <span class="nt">&lt;coupon_redemption&gt;&lt;/coupon_redemption&gt;</span>
                    <span class="nt">&lt;coupon_issue&gt;&lt;/coupon_issue&gt;</span>
                    <span class="nt">&lt;customer_register&gt;&lt;/customer_register&gt;</span>
                    <span class="nt">&lt;customer_update&gt;&lt;/customer_update&gt;</span>
                    <span class="nt">&lt;transaction_submit&gt;&lt;/transaction_submit&gt;</span>
                    <span class="nt">&lt;gift_card&gt;&lt;/gift_card&gt;</span>
                <span class="nt">&lt;/integration_output_templates&gt;</span>
                <span class="nt">&lt;integration_post_output_templates&gt;</span>
                    <span class="nt">&lt;points_redemption&gt;</span>
                        <span class="nt">&lt;id&gt;</span>234<span class="nt">&lt;/id&gt;</span>
                        <span class="nt">&lt;comment&gt;&lt;/comment&gt;</span>
                        <span class="nt">&lt;comment&gt;&lt;/comment&gt;</span>
                        <span class="nt">&lt;name&gt;</span>IntegrationPostOutputTemplate<span class="nt">&lt;/name&gt;</span>
                        <span class="nt">&lt;client_monitoring_type&gt;</span>FILE_CHECK<span class="nt">&lt;/client_monitoring_type&gt;</span>
                    <span class="nt">&lt;/points_redemption&gt;</span>
                    <span class="nt">&lt;coupon_redemption&gt;</span>
                        <span class="nt">&lt;id&gt;</span>234<span class="nt">&lt;/id&gt;</span>
                        <span class="nt">&lt;name&gt;</span>IntegrationPostOutputTemplate<span class="nt">&lt;/name&gt;</span>
                        <span class="nt">&lt;client_monitoring_type&gt;</span>FILE_CHECK<span class="nt">&lt;/client_monitoring_type&gt;</span>
                    <span class="nt">&lt;/coupon_redemption&gt;</span>
                    <span class="nt">&lt;coupon_issue&gt;</span>
                        <span class="nt">&lt;id&gt;</span>234<span class="nt">&lt;/id&gt;</span>
                        <span class="nt">&lt;name&gt;</span>IntegrationPostOutputTemplate<span class="nt">&lt;/name&gt;</span>
                        <span class="nt">&lt;client_monitoring_type&gt;</span>FILE_CHECK<span class="nt">&lt;/client_monitoring_type&gt;</span>
                    <span class="nt">&lt;/coupon_issue&gt;</span>
                    <span class="nt">&lt;customer_register&gt;</span>
                        <span class="nt">&lt;id&gt;</span>234<span class="nt">&lt;/id&gt;</span>
                        <span class="nt">&lt;name&gt;</span>IntegrationPostOutputTemplate<span class="nt">&lt;/name&gt;</span>
                        <span class="nt">&lt;client_monitoring_type&gt;</span>FILE_CHECK<span class="nt">&lt;/client_monitoring_type&gt;</span>
                    <span class="nt">&lt;/customer_register&gt;</span>
                    <span class="nt">&lt;customer_update&gt;</span>
                        <span class="nt">&lt;id&gt;</span>234<span class="nt">&lt;/id&gt;</span>
                        <span class="nt">&lt;name&gt;</span>IntegrationPostOutputTemplate<span class="nt">&lt;/name&gt;</span>
                        <span class="nt">&lt;client_monitoring_type&gt;</span>FILE_CHECK<span class="nt">&lt;/client_monitoring_type&gt;</span>
                    <span class="nt">&lt;/customer_update&gt;</span>
                    <span class="nt">&lt;transaction_submit&gt;</span>
                        <span class="nt">&lt;id&gt;</span>234<span class="nt">&lt;/id&gt;</span>
                        <span class="nt">&lt;name&gt;</span>IntegrationPostOutputTemplate<span class="nt">&lt;/name&gt;</span>
                        <span class="nt">&lt;client_monitoring_type&gt;</span>FILE_CHECK<span class="nt">&lt;/client_monitoring_type&gt;</span>
                    <span class="nt">&lt;/transaction_submit&gt;</span>
                    <span class="nt">&lt;auto_configure&gt;</span>
                        <span class="nt">&lt;id&gt;</span>234<span class="nt">&lt;/id&gt;</span>
                        <span class="nt">&lt;name&gt;</span>IntegrationPostOutputTemplate<span class="nt">&lt;/name&gt;</span>
                        <span class="nt">&lt;client_monitoring_type&gt;</span>FILE_CHECK<span class="nt">&lt;/client_monitoring_type&gt;</span>
                    <span class="nt">&lt;/auto_configure&gt;</span>
                    <span class="nt">&lt;nightly_sync&gt;</span>
                        <span class="nt">&lt;id&gt;</span>234<span class="nt">&lt;/id&gt;</span>
                        <span class="nt">&lt;name&gt;</span>IntegrationPostOutputTemplate<span class="nt">&lt;/name&gt;</span>
                        <span class="nt">&lt;client_monitoring_type&gt;</span>FILE_CHECK<span class="nt">&lt;/client_monitoring_type&gt;</span>
                    <span class="nt">&lt;/nightly_sync&gt;</span>
                    <span class="nt">&lt;eod_sync&gt;</span>
                        <span class="nt">&lt;id&gt;</span>234<span class="nt">&lt;/id&gt;</span>
                        <span class="nt">&lt;name&gt;</span>IntegrationPostOutputTemplate<span class="nt">&lt;/name&gt;</span>
                        <span class="nt">&lt;client_monitoring_type&gt;</span>FILE_CHECK<span class="nt">&lt;/client_monitoring_type&gt;</span>
                    <span class="nt">&lt;/eod_sync&gt;</span>
                    <span class="nt">&lt;pre_auto_configure&gt;</span>
                        <span class="nt">&lt;id&gt;</span>234<span class="nt">&lt;/id&gt;</span>
                        <span class="nt">&lt;name&gt;</span>IntegrationPostOutputTemplate<span class="nt">&lt;/name&gt;</span>
                        <span class="nt">&lt;client_monitoring_type&gt;</span>FILE_CHECK<span class="nt">&lt;/client_monitoring_type&gt;</span>
                    <span class="nt">&lt;/pre_auto_configure&gt;</span>
                    <span class="nt">&lt;pre_nightly_sync&gt;</span>
                        <span class="nt">&lt;id&gt;</span>234<span class="nt">&lt;/id&gt;</span>
                        <span class="nt">&lt;name&gt;</span>IntegrationPostOutputTemplate<span class="nt">&lt;/name&gt;</span>
                        <span class="nt">&lt;client_monitoring_type&gt;</span>FILE_CHECK<span class="nt">&lt;/client_monitoring_type&gt;</span>
                    <span class="nt">&lt;/pre_nightly_sync&gt;</span>
                    <span class="nt">&lt;pre_eod_sync&gt;</span>
                        <span class="nt">&lt;id&gt;</span>234<span class="nt">&lt;/id&gt;</span>
                        <span class="nt">&lt;name&gt;</span>IntegrationPostOutputTemplate<span class="nt">&lt;/name&gt;</span>
                        <span class="nt">&lt;client_monitoring_type&gt;</span>FILE_CHECK<span class="nt">&lt;/client_monitoring_type&gt;</span>
                    <span class="nt">&lt;/pre_eod_sync&gt;</span>
                    <span class="nt">&lt;os_startup&gt;</span>
                        <span class="nt">&lt;id&gt;</span>234<span class="nt">&lt;/id&gt;</span>
                        <span class="nt">&lt;name&gt;</span>IntegrationPostOutputTemplate<span class="nt">&lt;/name&gt;</span>
                        <span class="nt">&lt;client_monitoring_type&gt;</span>FILE_CHECK<span class="nt">&lt;/client_monitoring_type&gt;</span>
                    <span class="nt">&lt;/os_startup&gt;</span>
                    <span class="nt">&lt;gift_card&gt;</span>
                        <span class="nt">&lt;id&gt;</span>234<span class="nt">&lt;/id&gt;</span>
                        <span class="nt">&lt;name&gt;</span>IntegrationPostOutputTemplate<span class="nt">&lt;/name&gt;</span>
                        <span class="nt">&lt;client_monitoring_type&gt;</span>FILE_CHECK<span class="nt">&lt;/client_monitoring_type&gt;</span>
                    <span class="nt">&lt;/gift_card&gt;</span>
                <span class="nt">&lt;/integration_post_output_templates&gt;</span>
                <span class="nt">&lt;customer_attribute_version&gt;&lt;/customer_attribute_version&gt;</span>
                <span class="nt">&lt;store_server_prefix&gt;&lt;/store_server_prefix&gt;</span>
                <span class="nt">&lt;time_zone_offset&gt;&lt;/time_zone_offset&gt;</span>
                <span class="nt">&lt;store_tasks_max_entries_id&gt;&lt;/store_tasks_max_entries_id&gt;</span>
                <span class="nt">&lt;client_debug_level&gt;&lt;/client_debug_level&gt;</span>
                <span class="nt">&lt;client_test_mode&gt;&lt;/client_test_mode&gt;</span>
                <span class="nt">&lt;client_upload_logs&gt;&lt;/client_upload_logs&gt;</span>
            <span class="nt">&lt;/configurations&gt;</span>
        <span class="nt">&lt;/store&gt;</span>
    <span class="nt">&lt;/response&gt;</span>


</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
        </span><span class="p">},</span><span class="w"> 
        </span><span class="nt">"store"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"configurations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"last_modified_time"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                        </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                        </span><span class="s2">""</span><span class="w">
                    </span><span class="p">],</span><span class="w"> 
                    </span><span class="nt">"configurations"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-03 15:40:29"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"custom_fields"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-01 15:40:29"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"countries"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"store_attributes"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"cron_entries"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"store_tasks"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"store_tasks_entries"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"purchased_features"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w"> 
                </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                    </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                    </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                    </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                    </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                    </span><span class="s2">""</span><span class="w">
                </span><span class="p">],</span><span class="w"> 
                </span><span class="nt">"data_providers_file"</span><span class="p">:</span><span class="w"> </span><span class="s2">"323"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"client_log_config_file"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"printer_templates"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"dvs_coupon"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"campaign_coupon"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"points_redemption"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w"> 
                </span><span class="nt">"rules_packages"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"dvs_issue"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"file_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                    </span><span class="p">},</span><span class="w"> 
                    </span><span class="nt">"dvs_redeem"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"file_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">},</span><span class="w"> 
                </span><span class="nt">"inventory_version"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"integration_output_templates"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"points_redemption"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"coupon_redemption"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"coupon_issue"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"customer_register"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"customer_update"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"transaction_submit"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"gift_card"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w"> 
                </span><span class="nt">"integration_post_output_templates"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"points_redemption"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"234"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                            </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                            </span><span class="s2">""</span><span class="w">
                        </span><span class="p">],</span><span class="w"> 
                        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IntegrationPostOutputTemplate"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"client_monitoring_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FILE_CHECK"</span><span class="w">
                    </span><span class="p">},</span><span class="w"> 
                    </span><span class="nt">"coupon_redemption"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"234"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IntegrationPostOutputTemplate"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"client_monitoring_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FILE_CHECK"</span><span class="w">
                    </span><span class="p">},</span><span class="w"> 
                    </span><span class="nt">"coupon_issue"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"234"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IntegrationPostOutputTemplate"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"client_monitoring_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FILE_CHECK"</span><span class="w">
                    </span><span class="p">},</span><span class="w"> 
                    </span><span class="nt">"customer_register"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"234"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IntegrationPostOutputTemplate"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"client_monitoring_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FILE_CHECK"</span><span class="w">
                    </span><span class="p">},</span><span class="w"> 
                    </span><span class="nt">"customer_update"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"234"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IntegrationPostOutputTemplate"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"client_monitoring_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FILE_CHECK"</span><span class="w">
                    </span><span class="p">},</span><span class="w"> 
                    </span><span class="nt">"transaction_submit"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"234"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IntegrationPostOutputTemplate"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"client_monitoring_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FILE_CHECK"</span><span class="w">
                    </span><span class="p">},</span><span class="w"> 
                    </span><span class="nt">"auto_configure"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"234"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IntegrationPostOutputTemplate"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"client_monitoring_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FILE_CHECK"</span><span class="w">
                    </span><span class="p">},</span><span class="w"> 
                    </span><span class="nt">"nightly_sync"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"234"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IntegrationPostOutputTemplate"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"client_monitoring_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FILE_CHECK"</span><span class="w">
                    </span><span class="p">},</span><span class="w"> 
                    </span><span class="nt">"eod_sync"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"234"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IntegrationPostOutputTemplate"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"client_monitoring_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FILE_CHECK"</span><span class="w">
                    </span><span class="p">},</span><span class="w"> 
                    </span><span class="nt">"pre_auto_configure"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"234"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IntegrationPostOutputTemplate"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"client_monitoring_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FILE_CHECK"</span><span class="w">
                    </span><span class="p">},</span><span class="w"> 
                    </span><span class="nt">"pre_nightly_sync"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"234"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IntegrationPostOutputTemplate"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"client_monitoring_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FILE_CHECK"</span><span class="w">
                    </span><span class="p">},</span><span class="w"> 
                    </span><span class="nt">"pre_eod_sync"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"234"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IntegrationPostOutputTemplate"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"client_monitoring_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FILE_CHECK"</span><span class="w">
                    </span><span class="p">},</span><span class="w"> 
                    </span><span class="nt">"os_startup"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"234"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IntegrationPostOutputTemplate"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"client_monitoring_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FILE_CHECK"</span><span class="w">
                    </span><span class="p">},</span><span class="w"> 
                    </span><span class="nt">"gift_card"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"234"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IntegrationPostOutputTemplate"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"client_monitoring_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FILE_CHECK"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">},</span><span class="w"> 
                </span><span class="nt">"customer_attribute_version"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"store_server_prefix"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"time_zone_offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"store_tasks_max_entries_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"client_debug_level"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"client_test_mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"client_upload_logs"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns InStore configuration details of a specific store.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>store/configurations</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>Response Object</td>
<td>Returns InStore configurations of a store</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/store/configurations?format=&lt;xml/json&gt;</code></p>

<h2 id="verify-login-credentials">Verify Login Credentials</h2>
<pre class="highlight html"><code>http://api.capillary.co.in/v1.1/store/login.json
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="nt">&lt;response&gt;</span>
<span class="nt">&lt;status&gt;</span>
<span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
<span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
<span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
<span class="nt">&lt;/status&gt;</span>
<span class="nt">&lt;store&gt;</span>
<span class="nt">&lt;user&gt;</span>
<span class="nt">&lt;username&gt;</span>store.server<span class="nt">&lt;/username&gt;</span>
<span class="nt">&lt;first_name&gt;</span>MSP<span class="nt">&lt;/first_name&gt;</span>
<span class="nt">&lt;last_name&gt;</span>ss<span class="nt">&lt;/last_name&gt;</span>
<span class="nt">&lt;org_name&gt;</span>SS Testing<span class="nt">&lt;/org_name&gt;</span>
<span class="nt">&lt;user_id&gt;</span>4364301<span class="nt">&lt;/user_id&gt;</span>
<span class="nt">&lt;type&gt;</span>STR_SERVER<span class="nt">&lt;/type&gt;</span>
<span class="nt">&lt;org_id&gt;</span>146<span class="nt">&lt;/org_id&gt;</span>
<span class="nt">&lt;server_time&gt;</span>2016-12-14T12:01:41+05:30<span class="nt">&lt;/server_time&gt;</span>
<span class="nt">&lt;store_server_prefix&gt;&lt;/store_server_prefix&gt;</span>
<span class="nt">&lt;associate_login_enabled&gt;</span>
false
<span class="nt">&lt;/associate_login_enabled&gt;</span>
<span class="nt">&lt;/user&gt;</span>
<span class="nt">&lt;/store&gt;</span>
<span class="nt">&lt;/response&gt;</span>

</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"store"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"store.server"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MSP"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ss"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"org_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SS Testing"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4364301"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STR_SERVER"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"org_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"146"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"server_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-12-14T12:01:41+05:30"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"associate_login_enabled"</span><span class="p">:</span><span class="w"> </span><span class="s2">"
false
"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Verifies whether the provided login credentials are valid and if valid, returns the details of current logged in user.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>store/login</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>Response Object</td>
<td>Returns logged in user credentials</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/store/login.&lt;xml/json&gt;</code></p>

<h2 id="response-codes">Response Codes</h2>

<h3 id="success-codes">Success Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>900</td>
<td>Store details retrieved successfully</td>
</tr>
<tr>
<td>900</td>
<td>Report uploaded successfully</td>
</tr>
<tr>
<td>900</td>
<td>Store report retrieved successfully</td>
</tr>
<tr>
<td>910</td>
<td>Tasks retrieved successfully</td>
</tr>
</tbody></table>

<h3 id="error-codes">Error Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>901</td>
<td>Store information retrieval failed</td>
</tr>
<tr>
<td>902</td>
<td>Store identifier is invalid</td>
</tr>
<tr>
<td>903</td>
<td>Unable to fetch store details. No store id is passed</td>
</tr>
<tr>
<td>904</td>
<td>Client log file size does not match with the file size uploaded on server</td>
</tr>
<tr>
<td>905</td>
<td>Client log file signature does not match with the file signature on server</td>
</tr>
<tr>
<td>906</td>
<td>Uploading client log file to file service failed.</td>
</tr>
<tr>
<td>907</td>
<td>Insert client log file metadata in database failed</td>
</tr>
<tr>
<td>908</td>
<td>Tasks retrieval failed</td>
</tr>
<tr>
<td>909</td>
<td>No tasks found</td>
</tr>
<tr>
<td>911</td>
<td>Report type is invalid</td>
</tr>
<tr>
<td>912</td>
<td>Report upload failed</td>
</tr>
<tr>
<td>913</td>
<td>Unable to fetch store details. No identifier is passed</td>
</tr>
<tr>
<td>921</td>
<td>Unable to insert one or more store server stats</td>
</tr>
<tr>
<td>922</td>
<td>Unable to insert the entire store server stats</td>
</tr>
<tr>
<td>923</td>
<td>Unable to insert one or more till diagnostic details</td>
</tr>
<tr>
<td>924</td>
<td>Unable to insert all till diagnostics details</td>
</tr>
</tbody></table>

          <h1 id="product">Product</h1>

<p>The product entity holds all products of an org and product related information such as size, color, type, and brand.  Product APIs allow you to fetch details of a specific product, modify existing details, change brand name for a product and create new attributes for a product.</p>

<h2 id="add-product">Add Product</h2>
<pre class="highlight html"><code>http://us.api.capillarytech.com/v1.1/product/add.json
</code></pre>
<blockquote>
<p>Sample POST Request</p>
</blockquote>
<pre class="highlight xml"><code><span class="nt">&lt;root&gt;</span>
<span class="nt">&lt;product&gt;</span>
            <span class="nt">&lt;sku&gt;</span>31sa84<span class="nt">&lt;/sku&gt;</span>
        <span class="nt">&lt;ean&gt;</span>12ss21<span class="nt">&lt;/ean&gt;</span>
        <span class="nt">&lt;price&gt;</span>22<span class="nt">&lt;/price&gt;</span>
        <span class="nt">&lt;description&gt;</span>adding sample product<span class="nt">&lt;/description&gt;</span>
        <span class="nt">&lt;long_description&gt;</span>Sample description<span class="nt">&lt;/long_description&gt;</span>
        <span class="nt">&lt;img_url&gt;</span>https://nightly.capillary.in/productManagement/Colors<span class="nt">&lt;/img_url&gt;</span>
            <span class="nt">&lt;size&gt;</span>
            <span class="nt">&lt;name&gt;</span>Jeans Shirt<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;/size&gt;</span>
        <span class="nt">&lt;style&gt;</span>
            <span class="nt">&lt;name&gt;</span>test001<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;/style&gt;</span>
        <span class="nt">&lt;brand&gt;</span>
            <span class="nt">&lt;name&gt;</span>BRANDS23<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;/brand&gt;</span>
        <span class="nt">&lt;color&gt;</span>
            <span class="nt">&lt;name&gt;</span>DarkBlue<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;/color&gt;</span>
        <span class="nt">&lt;category&gt;</span>
            <span class="nt">&lt;name&gt;</span>My test21<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;/category&gt;</span>
        <span class="nt">&lt;attributes&gt;</span>
            <span class="nt">&lt;attribute&gt;</span>
                <span class="nt">&lt;name&gt;</span>大伟大12121212<span class="nt">&lt;/name&gt;</span>
                <span class="nt">&lt;value&gt;</span>123<span class="nt">&lt;/value&gt;</span>
            <span class="nt">&lt;/attribute&gt;</span>
            <span class="nt">&lt;attribute&gt;</span>
                <span class="nt">&lt;name&gt;</span>大伟大1212<span class="nt">&lt;/name&gt;</span>
                <span class="nt">&lt;value&gt;</span>12hjha<span class="nt">&lt;/value&gt;</span>
            <span class="nt">&lt;/attribute&gt;</span>
        <span class="nt">&lt;/attributes&gt;</span>
        <span class="nt">&lt;/product&gt;</span>
<span class="nt">&lt;/root&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"root"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"product"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nt">"sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"31sa84"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"ean"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12ss21"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"22"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"adding sample product"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"long_description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample description"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"img_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://nightly.capillary.in/productManagement/Colors"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"size"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jeans Shirt"</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="nt">"style"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test001"</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="nt">"brand"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRANDS23"</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="nt">"color"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DarkBlue"</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="nt">"category"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My test21"</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"attribute"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"大伟大12121212"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"大伟大1212"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12hjha"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="nt">&lt;response&gt;</span>
    <span class="nt">&lt;status&gt;</span>
        <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
        <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/status&gt;</span>
    <span class="nt">&lt;product&gt;</span>
        <span class="nt">&lt;sku&gt;</span>31sa84<span class="nt">&lt;/sku&gt;</span>
        <span class="nt">&lt;ean&gt;</span>12ss21<span class="nt">&lt;/ean&gt;</span>
        <span class="nt">&lt;price&gt;</span>22<span class="nt">&lt;/price&gt;</span>
        <span class="nt">&lt;description&gt;</span>adding sample product<span class="nt">&lt;/description&gt;</span>
        <span class="nt">&lt;long_description&gt;</span>Sample description<span class="nt">&lt;/long_description&gt;</span>
        <span class="nt">&lt;img_url&gt;</span>https://nightly.capillary.in/productManagement/Colors<span class="nt">&lt;/img_url&gt;</span>
        <span class="nt">&lt;size&gt;</span>
            <span class="nt">&lt;name&gt;</span>Jeans Shirt<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;/size&gt;</span>
        <span class="nt">&lt;style&gt;</span>
            <span class="nt">&lt;name&gt;</span>test001<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;/style&gt;</span>
        <span class="nt">&lt;brand&gt;</span>
            <span class="nt">&lt;name&gt;</span>BRANDS23<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;/brand&gt;</span>
        <span class="nt">&lt;color&gt;</span>
            <span class="nt">&lt;name&gt;</span>DarkBlue<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;/color&gt;</span>
        <span class="nt">&lt;category&gt;</span>
            <span class="nt">&lt;name&gt;</span>My test21<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;/category&gt;</span>
        <span class="nt">&lt;attributes&gt;</span>
            <span class="nt">&lt;attribute&gt;</span>
                <span class="nt">&lt;name&gt;</span>大伟大12121212<span class="nt">&lt;/name&gt;</span>
                <span class="nt">&lt;value&gt;</span>123<span class="nt">&lt;/value&gt;</span>
            <span class="nt">&lt;/attribute&gt;</span>
            <span class="nt">&lt;attribute&gt;</span>
                <span class="nt">&lt;name&gt;</span>大伟大1212<span class="nt">&lt;/name&gt;</span>
                <span class="nt">&lt;value&gt;</span>12hjha<span class="nt">&lt;/value&gt;</span>
            <span class="nt">&lt;/attribute&gt;</span>
        <span class="nt">&lt;/attributes&gt;</span>
        <span class="nt">&lt;item_status&gt;</span>
            <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
            <span class="nt">&lt;code&gt;</span>9100<span class="nt">&lt;/code&gt;</span>
            <span class="nt">&lt;message&gt;</span>Product added successfully<span class="nt">&lt;/message&gt;</span>
        <span class="nt">&lt;/item_status&gt;</span>
    <span class="nt">&lt;/product&gt;</span>
<span class="nt">&lt;/response&gt;</span>

</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"product"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"31sa84"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"ean"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12ss21"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"22"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"adding sample product"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"long_description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample description"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"img_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://nightly.capillary.in/productManagement/Colors"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"size"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jeans Shirt"</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="nt">"style"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test001"</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="nt">"brand"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRANDS23"</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="nt">"color"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DarkBlue"</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="nt">"category"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My test21"</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"attribute"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"大伟大12121212"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"大伟大1212"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12hjha"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9100"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Product added successfully"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Allows you to add product to the inventory.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>product/add</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>POST</td>
</tr>
<tr>
<td>Response Object</td>
<td>Adds product to the inventory</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/product/add.&lt;xml/json&gt;</code></p>

<h2 id="retrieve-products">Retrieve Products</h2>
<pre class="highlight html"><code># Sample Request
http://us.api.capillarytech.com/v1.1/product/search?q=(color%3AIN%3ABlack%3BBlue%3BGreen%7Csize%3AEQUALS%3AXL%7Cprice%3ARANGE%3A2000%3B4000%7Cdepartment%3AEQUALS%3AMen)<span class="err">&amp;</span>format=xml
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;response&gt;</span>
    <span class="nt">&lt;status&gt;</span>
        <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
        <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;message&gt;</span>Some requests have failed due to errors<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/status&gt;</span>
    <span class="nt">&lt;product&gt;</span>
        <span class="nt">&lt;count&gt;</span>454<span class="nt">&lt;/count&gt;</span>
        <span class="nt">&lt;start</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;rows&gt;</span>2<span class="nt">&lt;/rows&gt;</span>
        <span class="nt">&lt;results&gt;</span>
            <span class="nt">&lt;item&gt;</span>
                <span class="nt">&lt;id&gt;</span>16391993<span class="nt">&lt;/id&gt;</span>
                <span class="nt">&lt;org_id&gt;</span>146<span class="nt">&lt;/org_id&gt;</span>
                <span class="nt">&lt;sku&gt;</span>3008810301<span class="nt">&lt;/sku&gt;</span>
                <span class="nt">&lt;in_stock&gt;</span>true<span class="nt">&lt;/in_stock&gt;</span>
                <span class="nt">&lt;price&gt;</span>455<span class="nt">&lt;/price&gt;</span>
                <span class="nt">&lt;description&gt;</span>PE SHIRT<span class="nt">&lt;/description&gt;</span>
                <span class="nt">&lt;img_url&gt;</span>http://testing.capillary.in/images/trouser.jpg<span class="nt">&lt;/img_url&gt;</span>
                <span class="nt">&lt;attributes&gt;</span>
                    <span class="nt">&lt;attribute&gt;</span>
                        <span class="nt">&lt;name&gt;</span>Group<span class="nt">&lt;/name&gt;</span>
                        <span class="nt">&lt;value&gt;</span>Peter England<span class="nt">&lt;/value&gt;</span>
                    <span class="nt">&lt;/attribute&gt;</span>
                    <span class="nt">&lt;attribute&gt;</span>
                        <span class="nt">&lt;name&gt;</span>Size<span class="nt">&lt;/name&gt;</span>
                        <span class="nt">&lt;value&gt;</span>XXL<span class="nt">&lt;/value&gt;</span>
                    <span class="nt">&lt;/attribute&gt;</span>
                <span class="nt">&lt;/attributes&gt;</span>
            <span class="nt">&lt;/item&gt;</span>
            <span class="nt">&lt;item&gt;</span>
                <span class="nt">&lt;id&gt;</span>16391999<span class="nt">&lt;/id&gt;</span>
                <span class="nt">&lt;org_id&gt;</span>146<span class="nt">&lt;/org_id&gt;</span>
                <span class="nt">&lt;sku&gt;</span>3008811101<span class="nt">&lt;/sku&gt;</span>
                <span class="nt">&lt;in_stock&gt;</span>true<span class="nt">&lt;/in_stock&gt;</span>
                <span class="nt">&lt;price&gt;</span>455<span class="nt">&lt;/price&gt;</span>
                <span class="nt">&lt;description&gt;</span>PE SHIRT<span class="nt">&lt;/description&gt;</span>
                <span class="nt">&lt;img_url&gt;</span>http://testing.capillary.in/images/trouser.jpg<span class="nt">&lt;/img_url&gt;</span>
                <span class="nt">&lt;attributes&gt;</span>
                    <span class="nt">&lt;attribute&gt;</span>
                        <span class="nt">&lt;name&gt;</span>Group<span class="nt">&lt;/name&gt;</span>
                        <span class="nt">&lt;value&gt;</span>Peter England<span class="nt">&lt;/value&gt;</span>
                    <span class="nt">&lt;/attribute&gt;</span>
                    <span class="nt">&lt;attribute&gt;</span>
                        <span class="nt">&lt;name&gt;</span>Department<span class="nt">&lt;/name&gt;</span>
                        <span class="nt">&lt;value&gt;</span>Peter England Main Line<span class="nt">&lt;/value&gt;</span>
                    <span class="nt">&lt;/attribute&gt;</span>
                <span class="nt">&lt;/attributes&gt;</span>
            <span class="nt">&lt;/item&gt;</span>
        <span class="nt">&lt;/results&gt;</span>
    <span class="nt">&lt;/product&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Some requests have failed due to errors"</span><span class="w">
        </span><span class="p">},</span><span class="w"> 
        </span><span class="nt">"product"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"454"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"rows"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16391993"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"org_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"146"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3008810301"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"in_stock"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PE SHIRT"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"img_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://testing.capillary.in/images/trouser.jpg"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nt">"attribute"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                                </span><span class="p">{</span><span class="w">
                                    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Group"</span><span class="p">,</span><span class="w"> 
                                    </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Peter England"</span><span class="w">
                                </span><span class="p">},</span><span class="w"> 
                                </span><span class="p">{</span><span class="w">
                                    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Size"</span><span class="p">,</span><span class="w"> 
                                    </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXL"</span><span class="w">
                                </span><span class="p">}</span><span class="w">
                            </span><span class="p">]</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">},</span><span class="w"> 
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16391999"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"org_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"146"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3008811101"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"in_stock"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PE SHIRT"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"img_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://testing.capillary.in/images/trouser.jpg"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nt">"attribute"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                                </span><span class="p">{</span><span class="w">
                                    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Group"</span><span class="p">,</span><span class="w"> 
                                    </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Peter England"</span><span class="w">
                                </span><span class="p">},</span><span class="w"> 
                                </span><span class="p">{</span><span class="w">
                                    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Department"</span><span class="p">,</span><span class="w"> 
                                    </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Peter England Main Line"</span><span class="w">
                                </span><span class="p">}</span><span class="w">
                            </span><span class="p">]</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Retrieve products available at the current org based on the query params such as SKU, quantity, price, item status, images, attributes and so on.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>product/searchs</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>Response Object</td>
<td>Returns details of a specific inventory</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-parameters">Request Parameters</h3>

<p>Attributes like price, item_sku, description, img_url are common for all the orgs.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>org_id</td>
<td>Returns all products of the organization</td>
</tr>
<tr>
<td>sku</td>
<td>Returns products having the specified SKUs</td>
</tr>
<tr>
<td>item_ean</td>
<td>Returns product(s)  with the specified European Article Number</td>
</tr>
<tr>
<td>price</td>
<td>Returns products with the specified price</td>
</tr>
<tr>
<td>added_on</td>
<td>Returns products added on a specific date</td>
</tr>
<tr>
<td>User Defined Attributes</td>
<td>Apart from the predefined attributes mentioned above, you can also use custom attributes configured for your organization</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/product/search?q=(&lt;searchquerystring&gt;)&amp;format=&lt;xml/json&gt;</code></p>

<h3 id="search-query-string">Search Query String</h3>

<p>Standard Query: <code class="prettyprint">attribute:OPERATOR:value</code></p>

<p>Search Query String is the URL encoded string containing the parameters used for searching. You can pass multiple params in the query with fixed operators separating each query string with <code class="prettyprint">|</code></p>

<p>For instance, assume that you want to retrieve all the products which matches any of the following </p>

<ul>
<li>Color: Black, blue, or green</li>
<li>Size XL, </li>
<li>Price range: 2000 - 4000</li>
<li>Department: Men</li>
</ul>

<p>Then the query string would be as shown below:</p>

<p><code class="prettyprint">q=(color:IN:Black;Blue;Green|size:EQUALS:XL|price:RANGE:2000;4000|department:EQUALS:Men)</code></p>

<p><strong>URL Encoded String</strong>:</p>

<p><code class="prettyprint">color%3AIN%3ABlack%3BBlue%3BGreen%7Csize%3AEQUALS%3AXL%7Cprice%3ARANGE%3A2000%3B4000%7Cdepartment%3AEQUALS%3AMen</code></p>

<p><strong>Request URL</strong>: http://<cluster url>/v1.1/product/search?q=(color%3ain%3ablack%3bblue%3bgreen%7csize%3aequals%3axl%7cprice%3arange%3a2000%3b4000%7cdepartment%3aequals%3amen)&amp;format=<xml/json></p>

<aside class="warning">The following characters are not supported in search queries as they have a special meaning in search grammar. <br>
`+ - && || ! ( ) { } [ ] ^ &ldquo; ~ * ? : `
</aside>

<h2 id="retrieve-products-details">Retrieve Products Details</h2>
<pre class="highlight html"><code># Sample Request
http://api.capillary.co.in/v1.1/product/get?sku=13213131,22345<span class="err">&amp;</span>format=json
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;response&gt;</span>
    <span class="nt">&lt;status&gt;</span>
        <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
        <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;message&gt;</span>Some requests have failed due to errors<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/status&gt;</span>
    <span class="nt">&lt;product&gt;</span>
        <span class="nt">&lt;item&gt;</span>
            <span class="nt">&lt;sku&gt;</span>1331212<span class="nt">&lt;/sku&gt;</span>
            <span class="nt">&lt;price&gt;</span>3000<span class="nt">&lt;/price&gt;</span>
            <span class="nt">&lt;img_url&gt;</span>http://cdn.capillary.co.in/232424234.jpg<span class="nt">&lt;/img_url&gt;</span>
            <span class="nt">&lt;in_stock&gt;</span>true<span class="nt">&lt;/in_stock&gt;</span>
            <span class="nt">&lt;description&gt;</span>Trousers<span class="nt">&lt;/description&gt;</span>
            <span class="nt">&lt;attributes&gt;</span>
                <span class="nt">&lt;attribute&gt;</span>
                    <span class="nt">&lt;name&gt;</span>Color<span class="nt">&lt;/name&gt;</span>
                    <span class="nt">&lt;value&gt;</span>Black<span class="nt">&lt;/value&gt;</span>
                <span class="nt">&lt;/attribute&gt;</span>
                <span class="nt">&lt;attribute&gt;</span>
                    <span class="nt">&lt;name&gt;</span>Size<span class="nt">&lt;/name&gt;</span>
                    <span class="nt">&lt;value&gt;</span>XXL<span class="nt">&lt;/value&gt;</span>
                <span class="nt">&lt;/attribute&gt;</span>
            <span class="nt">&lt;/attributes&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
                <span class="nt">&lt;status&gt;</span>true<span class="nt">&lt;/status&gt;</span>
                <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
                <span class="nt">&lt;message&gt;</span>Operation Successful<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
        <span class="nt">&lt;/item&gt;</span>
    <span class="nt">&lt;/product&gt;</span>
<span class="nt">&lt;/response&gt;</span>
</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Some requests have failed due to errors"</span><span class="w">
        </span><span class="p">},</span><span class="w"> 
        </span><span class="nt">"product"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1331212"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3000"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"img_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://cdn.capillary.co.in/232424234.jpg"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"in_stock"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Trousers"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"attribute"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="p">{</span><span class="w">
                            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Color"</span><span class="p">,</span><span class="w"> 
                            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Black"</span><span class="w">
                        </span><span class="p">},</span><span class="w"> 
                        </span><span class="p">{</span><span class="w">
                            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Size"</span><span class="p">,</span><span class="w"> 
                            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXL"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">]</span><span class="w">
                </span><span class="p">},</span><span class="w"> 
                </span><span class="nt">"item_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns the details of a specific product. You can retrieve details of multiple products at a time.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>product/get</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>Response Object</td>
<td>Returns product details</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>sku</td>
<td>Returns products based on the SKU passed</td>
</tr>
<tr>
<td>id</td>
<td>Returns products based on the product id. This id is assigned by Capillary when each product is added to the Capillary server</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/product/get?format=xml&amp;&lt;query_parameters&gt;</code></p>

<h2 id="retrieve-product-categories">Retrieve Product Categories</h2>
<pre class="highlight html"><code>http://us.api.capillarytech.com/v1.1/product/categories?format=json
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code>
<span class="nt">&lt;response&gt;</span>
   <span class="nt">&lt;status&gt;</span>
      <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
      <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
      <span class="nt">&lt;message&gt;</span>SUCCESS<span class="nt">&lt;/message&gt;</span>
   <span class="nt">&lt;/status&gt;</span>
   <span class="nt">&lt;product&gt;</span>
      <span class="nt">&lt;count&gt;</span>20<span class="nt">&lt;/count&gt;</span>
      <span class="nt">&lt;categories&gt;</span>
         <span class="nt">&lt;category&gt;</span>
            <span class="nt">&lt;name&gt;</span>AAA<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;label&gt;</span>a1<span class="nt">&lt;/label&gt;</span>
            <span class="nt">&lt;description&gt;</span>aa13<span class="nt">&lt;/description&gt;</span>
            <span class="nt">&lt;parent_name</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;parent_label</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
               <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
               <span class="nt">&lt;code&gt;</span>9172<span class="nt">&lt;/code&gt;</span>
               <span class="nt">&lt;message&gt;</span>Category retrieval successful<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
         <span class="nt">&lt;/category&gt;</span>
         <span class="nt">&lt;category&gt;</span>
            <span class="nt">&lt;name&gt;</span>BBB<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;label&gt;</span>b1<span class="nt">&lt;/label&gt;</span>
            <span class="nt">&lt;description&gt;</span>bb13<span class="nt">&lt;/description&gt;</span>
            <span class="nt">&lt;parent_name</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;parent_label</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
               <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
               <span class="nt">&lt;code&gt;</span>9172<span class="nt">&lt;/code&gt;</span>
               <span class="nt">&lt;message&gt;</span>Category retrieval successful<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
         <span class="nt">&lt;/category&gt;</span>
         <span class="nt">&lt;category&gt;</span>
            <span class="nt">&lt;name&gt;</span>EEE<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;label&gt;</span>e1<span class="nt">&lt;/label&gt;</span>
            <span class="nt">&lt;description&gt;</span>ee13<span class="nt">&lt;/description&gt;</span>
            <span class="nt">&lt;parent_name</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;parent_label</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
               <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
               <span class="nt">&lt;code&gt;</span>9172<span class="nt">&lt;/code&gt;</span>
               <span class="nt">&lt;message&gt;</span>Category retrieval successful<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
         <span class="nt">&lt;/category&gt;</span>
         <span class="nt">&lt;category&gt;</span>
            <span class="nt">&lt;name&gt;</span>ZZZ<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;label&gt;</span>z1<span class="nt">&lt;/label&gt;</span>
            <span class="nt">&lt;description&gt;</span>zz13<span class="nt">&lt;/description&gt;</span>
            <span class="nt">&lt;parent_name&gt;</span>AAA<span class="nt">&lt;/parent_name&gt;</span>
            <span class="nt">&lt;parent_label&gt;</span>a1<span class="nt">&lt;/parent_label&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
               <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
               <span class="nt">&lt;code&gt;</span>9172<span class="nt">&lt;/code&gt;</span>
               <span class="nt">&lt;message&gt;</span>Category retrieval successful<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
         <span class="nt">&lt;/category&gt;</span>
         <span class="nt">&lt;category&gt;</span>
            <span class="nt">&lt;name&gt;</span>LLL<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;label&gt;</span>l1<span class="nt">&lt;/label&gt;</span>
            <span class="nt">&lt;description&gt;</span>ll13<span class="nt">&lt;/description&gt;</span>
            <span class="nt">&lt;parent_name&gt;</span>KKK<span class="nt">&lt;/parent_name&gt;</span>
            <span class="nt">&lt;parent_label&gt;</span>k1<span class="nt">&lt;/parent_label&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
               <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
               <span class="nt">&lt;code&gt;</span>9172<span class="nt">&lt;/code&gt;</span>
               <span class="nt">&lt;message&gt;</span>Category retrieval successful<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
         <span class="nt">&lt;/category&gt;</span>
         <span class="nt">&lt;category&gt;</span>
            <span class="nt">&lt;name&gt;</span>NNN<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;label&gt;</span>n1<span class="nt">&lt;/label&gt;</span>
            <span class="nt">&lt;description&gt;</span>nn13<span class="nt">&lt;/description&gt;</span>
            <span class="nt">&lt;parent_name&gt;</span>MMM<span class="nt">&lt;/parent_name&gt;</span>
            <span class="nt">&lt;parent_label&gt;</span>m1<span class="nt">&lt;/parent_label&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
               <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
               <span class="nt">&lt;code&gt;</span>9172<span class="nt">&lt;/code&gt;</span>
               <span class="nt">&lt;message&gt;</span>Category retrieval successful<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
         <span class="nt">&lt;/category&gt;</span>
      <span class="nt">&lt;/categories&gt;</span>
   <span class="nt">&lt;/product&gt;</span>
<span class="nt">&lt;/response&gt;</span>

</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"SUCCESS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"product"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">20</span><span class="p">,</span><span class="w">
      </span><span class="nt">"categories"</span><span class="p">:{</span><span class="w">
        </span><span class="nt">"category"</span><span class="p">:[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"AAA"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"label"</span><span class="p">:</span><span class="s2">"a1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">"aa13"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"parent_name"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"parent_label"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:{</span><span class="w">
              </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">9172</span><span class="p">,</span><span class="w">
              </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Category retrieval successful"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"BBB"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"label"</span><span class="p">:</span><span class="s2">"b1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">"bb13"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"parent_name"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"parent_label"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:{</span><span class="w">
              </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">9172</span><span class="p">,</span><span class="w">
              </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Category retrieval successful"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"EEE"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"label"</span><span class="p">:</span><span class="s2">"e1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">"ee13"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"parent_name"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"parent_label"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:{</span><span class="w">
              </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">9172</span><span class="p">,</span><span class="w">
              </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Category retrieval successful"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"ZZZ"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"label"</span><span class="p">:</span><span class="s2">"z1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">"zz13"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"parent_name"</span><span class="p">:</span><span class="s2">"AAA"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"parent_label"</span><span class="p">:</span><span class="s2">"a1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:{</span><span class="w">
              </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">9172</span><span class="p">,</span><span class="w">
              </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Category retrieval successful"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"LLL"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"label"</span><span class="p">:</span><span class="s2">"l1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">"ll13"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"parent_name"</span><span class="p">:</span><span class="s2">"KKK"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"parent_label"</span><span class="p">:</span><span class="s2">"k1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:{</span><span class="w">
              </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">9172</span><span class="p">,</span><span class="w">
              </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Category retrieval successful"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"NNN"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"label"</span><span class="p">:</span><span class="s2">"n1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">"nn13"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"parent_name"</span><span class="p">:</span><span class="s2">"MMM"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"parent_label"</span><span class="p">:</span><span class="s2">"m1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:{</span><span class="w">
              </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">9172</span><span class="p">,</span><span class="w">
              </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Category retrieval successful"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Retrieves the details of all product categories.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>product/categories</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;Cluster URL&gt;/v1.1/product/categories?&lt;Request Params&gt;&amp;format=&lt;xml/json&gt;</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>include_id</td>
<td>Retrieves category ids of each category fetched. Value: true/false</td>
</tr>
<tr>
<td>values</td>
<td>Retrieves all child categories if values=true</td>
</tr>
<tr>
<td>name</td>
<td>Retrieves the details of a specific product category based on the category name passed (not case sensitive)</td>
</tr>
<tr>
<td>parent_name</td>
<td>Retrieves the details of a specific product category and its child categories  based on the parent category name passed</td>
</tr>
<tr>
<td>id</td>
<td>Retrieves the details of a specific product category based on the product id</td>
</tr>
<tr>
<td>parent_id</td>
<td>Retrieves the details of a specific product category and its child categories based on the parent product id passed</td>
</tr>
<tr>
<td>limit</td>
<td>Limits the number of product categories to be retrieved</td>
</tr>
</tbody></table>

<h2 id="retrieve-product-brands">Retrieve Product Brands</h2>
<pre class="highlight html"><code>http://us.api.capillarytech.com/v1.1/product/brands?format=json
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;response&gt;</span>
   <span class="nt">&lt;status&gt;</span>
      <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
      <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
      <span class="nt">&lt;message&gt;</span>Success<span class="nt">&lt;/message&gt;</span>
   <span class="nt">&lt;/status&gt;</span>
   <span class="nt">&lt;product&gt;</span>
      <span class="nt">&lt;count&gt;</span>6<span class="nt">&lt;/count&gt;</span>
      <span class="nt">&lt;brands&gt;</span>
         <span class="nt">&lt;brand&gt;</span>
            <span class="nt">&lt;name&gt;</span>AA<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;label&gt;</span>a1<span class="nt">&lt;/label&gt;</span>
            <span class="nt">&lt;description&gt;</span>aaaa<span class="nt">&lt;/description&gt;</span>
            <span class="nt">&lt;parent_name</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;parent_label</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
               <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
               <span class="nt">&lt;code&gt;</span>9160<span class="nt">&lt;/code&gt;</span>
               <span class="nt">&lt;message&gt;</span>Brand retrieval successful<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
         <span class="nt">&lt;/brand&gt;</span>
         <span class="nt">&lt;brand&gt;</span>
            <span class="nt">&lt;name&gt;</span>BB<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;label&gt;</span>b1<span class="nt">&lt;/label&gt;</span>
            <span class="nt">&lt;description&gt;</span>bbbb<span class="nt">&lt;/description&gt;</span>
            <span class="nt">&lt;parent_name&gt;</span>AA<span class="nt">&lt;/parent_name&gt;</span>
            <span class="nt">&lt;parent_label&gt;</span>a1<span class="nt">&lt;/parent_label&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
               <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
               <span class="nt">&lt;code&gt;</span>9160<span class="nt">&lt;/code&gt;</span>
               <span class="nt">&lt;message&gt;</span>Brand retrieval successful<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
         <span class="nt">&lt;/brand&gt;</span>
         <span class="nt">&lt;brand&gt;</span>
            <span class="nt">&lt;name&gt;</span>CC<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;label&gt;</span>c1<span class="nt">&lt;/label&gt;</span>
            <span class="nt">&lt;description&gt;</span>cccc<span class="nt">&lt;/description&gt;</span>
            <span class="nt">&lt;parent_name&gt;</span>BB<span class="nt">&lt;/parent_name&gt;</span>
            <span class="nt">&lt;parent_label&gt;</span>b1<span class="nt">&lt;/parent_label&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
               <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
               <span class="nt">&lt;code&gt;</span>9160<span class="nt">&lt;/code&gt;</span>
               <span class="nt">&lt;message&gt;</span>Brand retrieval successful<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
         <span class="nt">&lt;/brand&gt;</span>
         <span class="nt">&lt;brand&gt;</span>
            <span class="nt">&lt;name&gt;</span>DD<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;label&gt;</span>d1<span class="nt">&lt;/label&gt;</span>
            <span class="nt">&lt;description&gt;</span>dddd<span class="nt">&lt;/description&gt;</span>
            <span class="nt">&lt;parent_name&gt;</span>BB<span class="nt">&lt;/parent_name&gt;</span>
            <span class="nt">&lt;parent_label&gt;</span>b1<span class="nt">&lt;/parent_label&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
               <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
               <span class="nt">&lt;code&gt;</span>9160<span class="nt">&lt;/code&gt;</span>
               <span class="nt">&lt;message&gt;</span>Brand retrieval successful<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
         <span class="nt">&lt;/brand&gt;</span>
      <span class="nt">&lt;/brands&gt;</span>
   <span class="nt">&lt;/product&gt;</span>
<span class="nt">&lt;/response&gt;</span>


</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Success"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"product"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="w">
      </span><span class="nt">"brands"</span><span class="p">:{</span><span class="w">
        </span><span class="nt">"brand"</span><span class="p">:[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"AA"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"label"</span><span class="p">:</span><span class="s2">"a1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">"aaaa"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"parent_name"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"parent_label"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:{</span><span class="w">
              </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">9160</span><span class="p">,</span><span class="w">
              </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Brand retrieval successful"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"BB"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"label"</span><span class="p">:</span><span class="s2">"b1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">"bbbb"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"parent_name"</span><span class="p">:</span><span class="s2">"AA"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"parent_label"</span><span class="p">:</span><span class="s2">"a1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:{</span><span class="w">
              </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">9160</span><span class="p">,</span><span class="w">
              </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Brand retrieval successful"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"CC"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"label"</span><span class="p">:</span><span class="s2">"c1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">"cccc"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"parent_name"</span><span class="p">:</span><span class="s2">"BB"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"parent_label"</span><span class="p">:</span><span class="s2">"b1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:{</span><span class="w">
              </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">9160</span><span class="p">,</span><span class="w">
              </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Brand retrieval successful"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"DD"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"label"</span><span class="p">:</span><span class="s2">"d1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">"dddd"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"parent_name"</span><span class="p">:</span><span class="s2">"BB"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"parent_label"</span><span class="p">:</span><span class="s2">"b1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:{</span><span class="w">
              </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">9160</span><span class="p">,</span><span class="w">
              </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Brand retrieval successful"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">         
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Retrieves the details of all product brands created for the org.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>product/brands</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/product/brands?&lt;request params&gt;&amp;format=&lt;xml/json&gt;</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>include_id</td>
<td>Retrieves the brand id if include_id is passed as true. Value: true/false</td>
</tr>
<tr>
<td>name</td>
<td>Retrieves the details of the specific brand based on the name passed(name is not case sensitive)</td>
</tr>
<tr>
<td>parent_name</td>
<td>Retrieves the details of a specific parent brand and its child brands based on the brand name passed</td>
</tr>
<tr>
<td>id</td>
<td>Retrieves the details of a specific brand based on the brand id passed</td>
</tr>
<tr>
<td>parent_id</td>
<td>Retrieves the details of a specific parent brand and its child brands based on the parent brand id passed</td>
</tr>
<tr>
<td>limit</td>
<td>Limits the number of brands to be retrieved per request</td>
</tr>
</tbody></table>

<h2 id="retrieve-product-colors">Retrieve Product Colors</h2>
<pre class="highlight html"><code>http://us/api.capillarytech.com/v1.1/product/colors?format=json
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Success"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"product"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">20</span><span class="p">,</span><span class="w">
      </span><span class="nt">"colors"</span><span class="p">:{</span><span class="w">
        </span><span class="nt">"color"</span><span class="p">:[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"pallette"</span><span class="p">:</span><span class="s2">"000000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Black"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:{</span><span class="w">
              </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">9178</span><span class="p">,</span><span class="w">
              </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Color retrieval successful"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"pallette"</span><span class="p">:</span><span class="s2">"000080"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Navy"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:{</span><span class="w">
              </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">9178</span><span class="p">,</span><span class="w">
              </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Color retrieval successful"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"pallette"</span><span class="p">:</span><span class="s2">"00bfff"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"DeepSkyBlue"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:{</span><span class="w">
              </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">9178</span><span class="p">,</span><span class="w">
              </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Color retrieval successful"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml"><code>

<span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;response&gt;</span>
   <span class="nt">&lt;status&gt;</span>
      <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
      <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
      <span class="nt">&lt;message&gt;</span>Success<span class="nt">&lt;/message&gt;</span>
   <span class="nt">&lt;/status&gt;</span>
   <span class="nt">&lt;product&gt;</span>
      <span class="nt">&lt;count&gt;</span>20<span class="nt">&lt;/count&gt;</span>
      <span class="nt">&lt;colors&gt;</span>
         <span class="nt">&lt;color&gt;</span>
            <span class="nt">&lt;pallette&gt;</span>000000<span class="nt">&lt;/pallette&gt;</span>
            <span class="nt">&lt;name&gt;</span>Black<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
               <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
               <span class="nt">&lt;code&gt;</span>9178<span class="nt">&lt;/code&gt;</span>
               <span class="nt">&lt;message&gt;</span>Color retrieval successful<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
         <span class="nt">&lt;/color&gt;</span>
         <span class="nt">&lt;color&gt;</span>
            <span class="nt">&lt;pallette&gt;</span>000080<span class="nt">&lt;/pallette&gt;</span>
            <span class="nt">&lt;name&gt;</span>Navy<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
               <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
               <span class="nt">&lt;code&gt;</span>9178<span class="nt">&lt;/code&gt;</span>
               <span class="nt">&lt;message&gt;</span>Color retrieval successful<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
         <span class="nt">&lt;/color&gt;</span>
         <span class="nt">&lt;color&gt;</span>
            <span class="nt">&lt;pallette&gt;</span>00bfff<span class="nt">&lt;/pallette&gt;</span>
            <span class="nt">&lt;name&gt;</span>DeepSkyBlue<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
               <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
               <span class="nt">&lt;code&gt;</span>9178<span class="nt">&lt;/code&gt;</span>
               <span class="nt">&lt;message&gt;</span>Color retrieval successful<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
         <span class="nt">&lt;/color&gt;</span>
      <span class="nt">&lt;/colors&gt;</span>
   <span class="nt">&lt;/product&gt;</span>
<span class="nt">&lt;/response&gt;</span>

</code></pre>
<p>Retrieves the details of all product colors configured for the org.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>product/colors</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;Cluster URL&gt;/v1.1/product/colors?&lt;Request Params&gt;&amp;format=&lt;xml/json&gt;</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pallette</td>
<td>Retrieves the details of a specific color. Pass the hexa code of the color that you want to fetch.</td>
</tr>
<tr>
<td>limit</td>
<td>Limits the number of entries to be retrieved</td>
</tr>
</tbody></table>

<h2 id="retrieve-product-sizes">Retrieve Product Sizes</h2>
<pre class="highlight html"><code>http://us.api.capillarytech.com/v1.1/product/sizes?format=json
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code>

<span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;response&gt;</span>
   <span class="nt">&lt;status&gt;</span>
      <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
      <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
      <span class="nt">&lt;message&gt;</span>Success<span class="nt">&lt;/message&gt;</span>
   <span class="nt">&lt;/status&gt;</span>
   <span class="nt">&lt;product&gt;</span>
      <span class="nt">&lt;count&gt;</span>7<span class="nt">&lt;/count&gt;</span>
      <span class="nt">&lt;sizes&gt;</span>
         <span class="nt">&lt;size&gt;</span>
            <span class="nt">&lt;name&gt;</span>L<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;label&gt;</span>large<span class="nt">&lt;/label&gt;</span>
            <span class="nt">&lt;canonical_name&gt;</span>Large<span class="nt">&lt;/canonical_name&gt;</span>
            <span class="nt">&lt;description</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;size_family&gt;</span>US<span class="nt">&lt;/size_family&gt;</span>
            <span class="nt">&lt;type&gt;</span>Mens Shirt<span class="nt">&lt;/type&gt;</span>
            <span class="nt">&lt;parent_canonical_name&gt;</span>40<span class="nt">&lt;/parent_canonical_name&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
               <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
               <span class="nt">&lt;code&gt;</span>9130<span class="nt">&lt;/code&gt;</span>
               <span class="nt">&lt;message&gt;</span>Size retrieval successful<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
         <span class="nt">&lt;/size&gt;</span>
         <span class="nt">&lt;size&gt;</span>
            <span class="nt">&lt;name&gt;</span>M<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;label&gt;</span>medium<span class="nt">&lt;/label&gt;</span>
            <span class="nt">&lt;canonical_name&gt;</span>Medium<span class="nt">&lt;/canonical_name&gt;</span>
            <span class="nt">&lt;description</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;size_family&gt;</span>US<span class="nt">&lt;/size_family&gt;</span>
            <span class="nt">&lt;type&gt;</span>Mens Shirt<span class="nt">&lt;/type&gt;</span>
            <span class="nt">&lt;parent_canonical_name&gt;</span>38<span class="nt">&lt;/parent_canonical_name&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
               <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
               <span class="nt">&lt;code&gt;</span>9130<span class="nt">&lt;/code&gt;</span>
               <span class="nt">&lt;message&gt;</span>Size retrieval successful<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
         <span class="nt">&lt;/size&gt;</span>
         <span class="nt">&lt;size&gt;</span>
            <span class="nt">&lt;name&gt;</span>S<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;label&gt;</span>small<span class="nt">&lt;/label&gt;</span>
            <span class="nt">&lt;canonical_name&gt;</span>Small<span class="nt">&lt;/canonical_name&gt;</span>
            <span class="nt">&lt;description</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;size_family&gt;</span>US<span class="nt">&lt;/size_family&gt;</span>
            <span class="nt">&lt;type&gt;</span>Mens Shirt<span class="nt">&lt;/type&gt;</span>
            <span class="nt">&lt;parent_canonical_name&gt;</span>37<span class="nt">&lt;/parent_canonical_name&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
               <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
               <span class="nt">&lt;code&gt;</span>9130<span class="nt">&lt;/code&gt;</span>
               <span class="nt">&lt;message&gt;</span>Size retrieval successful<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
         <span class="nt">&lt;/size&gt;</span>
      <span class="nt">&lt;/sizes&gt;</span>
   <span class="nt">&lt;/product&gt;</span>
<span class="nt">&lt;/response&gt;</span>


</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Success"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"product"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">7</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sizes"</span><span class="p">:{</span><span class="w">
        </span><span class="nt">"size"</span><span class="p">:[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"L"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"label"</span><span class="p">:</span><span class="s2">"large"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"canonical_name"</span><span class="p">:</span><span class="s2">"Large"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"size_family"</span><span class="p">:</span><span class="s2">"US"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"Mens Shirt"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"parent_canonical_name"</span><span class="p">:</span><span class="s2">"40"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:{</span><span class="w">
              </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">9130</span><span class="p">,</span><span class="w">
              </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Size retrieval successful"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"M"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"label"</span><span class="p">:</span><span class="s2">"medium"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"canonical_name"</span><span class="p">:</span><span class="s2">"Medium"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"size_family"</span><span class="p">:</span><span class="s2">"US"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"Mens Shirt"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"parent_canonical_name"</span><span class="p">:</span><span class="s2">"38"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:{</span><span class="w">
              </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">9130</span><span class="p">,</span><span class="w">
              </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Size retrieval successful"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"S"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"label"</span><span class="p">:</span><span class="s2">"small"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"canonical_name"</span><span class="p">:</span><span class="s2">"Small"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"size_family"</span><span class="p">:</span><span class="s2">"US"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"Mens Shirt"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"parent_canonical_name"</span><span class="p">:</span><span class="s2">"37"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:{</span><span class="w">
              </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">9130</span><span class="p">,</span><span class="w">
              </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Size retrieval successful"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">

        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Retrieves the list of all configured product sizes.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>product/sizes</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/product/sizes?&lt;Request Params&gt;&amp;format=&lt;xml/json&gt;</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>include_id</td>
<td>Retrieves ids of each size if include_id is passed as true. Value: true/false</td>
</tr>
<tr>
<td>name</td>
<td>Retrieves details of specific size details based on the size name passed</td>
</tr>
<tr>
<td>canonical_name</td>
<td>Retrieves the details of a specific size based on the cname. Cannonical names are reference names provided to a specific size</td>
</tr>
<tr>
<td>type</td>
<td>Retrieves sizes of a specific type</td>
</tr>
<tr>
<td>size_family</td>
<td>Retrieves all the sizes of the specified size family</td>
</tr>
<tr>
<td>id</td>
<td>Retrieves the details of a specific size based on the size id passed</td>
</tr>
<tr>
<td>limit</td>
<td>Limits the number of entries to be retrieved</td>
</tr>
</tbody></table>

<h2 id="retrieve-product-meta-sizes">Retrieve Product Meta-Sizes</h2>
<pre class="highlight html"><code>http://us.api.capillarytech.com/v1.1/product/meta_sizes?format=json
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code><span class="nt">&lt;response&gt;</span>
   <span class="nt">&lt;status&gt;</span>
      <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
      <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
      <span class="nt">&lt;message&gt;</span>Success<span class="nt">&lt;/message&gt;</span>
   <span class="nt">&lt;/status&gt;</span>
   <span class="nt">&lt;product&gt;</span>
      <span class="nt">&lt;count&gt;</span>16<span class="nt">&lt;/count&gt;</span>
      <span class="nt">&lt;meta_sizes&gt;</span>
         <span class="nt">&lt;meta_size&gt;</span>
            <span class="nt">&lt;name&gt;</span>37<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;label</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;decription</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;size_family&gt;</span>CentiMeter<span class="nt">&lt;/size_family&gt;</span>
            <span class="nt">&lt;type&gt;</span>Mens Shirt<span class="nt">&lt;/type&gt;</span>
            <span class="nt">&lt;parent_meta_size</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
               <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
               <span class="nt">&lt;code&gt;</span>9140<span class="nt">&lt;/code&gt;</span>
               <span class="nt">&lt;message&gt;</span>Meta size retrieval successful<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
         <span class="nt">&lt;/meta_size&gt;</span>
         <span class="nt">&lt;meta_size&gt;</span>
            <span class="nt">&lt;name&gt;</span>38<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;label</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;decription</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;size_family&gt;</span>CentiMeter<span class="nt">&lt;/size_family&gt;</span>
            <span class="nt">&lt;type&gt;</span>Mens Shirt<span class="nt">&lt;/type&gt;</span>
            <span class="nt">&lt;parent_meta_size</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
               <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
               <span class="nt">&lt;code&gt;</span>9140<span class="nt">&lt;/code&gt;</span>
               <span class="nt">&lt;message&gt;</span>Meta size retrieval successful<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
         <span class="nt">&lt;/meta_size&gt;</span>
         <span class="nt">&lt;meta_size&gt;</span>
            <span class="nt">&lt;name&gt;</span>39<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;label</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;decription</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;size_family&gt;</span>CentiMeter<span class="nt">&lt;/size_family&gt;</span>
            <span class="nt">&lt;type&gt;</span>Mens Shirt<span class="nt">&lt;/type&gt;</span>
            <span class="nt">&lt;parent_meta_size</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
               <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
               <span class="nt">&lt;code&gt;</span>9140<span class="nt">&lt;/code&gt;</span>
               <span class="nt">&lt;message&gt;</span>Meta size retrieval successful<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
         <span class="nt">&lt;/meta_size&gt;</span>
         <span class="nt">&lt;meta_size&gt;</span>
            <span class="nt">&lt;name&gt;</span>40<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;label</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;decription</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;size_family&gt;</span>CentiMeter<span class="nt">&lt;/size_family&gt;</span>
            <span class="nt">&lt;type&gt;</span>Mens Shirt<span class="nt">&lt;/type&gt;</span>
            <span class="nt">&lt;parent_meta_size</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
               <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
               <span class="nt">&lt;code&gt;</span>9140<span class="nt">&lt;/code&gt;</span>
               <span class="nt">&lt;message&gt;</span>Meta size retrieval successful<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
         <span class="nt">&lt;/meta_size&gt;</span>
         <span class="nt">&lt;meta_size&gt;</span>
            <span class="nt">&lt;name&gt;</span>41<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;label</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;decription</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;size_family&gt;</span>CentiMeter<span class="nt">&lt;/size_family&gt;</span>
            <span class="nt">&lt;type&gt;</span>Mens Shirt<span class="nt">&lt;/type&gt;</span>
            <span class="nt">&lt;parent_meta_size</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
               <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
               <span class="nt">&lt;code&gt;</span>9140<span class="nt">&lt;/code&gt;</span>
               <span class="nt">&lt;message&gt;</span>Meta size retrieval successful<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
         <span class="nt">&lt;/meta_size&gt;</span>
      <span class="nt">&lt;/meta_sizes&gt;</span>
   <span class="nt">&lt;/product&gt;</span>
<span class="nt">&lt;/response&gt;</span>

</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Success"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"product"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">16</span><span class="p">,</span><span class="w">
      </span><span class="nt">"meta_sizes"</span><span class="p">:{</span><span class="w">
        </span><span class="nt">"meta_size"</span><span class="p">:[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"37"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"label"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"decription"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"size_family"</span><span class="p">:</span><span class="s2">"CentiMeter"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"Mens Shirt"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"parent_meta_size"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:{</span><span class="w">
              </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">9140</span><span class="p">,</span><span class="w">
              </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Meta size retrieval successful"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"38"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"label"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"decription"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"size_family"</span><span class="p">:</span><span class="s2">"CentiMeter"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"Mens Shirt"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"parent_meta_size"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:{</span><span class="w">
              </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">9140</span><span class="p">,</span><span class="w">
              </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Meta size retrieval successful"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"39"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"label"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"decription"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"size_family"</span><span class="p">:</span><span class="s2">"CentiMeter"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"Mens Shirt"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"parent_meta_size"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:{</span><span class="w">
              </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">9140</span><span class="p">,</span><span class="w">
              </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Meta size retrieval successful"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"40"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"label"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"decription"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"size_family"</span><span class="p">:</span><span class="s2">"CentiMeter"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"Mens Shirt"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"parent_meta_size"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:{</span><span class="w">
              </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">9140</span><span class="p">,</span><span class="w">
              </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Meta size retrieval successful"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"41"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"label"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"decription"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"size_family"</span><span class="p">:</span><span class="s2">"CentiMeter"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"Mens Shirt"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"parent_meta_size"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:{</span><span class="w">
              </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">9140</span><span class="p">,</span><span class="w">
              </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Meta size retrieval successful"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Retrieves details of all product meta-sizes.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>product/meta_sizes</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;cluster url&gt;/v1.1/product/meta_sizes?&lt;Request Params&gt;&amp;format=&lt;xml/json&gt;</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>include_id</td>
<td>Retrieves ids of each meta size if include_id=true. Value: true/false</td>
</tr>
<tr>
<td>name</td>
<td>Retrieves the details of a specific meta-size based on the name passed</td>
</tr>
<tr>
<td>type</td>
<td>retrieves the meta-sizes of a specific type</td>
</tr>
<tr>
<td>size_family</td>
<td>Retrieves all the meta-sizes of the specified size family</td>
</tr>
<tr>
<td>id</td>
<td>Retrieves the details of a specific meta-size id</td>
</tr>
<tr>
<td>limit</td>
<td>Limits the number of meta-sizes to be retrieved</td>
</tr>
</tbody></table>

<h2 id="retrieve-product-attributes">Retrieve Product Attributes</h2>
<pre class="highlight html"><code>http://api.us.capillarytech.com/v1.1/product/attributes?format=json
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight xml"><code>
<span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;response&gt;</span>
   <span class="nt">&lt;status&gt;</span>
      <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
      <span class="nt">&lt;code&gt;</span>200<span class="nt">&lt;/code&gt;</span>
      <span class="nt">&lt;message&gt;</span>Success<span class="nt">&lt;/message&gt;</span>
   <span class="nt">&lt;/status&gt;</span>
   <span class="nt">&lt;product&gt;</span>
      <span class="nt">&lt;count&gt;</span>5<span class="nt">&lt;/count&gt;</span>
      <span class="nt">&lt;attributes&gt;</span>
         <span class="nt">&lt;attribute&gt;</span>
            <span class="nt">&lt;name&gt;</span>E1<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;label&gt;</span>ee1<span class="nt">&lt;/label&gt;</span>
            <span class="nt">&lt;is_enum&gt;</span>0<span class="nt">&lt;/is_enum&gt;</span>
            <span class="nt">&lt;type&gt;</span>Int<span class="nt">&lt;/type&gt;</span>
            <span class="nt">&lt;extraction_rule_type&gt;</span>UPLOAD<span class="nt">&lt;/extraction_rule_type&gt;</span>
            <span class="nt">&lt;extraction_rule_data&gt;</span>E1<span class="nt">&lt;/extraction_rule_data&gt;</span>
            <span class="nt">&lt;is_soft_enum&gt;</span>1<span class="nt">&lt;/is_soft_enum&gt;</span>
            <span class="nt">&lt;use_in_dump&gt;</span>1<span class="nt">&lt;/use_in_dump&gt;</span>
            <span class="nt">&lt;default_attribute_value_name&gt;</span>e10<span class="nt">&lt;/default_attribute_value_name&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
               <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
               <span class="nt">&lt;code&gt;</span>9176<span class="nt">&lt;/code&gt;</span>
               <span class="nt">&lt;message&gt;</span>Attribute retrieval successful<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
         <span class="nt">&lt;/attribute&gt;</span>
         <span class="nt">&lt;attribute&gt;</span>
            <span class="nt">&lt;name&gt;</span>D1<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;label</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;is_enum&gt;</span>0<span class="nt">&lt;/is_enum&gt;</span>
            <span class="nt">&lt;type&gt;</span>Int<span class="nt">&lt;/type&gt;</span>
            <span class="nt">&lt;extraction_rule_type&gt;</span>UPLOAD<span class="nt">&lt;/extraction_rule_type&gt;</span>
            <span class="nt">&lt;extraction_rule_data&gt;</span>D1<span class="nt">&lt;/extraction_rule_data&gt;</span>
            <span class="nt">&lt;is_soft_enum&gt;</span>1<span class="nt">&lt;/is_soft_enum&gt;</span>
            <span class="nt">&lt;use_in_dump&gt;</span>1<span class="nt">&lt;/use_in_dump&gt;</span>
            <span class="nt">&lt;default_attribute_value_name&gt;</span>d10<span class="nt">&lt;/default_attribute_value_name&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
               <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
               <span class="nt">&lt;code&gt;</span>9176<span class="nt">&lt;/code&gt;</span>
               <span class="nt">&lt;message&gt;</span>Attribute retrieval successful<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
         <span class="nt">&lt;/attribute&gt;</span>
         <span class="nt">&lt;attribute&gt;</span>
            <span class="nt">&lt;name&gt;</span>C1<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;label&gt;</span>cc1<span class="nt">&lt;/label&gt;</span>
            <span class="nt">&lt;is_enum&gt;</span>0<span class="nt">&lt;/is_enum&gt;</span>
            <span class="nt">&lt;type&gt;</span>Boolean<span class="nt">&lt;/type&gt;</span>
            <span class="nt">&lt;extraction_rule_type&gt;</span>POS<span class="nt">&lt;/extraction_rule_type&gt;</span>
            <span class="nt">&lt;extraction_rule_data</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;is_soft_enum&gt;</span>0<span class="nt">&lt;/is_soft_enum&gt;</span>
            <span class="nt">&lt;use_in_dump&gt;</span>1<span class="nt">&lt;/use_in_dump&gt;</span>
            <span class="nt">&lt;default_attribute_value_name&gt;</span>c11<span class="nt">&lt;/default_attribute_value_name&gt;</span>
            <span class="nt">&lt;item_status&gt;</span>
               <span class="nt">&lt;success&gt;</span>true<span class="nt">&lt;/success&gt;</span>
               <span class="nt">&lt;code&gt;</span>9176<span class="nt">&lt;/code&gt;</span>
               <span class="nt">&lt;message&gt;</span>Attribute retrieval successful<span class="nt">&lt;/message&gt;</span>
            <span class="nt">&lt;/item_status&gt;</span>
         <span class="nt">&lt;/attribute&gt;</span>
      <span class="nt">&lt;/attributes&gt;</span>
   <span class="nt">&lt;/product&gt;</span>
<span class="nt">&lt;/response&gt;</span>


</code></pre><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Success"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"product"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="nt">"attributes"</span><span class="p">:{</span><span class="w">
        </span><span class="nt">"attribute"</span><span class="p">:[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"E1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"label"</span><span class="p">:</span><span class="s2">"ee1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"is_enum"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"Int"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"extraction_rule_type"</span><span class="p">:</span><span class="s2">"UPLOAD"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"extraction_rule_data"</span><span class="p">:</span><span class="s2">"E1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"is_soft_enum"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"use_in_dump"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"default_attribute_value_name"</span><span class="p">:</span><span class="s2">"e10"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:{</span><span class="w">
              </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">9176</span><span class="p">,</span><span class="w">
              </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Attribute retrieval successful"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"D1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"label"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"is_enum"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"Int"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"extraction_rule_type"</span><span class="p">:</span><span class="s2">"UPLOAD"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"extraction_rule_data"</span><span class="p">:</span><span class="s2">"D1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"is_soft_enum"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"use_in_dump"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"default_attribute_value_name"</span><span class="p">:</span><span class="s2">"d10"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:{</span><span class="w">
              </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">9176</span><span class="p">,</span><span class="w">
              </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Attribute retrieval successful"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"C1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"label"</span><span class="p">:</span><span class="s2">"cc1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"is_enum"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"Boolean"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"extraction_rule_type"</span><span class="p">:</span><span class="s2">"POS"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"extraction_rule_data"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"is_soft_enum"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"use_in_dump"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"default_attribute_value_name"</span><span class="p">:</span><span class="s2">"c11"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"item_status"</span><span class="p">:{</span><span class="w">
              </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">9176</span><span class="p">,</span><span class="w">
              </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Attribute retrieval successful"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">


        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Retrieves the list of all product attributes.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>product/attributes</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>XML, JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>API Version</td>
<td>v1.1</td>
</tr>
<tr>
<td>Batch Support</td>
<td>Yes</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">http://&lt;Cluster URL&gt;/v1.1/product/attributes?&lt;request params&gt;&amp;format=&lt;xml/json&gt;</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>include_id</td>
<td>Retrieves ids of each product attribute fetched. Value: true/false</td>
</tr>
<tr>
<td>values</td>
<td>Retrieves all child attributes if values=true</td>
</tr>
<tr>
<td>value_limit</td>
<td>limit number of attribute values to be retrieved per attribute</td>
</tr>
<tr>
<td>name</td>
<td>Specify an attribute name to retrieve the details of that specific attribute (non-case sensitive)</td>
</tr>
<tr>
<td>id</td>
<td>Pass an attribute id to fetch the details of that specific attribute</td>
</tr>
<tr>
<td>limit</td>
<td>Limit the number of attributes that you want to retrieve</td>
</tr>
</tbody></table>

<h2 id="response-codes">Response Codes</h2>

<h3 id="success-code">Success Code</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>2100</td>
<td>Product retrieved successfully</td>
</tr>
</tbody></table>

<h3 id="error-code">Error Code</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>2101</td>
<td>Unable to retrieve product details</td>
</tr>
</tbody></table>

          <h1 id="wallet">Wallet</h1>

<p>Capillary APIs now support payments through third party payment gateway services such as RazorPay. These third party services support different wallet payments such as RuPay, Amex, Mobikwik, PayZapp, PayUMoney and so on. Wallets are configured at TILL level and not at store level. Hence, within a store, each TILL can have different wallets.</p>

<p>Unlike other entities, <code class="prettyprint">wallet</code> APIs are not version dependent. The following is the standard url for <code class="prettyprint">wallet</code> APIs</p>

<p><code class="prettyprint">https://&lt;cluster url&gt;/walletApp/payment/&lt;method&gt;</code></p>

<table><thead>
<tr>
<th>Entry</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Request URL</td>
<td><code class="prettyprint">https://&lt;cluster url&gt;/walletApp/payment/&lt;method&gt;</code></td>
</tr>
<tr>
<td>Cluster URL</td>
<td>The server to which the API calls are made. This usually depends on your cluster as mentioned below:<br>APAC: apac.sharingan.capillarytech.com<br>APAC2: apac.sharingan.capillarytech.com<br>EU: eu.sharingan.capillarytech.com<br>US: us.sharingan.capillarytech.com</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>Capillary Sharingan APIs support the standard HTTP methods GET,  and POST</td>
</tr>
<tr>
<td>Response Format</td>
<td>Sharingan APIs return information in json format</td>
</tr>
</tbody></table>

<aside class="notice"> Wallet APIs are not version dependent. Hence, there is no need to specify API versions for these APIs. XML format is not supported for wallet APIs</aside>

<h2 id="get-wallets-configured-for-a-till">Get Wallets Configured for a TILL</h2>
<pre class="highlight html"><code># Sample Request
https://apac.sharingan.capillarytech.com/walletApp/till/wallets
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">  
   </span><span class="nt">"wallets"</span><span class="p">:[</span><span class="w">  
      </span><span class="p">{</span><span class="w">  
         </span><span class="nt">"provider_id"</span><span class="p">:</span><span class="s2">"577a065b07cd440f0f8b4568"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"wallet_label"</span><span class="p">:</span><span class="s2">"mobikwik"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"wallet_id"</span><span class="p">:</span><span class="mi">1</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">  
         </span><span class="nt">"provider_id"</span><span class="p">:</span><span class="s2">"577a065b07cd440f0f8b4568"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"wallet_label"</span><span class="p">:</span><span class="s2">"payumoney"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"wallet_id"</span><span class="p">:</span><span class="mi">2</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">  
         </span><span class="nt">"provider_id"</span><span class="p">:</span><span class="s2">"577a065b07cd440f0f8b4568"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"wallet_label"</span><span class="p">:</span><span class="s2">"payzapp"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"wallet_id"</span><span class="p">:</span><span class="mi">3</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="nt">"suceess"</span><span class="p">:</span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Use the API to fetch the details of wallets configured for the current TILL. Each wallet details consist of wallet provider id,  wallet name, and wallet id.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>wallet/payment</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Content-Type</td>
<td>application/json</td>
</tr>
<tr>
<td>Accept</td>
<td>application/json</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>JSON</td>
</tr>
<tr>
<td>HTTP Method</td>
<td>GET</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://&lt;cluster URL&gt;/walletApp/till/wallets</code></p>

<h3 id="error-messages">Error Messages</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>Authentication failed/Invalid authentication <br> Invalid TILL</td>
</tr>
</tbody></table>

<h2 id="authorize-payments">Authorize Payments</h2>
<pre class="highlight html"><code># Sample Request
https:// apac.sharingan.capillarytech.com/walletApp/payment/authorize
</code></pre>
<blockquote>
<p>Sample POST Request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
 </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
 </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"919876543210"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"daniel.vettori@gmaill.com"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
 </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
 </span><span class="nt">"refId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5214674014704128150"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"wallet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
 </span><span class="nt">"provider_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"577a065b07cd440f0f8b4568"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">  
   </span><span class="nt">"refId"</span><span class="p">:</span><span class="s2">"5214674014704128150"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<p>This API allows you to validate customer’s wallet details and wallet balance and generate OTP which is used for processing the transaction. That is, if a customer wants to make a payment for a transaction through a wallet service, you need to validate the customer’s registered mobile number/email id including the transaction amount. Only if the validation is successful OTP is generated.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>wallet/payment/authorize</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Content-Type</td>
<td>application/json</td>
</tr>
<tr>
<td>Accept</td>
<td>application/json</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>JSON</td>
</tr>
<tr>
<td>HTTP Method</td>
<td>POST</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://&lt;Cluster URL&gt;/walletApp/payment/authorize</code></p>

<h3 id="request-attributes">Request Attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>amount*</td>
<td>Transaction amount or the amount that the customer wants to pay through wallet</td>
</tr>
<tr>
<td>wallet_id or wallet_label*</td>
<td>The respective wallet id or wallet name. Any one of the following parameter is mandatory</td>
</tr>
<tr>
<td>Email*</td>
<td>Email id of the customer registered with the wallet</td>
</tr>
<tr>
<td>Description</td>
<td>Short description about the transaction</td>
</tr>
<tr>
<td>Address</td>
<td>Address of the customer</td>
</tr>
<tr>
<td>Currency</td>
<td>Base currency of the wallet service</td>
</tr>
<tr>
<td>provider_id</td>
<td>ID of the wallet service provider. For example, RazorPay’s provider id is</td>
</tr>
<tr>
<td>Mobile*</td>
<td>Mobile number of the customer registered with the wallet</td>
</tr>
<tr>
<td>refId*</td>
<td>A unique reference id for the current transaction</td>
</tr>
<tr>
<td>TransactionNumber*</td>
<td>Transaction number for which the wallet details are validated</td>
</tr>
</tbody></table>

<h3 id="error-messages">Error Messages</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>Authentication failed/Invalid authentication</td>
</tr>
<tr>
<td></td>
<td>Invalid TILL</td>
</tr>
<tr>
<td></td>
<td>Invalid params</td>
</tr>
<tr>
<td></td>
<td>Invalid reference id</td>
</tr>
<tr>
<td></td>
<td>Unexpected response or error from the payment gateway</td>
</tr>
</tbody></table>

<h2 id="process-payments">Process Payments</h2>
<pre class="highlight html"><code># Sample Request
https:// apac.sharingan.capillarytech.com/walletApp/payment/validate
</code></pre>
<blockquote>
<p>Sample POST Request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">

 </span><span class="nt">"refId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5214674014704128150"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"otp"</span><span class="p">:</span><span class="mi">12313</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">  
   </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="nt">"refId"</span><span class="p">:</span><span class="s2">"5214674014704128150"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"payment captured"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"payment_id"</span><span class="p">:</span><span class="s2">"pay_6rx8LlO6mCIcra"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This API allows you to process the authorized payments based on the reference id and OTP passed.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>walletApp/payment/validate</td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Content-Type</td>
<td>application/json</td>
</tr>
<tr>
<td>Accept</td>
<td>application/json</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>JSON</td>
</tr>
<tr>
<td>HTTP Method</td>
<td>POST</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://&lt;Cluster URL&gt;/walletApp/payment/validate</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>refId*</td>
<td>Reference id provided for the transaction during authorization</td>
</tr>
<tr>
<td>otp</td>
<td>OTP received by the customer for that transaction</td>
</tr>
</tbody></table>

<h3 id="error-messages">Error Messages</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>Authentication failed</td>
</tr>
<tr>
<td></td>
<td>Invalid TILL</td>
</tr>
<tr>
<td></td>
<td>Invalid params</td>
</tr>
<tr>
<td></td>
<td>Invalid reference id</td>
</tr>
</tbody></table>

          <h1 id="ffc">FFC</h1>

<p>This contains the list of APIs required to post and fetch footfall details such as visitors count, group count, heat map details and device heartbeat. The host address of FFC is different from the other v 2.0 APIs. </p>

<p>The following are the host addresses of different clusters:  </p>

<ul>
<li><strong>APAC</strong>: storecare.capillarytech.com</li>
<li><strong>APAC2</strong>: sg.storecare.capillarytech.com</li>
<li><strong>EU</strong>: eu.storecare.capillarytech.com</li>
<li><strong>US</strong>: us.storecare.capillarytech.com</li>
<li><strong>CN</strong>: storecare.capillarytech.cn.com</li>
</ul>

<h2 id="add-ffc-details-hourly">Add FFC Details (Hourly)</h2>

<p>Saves hourly data of visitors and staff count to the Capillary database. The data include both in count and out count.</p>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight html"><code>https://sg.storecare.capillarytech.com/pages/ffcDetails
</code></pre>
<blockquote>
<p>Sample POST Request</p>
</blockquote>
<pre class="highlight json"><code><span class="w">
</span><span class="p">{</span><span class="w">
   </span><span class="nt">"org_id"</span><span class="p">:</span><span class="s2">"781"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"till_id"</span><span class="p">:</span><span class="s2">"15000323"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"zone_id"</span><span class="p">:</span><span class="s2">"15000398"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"store_id"</span><span class="p">:</span><span class="s2">"15001761"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"source"</span><span class="p">:</span><span class="s2">"till"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"store_server_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
   </span><span class="nt">"store_server_name"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
   </span><span class="nt">"till_name"</span><span class="p">:</span><span class="s2">"demo_till"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"store_name"</span><span class="p">:</span><span class="s2">"KNIGHT_STOER_SERVER"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="mi">1549564200</span><span class="p">,</span><span class="w">
   </span><span class="nt">"deviceId"</span><span class="p">:</span><span class="mi">202481590706864</span><span class="p">,</span><span class="w">
   </span><span class="nt">"counterDetails"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"outCount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"startDate"</span><span class="p">:</span><span class="mi">1549564200</span><span class="p">,</span><span class="w">
         </span><span class="nt">"endDate"</span><span class="p">:</span><span class="mi">1549567799</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"outCount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"startDate"</span><span class="p">:</span><span class="mi">1549567800</span><span class="p">,</span><span class="w">
         </span><span class="nt">"endDate"</span><span class="p">:</span><span class="mi">1549571399</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"outCount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"startDate"</span><span class="p">:</span><span class="mi">1549571400</span><span class="p">,</span><span class="w">
         </span><span class="nt">"endDate"</span><span class="p">:</span><span class="mi">1549574999</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"outCount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"startDate"</span><span class="p">:</span><span class="mi">1549575000</span><span class="p">,</span><span class="w">
         </span><span class="nt">"endDate"</span><span class="p">:</span><span class="mi">1549578599</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"outCount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"startDate"</span><span class="p">:</span><span class="mi">1549614600</span><span class="p">,</span><span class="w">
         </span><span class="nt">"endDate"</span><span class="p">:</span><span class="mi">1549618199</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"outCount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"startDate"</span><span class="p">:</span><span class="mi">1549618200</span><span class="p">,</span><span class="w">
         </span><span class="nt">"endDate"</span><span class="p">:</span><span class="mi">1549621799</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"outCount"</span><span class="p">:</span><span class="mi">223</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCount"</span><span class="p">:</span><span class="mi">222</span><span class="p">,</span><span class="w">
         </span><span class="nt">"startDate"</span><span class="p">:</span><span class="mi">1549621800</span><span class="p">,</span><span class="w">
         </span><span class="nt">"endDate"</span><span class="p">:</span><span class="mi">1549625399</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"outCount"</span><span class="p">:</span><span class="mi">274</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCount"</span><span class="p">:</span><span class="mi">275</span><span class="p">,</span><span class="w">
         </span><span class="nt">"startDate"</span><span class="p">:</span><span class="mi">1549625400</span><span class="p">,</span><span class="w">
         </span><span class="nt">"endDate"</span><span class="p">:</span><span class="mi">1549628999</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"outCount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"startDate"</span><span class="p">:</span><span class="mi">1549629000</span><span class="p">,</span><span class="w">
         </span><span class="nt">"endDate"</span><span class="p">:</span><span class="mi">1549632599</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"outCount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"startDate"</span><span class="p">:</span><span class="mi">1549632600</span><span class="p">,</span><span class="w">
         </span><span class="nt">"endDate"</span><span class="p">:</span><span class="mi">1549636199</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"outCount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"startDate"</span><span class="p">:</span><span class="mi">1549636200</span><span class="p">,</span><span class="w">
         </span><span class="nt">"endDate"</span><span class="p">:</span><span class="mi">1549639799</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"outCount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"startDate"</span><span class="p">:</span><span class="mi">1549639800</span><span class="p">,</span><span class="w">
         </span><span class="nt">"endDate"</span><span class="p">:</span><span class="mi">1549643399</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"outCount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"startDate"</span><span class="p">:</span><span class="mi">1549643400</span><span class="p">,</span><span class="w">
         </span><span class="nt">"endDate"</span><span class="p">:</span><span class="mi">1549646999</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"outCount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"startDate"</span><span class="p">:</span><span class="mi">1549647000</span><span class="p">,</span><span class="w">
         </span><span class="nt">"endDate"</span><span class="p">:</span><span class="mi">1549650599</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"response"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:{</span><span class="w">
         </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
         </span><span class="nt">"code"</span><span class="p">:</span><span class="s2">"200"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Success"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/pages/ffcDetails?eventType={0/1}</code></td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>No</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>POST</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<ul>
<li><strong>Rate limiter</strong> controls the number of incoming and outgoing traffic of a network</li>
<li><strong>Authentication</strong> verifies the identity of the current user or integration. See Introduction &gt; Authentication (Merchant Setup on Admin Portal) for more details</li>
</ul>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/pages/ffcDetails?eventType={0/1}</code></p>

<ul>
<li>Specify <code class="prettyprint">eventType=0</code> for customer walkin</li>
<li>Specify <code class="prettyprint">eventType=1</code> for staff walkin </li>
</ul>

<h3 id="request-body-parameters">Request Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>org_id*</td>
<td>int</td>
<td>Unique id of the org for which you want to add group count</td>
</tr>
<tr>
<td>till_id*</td>
<td>int</td>
<td>Unique id of the TILL where the device is installed</td>
</tr>
<tr>
<td>zone_id</td>
<td>int</td>
<td>Zone id associated to the TILL</td>
</tr>
<tr>
<td>store_id</td>
<td>int</td>
<td>Store id associated to the TILL</td>
</tr>
<tr>
<td>source</td>
<td>string</td>
<td>Source from which the Data is coming to the system. Value: <code class="prettyprint">till</code></td>
</tr>
<tr>
<td>store_server_id</td>
<td>string</td>
<td>Store server id if applicable</td>
</tr>
<tr>
<td>store_server_name</td>
<td>string</td>
<td>Name of the store server</td>
</tr>
<tr>
<td>till_name</td>
<td>string</td>
<td>Name of the TILL associated to the device</td>
</tr>
<tr>
<td>store_name</td>
<td>string</td>
<td>Name of the store in which the device is installed</td>
</tr>
<tr>
<td>timestamp*</td>
<td>timestamp</td>
<td>Timestamp of the device</td>
</tr>
<tr>
<td>deviceId*</td>
<td>long</td>
<td>Unique id of the device</td>
</tr>
<tr>
<td>outCount</td>
<td>int</td>
<td>Out count during the specific hour</td>
</tr>
<tr>
<td>inCount</td>
<td>int</td>
<td>In count during the specific hour</td>
</tr>
<tr>
<td>startDate*</td>
<td>date-time</td>
<td>Hourly duration of the current count (between startDate - endDate)</td>
</tr>
<tr>
<td>endDate*</td>
<td>date-time</td>
<td>Hourly duration of the current count (between startDate - endDate)</td>
</tr>
</tbody></table>

<h2 id="get-ffc-details-hourly">Get FFC Details (Hourly)</h2>

<p>Retrieves hourly count of visitors and staff which includes both in count and out count separately.</p>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight html"><code>https://sg.storecare.capillarytech.com/pages/ffcDetails?org_id=781<span class="err">&amp;</span>date=2019/02/12<span class="err">&amp;</span>timezone=UTC+0530<span class="err">&amp;</span>deviceId=201807070301
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"get_ffc_details"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"applications"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"application"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"store_servers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"store_server"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"thin_clients"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"thin_client"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"tills"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"till"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"deviceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">201807070301</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"eventType"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"org_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"781"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"till"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50013131"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"store_server_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"till_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50013136"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"zone_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15098817"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"store_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KoramangalaStore1"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"store_server_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"till_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DemoTill"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"counterDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                            </span><span class="p">{</span><span class="w">
                                </span><span class="nt">"outCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1549913400</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"inCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1549909800</span><span class="w">
                            </span><span class="p">},</span><span class="w">
                            </span><span class="p">{</span><span class="w">
                                </span><span class="nt">"outCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1549917000</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"inCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1549913400</span><span class="w">
                            </span><span class="p">},</span><span class="w">
                            </span><span class="p">{</span><span class="w">
                                </span><span class="nt">"outCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1549920600</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"inCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1549917000</span><span class="w">
                            </span><span class="p">},</span><span class="w">
                            </span><span class="p">{</span><span class="w">
                                </span><span class="nt">"outCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1549924200</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"inCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1549920600</span><span class="w">
                            </span><span class="p">},</span><span class="w">
                            </span><span class="p">{</span><span class="w">
                                </span><span class="nt">"outCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1549927800</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"inCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1549924200</span><span class="w">
                            </span><span class="p">},</span><span class="w">
                            </span><span class="p">{</span><span class="w">
                                </span><span class="nt">"outCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1549931400</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"inCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1549927800</span><span class="w">
                            </span><span class="p">},</span><span class="w">
                            </span><span class="p">{</span><span class="w">
                                </span><span class="nt">"outCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1549935000</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"inCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1549931400</span><span class="w">
                            </span><span class="p">},</span><span class="w">
                            </span><span class="p">{</span><span class="w">
                                </span><span class="nt">"outCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1549938600</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"inCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1549935000</span><span class="w">
                            </span><span class="p">},</span><span class="w">
                            </span><span class="p">{</span><span class="w">
                                </span><span class="nt">"outCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1549942200</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"inCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1549938600</span><span class="w">
                            </span><span class="p">},</span><span class="w">
                            </span><span class="p">{</span><span class="w">
                                </span><span class="nt">"outCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1549945800</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"inCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1549942200</span><span class="w">
                            </span><span class="p">},</span><span class="w">
                            </span><span class="p">{</span><span class="w">
                                </span><span class="nt">"outCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1549949400</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"inCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1549945800</span><span class="w">
                            </span><span class="p">},</span><span class="w">
                            </span><span class="p">{</span><span class="w">
                                </span><span class="nt">"outCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1549953000</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"inCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1549949400</span><span class="w">
                            </span><span class="p">},</span><span class="w">
                            </span><span class="p">{</span><span class="w">
                                </span><span class="nt">"outCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1549956600</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"inCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1549953000</span><span class="w">
                            </span><span class="p">},</span><span class="w">

                            </span><span class="p">{</span><span class="w">
                                </span><span class="nt">"outCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1549985400</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"inCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1549981800</span><span class="w">
                            </span><span class="p">},</span><span class="w">
                            </span><span class="p">{</span><span class="w">
                                </span><span class="nt">"outCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1549989000</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"inCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1549985400</span><span class="w">
                            </span><span class="p">},</span><span class="w">
                            </span><span class="p">{</span><span class="w">
                                </span><span class="nt">"outCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1549992600</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"inCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1549989000</span><span class="w">
                            </span><span class="p">},</span><span class="w">
                            </span><span class="p">{</span><span class="w">
                                </span><span class="nt">"outCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1549996200</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"inCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1549992600</span><span class="w">
                            </span><span class="p">}</span><span class="w">
                        </span><span class="p">],</span><span class="w">
                        </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1549935001</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"auto_update_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-02-12T01:33:58.930Z"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/pages/ffcDetails</code></td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>No</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<ul>
<li><strong>Rate limiter</strong> controls the number of incoming and outgoing traffic of a network</li>
<li><strong>Authentication</strong> verifies the identity of the current user or integration. See Introduction &gt; Authentication (Merchant Setup on Admin Portal) for more details</li>
</ul>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/pages/ffcDetails</code></p>

<h3 id="request-path-parameters">Request Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>org_id</td>
<td>int</td>
<td>Retrieves org level in and out count of visitors on a hourly basis</td>
</tr>
<tr>
<td>date</td>
<td>date</td>
<td>Retrieves hourly data of in and out count for a specific date ( <code class="prettyprint">YYYY/MM/DD</code> format)</td>
</tr>
<tr>
<td>timezone</td>
<td>string</td>
<td>UTC timezone of the device</td>
</tr>
<tr>
<td>deviceId</td>
<td>string</td>
<td>Specify the device id for which you want to fetch the data</td>
</tr>
</tbody></table>

<h2 id="add-ffc-details-v2-event-level">Add FFC Details V2 (Event Level)</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight html"><code>
https://sg.storecare.capillarytech.com/v2/add/ffcDetails?eventType=0
</code></pre>
<blockquote>
<p>Sample POST Request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"org_id"</span><span class="p">:</span><span class="s2">"781"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"till_id"</span><span class="p">:</span><span class="s2">"15000375"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"zone_id"</span><span class="p">:</span><span class="s2">"15000372"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"store_id"</span><span class="p">:</span><span class="s2">"15001861"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"source"</span><span class="p">:</span><span class="s2">"till"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"store_server_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
   </span><span class="nt">"store_server_name"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
   </span><span class="nt">"till_name"</span><span class="p">:</span><span class="s2">"kn.003"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"store_name"</span><span class="p">:</span><span class="s2">"KNIGHT_STOER_SERVER"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="mi">1549883986</span><span class="p">,</span><span class="w">
   </span><span class="nt">"deviceId"</span><span class="p">:</span><span class="mi">202481585925581</span><span class="p">,</span><span class="w">
   </span><span class="nt">"counterDetails"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"inCountTimeStamps"</span><span class="p">:[</span><span class="w">
            </span><span class="mi">1549712713</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712717</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712721</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712725</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712729</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712733</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712737</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712741</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712745</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712749</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712753</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712757</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712761</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712765</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712769</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712773</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712777</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712781</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712785</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712789</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712793</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712797</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712801</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712805</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712809</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712813</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712817</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712821</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712825</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712829</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712833</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712837</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712841</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712845</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712849</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712853</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712857</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712861</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712865</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712869</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712873</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712877</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712881</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712885</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712889</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712893</span><span class="w">
         </span><span class="p">],</span><span class="w">
         </span><span class="nt">"outCountTimeStamps"</span><span class="p">:[</span><span class="w">
            </span><span class="mi">1549712715</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712719</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712723</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712727</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712731</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712735</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712739</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712743</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712747</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712751</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712755</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712759</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712763</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712767</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712771</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712775</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712779</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712783</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712787</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712791</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712795</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712799</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712803</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712807</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712811</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712815</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712819</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712823</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712827</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712831</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712835</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712839</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712843</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712847</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712851</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712855</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712859</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712863</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712867</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712871</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712875</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712879</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712883</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712887</span><span class="p">,</span><span class="w">
            </span><span class="mi">1549712891</span><span class="w">
         </span><span class="p">],</span><span class="w">
         </span><span class="nt">"outCount"</span><span class="p">:</span><span class="mi">45</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCount"</span><span class="p">:</span><span class="mi">46</span><span class="p">,</span><span class="w">
         </span><span class="nt">"startDate"</span><span class="p">:</span><span class="mi">1549712711</span><span class="p">,</span><span class="w">
         </span><span class="nt">"endDate"</span><span class="p">:</span><span class="mi">1549713611</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"response"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:{</span><span class="w">
         </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
         </span><span class="nt">"code"</span><span class="p">:</span><span class="s2">"200"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Success"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">v2/add/ffcDetails?eventType={0/1}</code></td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>No</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>POST</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<ul>
<li><strong>Rate limiter</strong> controls the number of incoming and outgoing traffic of a network</li>
<li><strong>Authentication</strong> verifies the identity of the current user or integration. See Introduction &gt; Authentication (Merchant Setup on Admin Portal) for more details</li>
</ul>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/v2/add/ffcDetails?eventType={0/1}</code></p>

<ul>
<li>Specify <code class="prettyprint">eventType=0</code> for customer walkin and <code class="prettyprint">eventType=1</code> for staff walkin.</li>
</ul>

<h3 id="request-body-parameters">Request Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>org_id*</td>
<td>int</td>
<td>Unique id of the org for which you want to add group count</td>
</tr>
<tr>
<td>till_id*</td>
<td>int</td>
<td>Unique id of the TILL where the device is installed</td>
</tr>
<tr>
<td>zone_id</td>
<td>int</td>
<td>Zone id associated to the TILL</td>
</tr>
<tr>
<td>store_id</td>
<td>int</td>
<td>Store id associated to the TILL</td>
</tr>
<tr>
<td>source</td>
<td>string</td>
<td>Source from which the Data is coming to the system. Value: <code class="prettyprint">till</code></td>
</tr>
<tr>
<td>store_server_id</td>
<td>string</td>
<td>Store server id if applicable</td>
</tr>
<tr>
<td>store_server_name</td>
<td>string</td>
<td>Name of the store server</td>
</tr>
<tr>
<td>till_name</td>
<td>string</td>
<td>Name of the TILL associated to the device</td>
</tr>
<tr>
<td>store_name</td>
<td>string</td>
<td>Name of the store in which the device is installed</td>
</tr>
<tr>
<td>inCountTimeStamps*</td>
<td>timestamp</td>
<td>Timestamps of each in count event</td>
</tr>
<tr>
<td>outCountTimeStamps*</td>
<td>timestamp</td>
<td>Timestamps of each out count event</td>
</tr>
<tr>
<td>deviceId*</td>
<td>long</td>
<td>Unique id of the device</td>
</tr>
<tr>
<td>outCount</td>
<td>int</td>
<td>Total out count recorded</td>
</tr>
<tr>
<td>inCount</td>
<td>int</td>
<td>Total in count recorded</td>
</tr>
<tr>
<td>startDate*</td>
<td>date-time</td>
<td>Hourly duration of the current count (between startDate - endDate)</td>
</tr>
<tr>
<td>endDate*</td>
<td>date-time</td>
<td>Hourly duration of the current count (between startDate - endDate)</td>
</tr>
</tbody></table>

<h2 id="get-v2-ffc-details-event-level">Get V2 FFC Details (Event Level)</h2>

<p>Retrieves in and out count of both visitors and staff separately at event level providing more granular level details compared to v1.</p>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight html"><code>https://sg.storecare.capillarytech.com/pages/v2/ffcDetails?orgId=781<span class="err">&amp;</span>date=2019/02/12<span class="err">&amp;</span>timezone=UTC+0530<span class="err">&amp;</span>storeId=15001861 

</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"response"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:{</span><span class="w">
         </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
         </span><span class="nt">"code"</span><span class="p">:</span><span class="s2">"200"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Success"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"get_ffc_v2_details"</span><span class="p">:{</span><span class="w">
         </span><span class="nt">"thin_clients"</span><span class="p">:{</span><span class="w">
            </span><span class="nt">"thin_client"</span><span class="p">:[</span><span class="w">

            </span><span class="p">]</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nt">"store_servers"</span><span class="p">:{</span><span class="w">
            </span><span class="nt">"store_server"</span><span class="p">:[</span><span class="w">

            </span><span class="p">]</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nt">"applications"</span><span class="p">:{</span><span class="w">
            </span><span class="nt">"application"</span><span class="p">:[</span><span class="w">

            </span><span class="p">]</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nt">"tills"</span><span class="p">:{</span><span class="w">
            </span><span class="nt">"till"</span><span class="p">:[</span><span class="w">
               </span><span class="p">{</span><span class="w">
                  </span><span class="nt">"deviceId"</span><span class="p">:</span><span class="mi">202481586113930</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"direction"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"eventTime"</span><span class="p">:</span><span class="s2">"2019-02-12T09:24:50.000Z"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"eventType"</span><span class="p">:</span><span class="s2">"CUSTOMER"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"orgId"</span><span class="p">:</span><span class="mi">781</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"source"</span><span class="p">:</span><span class="s2">"till"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"storeId"</span><span class="p">:</span><span class="mi">15001861</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"storeServerId"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"tillId"</span><span class="p">:</span><span class="mi">15000375</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"zoneId"</span><span class="p">:</span><span class="mi">15000372</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="mi">1549963805</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"tillName"</span><span class="p">:</span><span class="s2">"kn.003"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"storeServerName"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"storeName"</span><span class="p">:</span><span class="s2">"KNIGHT_STOER_SERVER"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"inCount"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"outCount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"autoUpdateTime"</span><span class="p">:</span><span class="s2">"2019-02-12T09:34:24.086Z"</span><span class="w">
               </span><span class="p">},</span><span class="w">
               </span><span class="p">{</span><span class="w">
                  </span><span class="nt">"deviceId"</span><span class="p">:</span><span class="mi">202481586113930</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"direction"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"eventTime"</span><span class="p">:</span><span class="s2">"2019-02-12T09:22:00.000Z"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"eventType"</span><span class="p">:</span><span class="s2">"CUSTOMER"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"orgId"</span><span class="p">:</span><span class="mi">781</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"source"</span><span class="p">:</span><span class="s2">"till"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"storeId"</span><span class="p">:</span><span class="mi">15001861</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"storeServerId"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"tillId"</span><span class="p">:</span><span class="mi">15000375</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"zoneId"</span><span class="p">:</span><span class="mi">15000372</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="mi">1549963805</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"tillName"</span><span class="p">:</span><span class="s2">"kn.003"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"storeServerName"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"storeName"</span><span class="p">:</span><span class="s2">"KNIGHT_STOER_SERVER"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"inCount"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"outCount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"autoUpdateTime"</span><span class="p">:</span><span class="s2">"2019-02-12T09:34:24.082Z"</span><span class="w">
               </span><span class="p">},</span><span class="w">
               </span><span class="p">{</span><span class="w">
                  </span><span class="nt">"deviceId"</span><span class="p">:</span><span class="mi">202481586113930</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"direction"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"eventTime"</span><span class="p">:</span><span class="s2">"2019-02-12T09:24:57.000Z"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"eventType"</span><span class="p">:</span><span class="s2">"CUSTOMER"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"orgId"</span><span class="p">:</span><span class="mi">781</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"source"</span><span class="p">:</span><span class="s2">"till"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"storeId"</span><span class="p">:</span><span class="mi">15001861</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"storeServerId"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"tillId"</span><span class="p">:</span><span class="mi">15000375</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"zoneId"</span><span class="p">:</span><span class="mi">15000372</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="mi">1549963805</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"tillName"</span><span class="p">:</span><span class="s2">"kn.003"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"storeServerName"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"storeName"</span><span class="p">:</span><span class="s2">"KNIGHT_STOER_SERVER"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"inCount"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"outCount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"autoUpdateTime"</span><span class="p">:</span><span class="s2">"2019-02-12T09:34:24.086Z"</span><span class="w">
               </span><span class="p">},</span><span class="w">

               </span><span class="p">{</span><span class="w">
                  </span><span class="nt">"deviceId"</span><span class="p">:</span><span class="mi">202481586113930</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"direction"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"eventTime"</span><span class="p">:</span><span class="s2">"2019-02-12T07:08:17.000Z"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"eventType"</span><span class="p">:</span><span class="s2">"CUSTOMER"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"orgId"</span><span class="p">:</span><span class="mi">781</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"source"</span><span class="p">:</span><span class="s2">"till"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"storeId"</span><span class="p">:</span><span class="mi">15001861</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"storeServerId"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"tillId"</span><span class="p">:</span><span class="mi">15000375</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"zoneId"</span><span class="p">:</span><span class="mi">15000372</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="mi">1549955703</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"tillName"</span><span class="p">:</span><span class="s2">"kn.003"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"storeServerName"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"storeName"</span><span class="p">:</span><span class="s2">"KNIGHT_STOER_SERVER"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"inCount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"outCount"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"autoUpdateTime"</span><span class="p">:</span><span class="s2">"2019-02-12T07:19:22.088Z"</span><span class="w">
               </span><span class="p">},</span><span class="w">

               </span><span class="p">{</span><span class="w">
                  </span><span class="nt">"deviceId"</span><span class="p">:</span><span class="mi">202481586113930</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"direction"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"eventTime"</span><span class="p">:</span><span class="s2">"2019-02-12T07:13:43.000Z"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"eventType"</span><span class="p">:</span><span class="s2">"CUSTOMER"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"orgId"</span><span class="p">:</span><span class="mi">781</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"source"</span><span class="p">:</span><span class="s2">"till"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"storeId"</span><span class="p">:</span><span class="mi">15001861</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"storeServerId"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"tillId"</span><span class="p">:</span><span class="mi">15000375</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"zoneId"</span><span class="p">:</span><span class="mi">15000372</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="mi">1549955703</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"tillName"</span><span class="p">:</span><span class="s2">"kn.003"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"storeServerName"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"storeName"</span><span class="p">:</span><span class="s2">"KNIGHT_STOER_SERVER"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"inCount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"outCount"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"autoUpdateTime"</span><span class="p">:</span><span class="s2">"2019-02-12T07:19:22.089Z"</span><span class="w">
               </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/pages/v2/ffcDetails?{param}={param_value}</code></td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>No</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<ul>
<li><strong>Rate limiter</strong> controls the number of incoming and outgoing traffic of a network</li>
<li><strong>Authentication</strong> verifies the identity of the current user or integration. See Introduction &gt; Authentication (Merchant Setup on Admin Portal) for more details</li>
</ul>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/pages/v2/ffcDetails?{param1}={param_value1}&amp;{param2}={param_value2}</code></p>

<h3 id="request-path-parameters">Request Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orgId*</td>
<td>int</td>
<td>Specify the org id for which you want to fetch the data</td>
</tr>
<tr>
<td>storeId*</td>
<td>int</td>
<td>Store id for which you want to fetch data</td>
</tr>
<tr>
<td>date</td>
<td>date</td>
<td>Specify the date in YYYY/MM/DD` format to fetch the data of that specific date</td>
</tr>
<tr>
<td>timezone</td>
<td>string</td>
<td>Specify the UTC timezone of the device</td>
</tr>
<tr>
<td>deviceId</td>
<td>string</td>
<td>Specify the device id for which you want to fetch the data</td>
</tr>
<tr>
<td>syncTimeFrom</td>
<td>timestamp</td>
<td>The duration (in UTC timestamp) for which the data is synced to the server (between syncTimeFrom and syncTimeTo)</td>
</tr>
<tr>
<td>syncTimeTo</td>
<td>timestamp</td>
<td>The period (in UTC timestamp) for which the data is synced to the server (between syncTimeFrom and syncTimeTo)</td>
</tr>
<tr>
<td>syncDate</td>
<td>timestamp</td>
<td>The data  synced on a specific date. Specify the date in <code class="prettyprint">YYYY-MM-DD</code> format. For example, if you pass <code class="prettyprint">timezone</code> is UTC+5:30 and syncDate is 2019-02-24, you will the entire data synced on 24th Feb 2019 of India timezone</td>
</tr>
</tbody></table>

<aside class="notice">All parameters marked by * are mandatory.</aside>

<h2 id="add-group-count-hourly">Add Group Count (Hourly)</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight html"><code>https://sg.storecare.capillarytech.com/add/ffcGroupCount?eventType=0

</code></pre>
<blockquote>
<p>Sample POST Request</p>
</blockquote>
<pre class="highlight json"><code><span class="w">
</span><span class="p">{</span><span class="w">
   </span><span class="nt">"org_id"</span><span class="p">:</span><span class="s2">"781"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"till_id"</span><span class="p">:</span><span class="s2">"15000375"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"zone_id"</span><span class="p">:</span><span class="s2">"15000372"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"store_id"</span><span class="p">:</span><span class="s2">"15001861"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"source"</span><span class="p">:</span><span class="s2">"till"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"store_server_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
   </span><span class="nt">"store_server_name"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
   </span><span class="nt">"till_name"</span><span class="p">:</span><span class="s2">"kn.003"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"store_name"</span><span class="p">:</span><span class="s2">"KNIGHT_STOER_SERVER"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="mi">1541874600</span><span class="p">,</span><span class="w">
   </span><span class="nt">"deviceId"</span><span class="p">:</span><span class="mi">202481588574972</span><span class="p">,</span><span class="w">
   </span><span class="nt">"groupCountDetails"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"outCountTriple"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCountMore"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"outCountDuo"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCountUno"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCountTriple"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"outCountMore"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCountDuo"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"outCountUno"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"startDate"</span><span class="p">:</span><span class="mi">1541874600</span><span class="p">,</span><span class="w">
         </span><span class="nt">"endDate"</span><span class="p">:</span><span class="mi">1541878199</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"outCountTriple"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCountMore"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"outCountDuo"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCountUno"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCountTriple"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"outCountMore"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCountDuo"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"outCountUno"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"startDate"</span><span class="p">:</span><span class="mi">1541878200</span><span class="p">,</span><span class="w">
         </span><span class="nt">"endDate"</span><span class="p">:</span><span class="mi">1541881799</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"outCountTriple"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCountMore"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"outCountDuo"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCountUno"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCountTriple"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"outCountMore"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCountDuo"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"outCountUno"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"startDate"</span><span class="p">:</span><span class="mi">1541881800</span><span class="p">,</span><span class="w">
         </span><span class="nt">"endDate"</span><span class="p">:</span><span class="mi">1541885399</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"outCountTriple"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCountMore"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"outCountDuo"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCountUno"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCountTriple"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"outCountMore"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCountDuo"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"outCountUno"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"startDate"</span><span class="p">:</span><span class="mi">1541885400</span><span class="p">,</span><span class="w">
         </span><span class="nt">"endDate"</span><span class="p">:</span><span class="mi">1541888999</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"outCountTriple"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCountMore"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"outCountDuo"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCountUno"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCountTriple"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"outCountMore"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCountDuo"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"outCountUno"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"startDate"</span><span class="p">:</span><span class="mi">1541889000</span><span class="p">,</span><span class="w">
         </span><span class="nt">"endDate"</span><span class="p">:</span><span class="mi">1541892599</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"outCountTriple"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCountMore"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"outCountDuo"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCountUno"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCountTriple"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"outCountMore"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCountDuo"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"outCountUno"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"startDate"</span><span class="p">:</span><span class="mi">1541892600</span><span class="p">,</span><span class="w">
         </span><span class="nt">"endDate"</span><span class="p">:</span><span class="mi">1541896199</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"outCountTriple"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCountMore"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"outCountDuo"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCountUno"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCountTriple"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"outCountMore"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCountDuo"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"outCountUno"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"startDate"</span><span class="p">:</span><span class="mi">1541896200</span><span class="p">,</span><span class="w">
         </span><span class="nt">"endDate"</span><span class="p">:</span><span class="mi">1541899799</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"outCountTriple"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCountMore"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"outCountDuo"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCountUno"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCountTriple"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"outCountMore"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCountDuo"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"outCountUno"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"startDate"</span><span class="p">:</span><span class="mi">1541957400</span><span class="p">,</span><span class="w">
         </span><span class="nt">"endDate"</span><span class="p">:</span><span class="mi">1541960999</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"response"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:{</span><span class="w">
         </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
         </span><span class="nt">"code"</span><span class="p">:</span><span class="s2">"200"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Success"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/add/ffcGroupCount?eventType=0</code></td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>No</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>POST</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<ul>
<li><strong>Rate limiter</strong> controls the number of incoming and outgoing traffic of a network</li>
<li><strong>Authentication</strong> verifies the identity of the current user or integration. See Introduction &gt; Authentication (Merchant Setup on Admin Portal) for more details</li>
</ul>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/add/ffcGroupCount?eventType=0</code></p>

<h3 id="request-body-parameters">Request Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>org_id*</td>
<td>int</td>
<td>Unique id of the org for which you want to add group count</td>
</tr>
<tr>
<td>till_id</td>
<td>int</td>
<td>Unique id of the TILL where the device is installed</td>
</tr>
<tr>
<td>zone_id</td>
<td>int</td>
<td>Zone id associated to the TILL</td>
</tr>
<tr>
<td>store_id</td>
<td>int</td>
<td>Store id associated to the TILL</td>
</tr>
<tr>
<td>source</td>
<td>string</td>
<td>Source from which the Data is coming to the system. Value: <code class="prettyprint">till</code></td>
</tr>
<tr>
<td>store_server_id</td>
<td>string</td>
<td>Store server id if applicable</td>
</tr>
<tr>
<td>store_server_name</td>
<td>string</td>
<td>Name of the store server</td>
</tr>
<tr>
<td>till_name</td>
<td>string</td>
<td>Name of the TILL associated to the device</td>
</tr>
<tr>
<td>store_name</td>
<td>string</td>
<td>Name of the store in which the device is installed</td>
</tr>
<tr>
<td>timestamp</td>
<td>string</td>
<td>Timestamp as on the Current system</td>
</tr>
<tr>
<td>deviceId*</td>
<td>long</td>
<td>Unique id of the device</td>
</tr>
<tr>
<td>outCountTriple</td>
<td>int</td>
<td>Out count of group size 3</td>
</tr>
<tr>
<td>inCountTriple</td>
<td>int</td>
<td>In count of group size 3</td>
</tr>
<tr>
<td>inCountMore</td>
<td>int</td>
<td>In count of group size more than 3</td>
</tr>
<tr>
<td>outCountMore</td>
<td>int</td>
<td>Out count of group size more than 3</td>
</tr>
<tr>
<td>inCountDuo</td>
<td>int</td>
<td>In count of group size 2</td>
</tr>
<tr>
<td>outCountDuo</td>
<td>int</td>
<td>Out count of group size 2</td>
</tr>
<tr>
<td>inCountUno</td>
<td>int</td>
<td>In count of group size 1</td>
</tr>
<tr>
<td>outCountUno</td>
<td>int</td>
<td>Out count of group size 1</td>
</tr>
<tr>
<td>startDate*</td>
<td>date-time</td>
<td>Date and time of the respective hour for which you want to update the data (between startDate - endDate)</td>
</tr>
<tr>
<td>endDate*</td>
<td>date-time</td>
<td>Date and time of the respective hour for which you want to update the data (between startDate - endDate)</td>
</tr>
</tbody></table>

<h2 id="get-group-count-hourly">Get Group Count (Hourly)</h2>

<p>Retrieves the group count of a VM device on a hourly basis. The groups have the buckets with size 1, 2, 3, 4 or more.</p>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight html"><code>https://sg.storecare.capillarytech.com/pages/ffcGroupCount?org_Id=1543<span class="err">&amp;</span>date=2019/2/10<span class="err">&amp;</span>timezone=UTC+0530<span class="err">&amp;</span>deviceId=202481601722905 
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"response"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:{</span><span class="w">
         </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
         </span><span class="nt">"code"</span><span class="p">:</span><span class="s2">"200"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Success"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"get_ffc_groupCount"</span><span class="p">:{</span><span class="w">
         </span><span class="nt">"applications"</span><span class="p">:{</span><span class="w">
            </span><span class="nt">"application"</span><span class="p">:[</span><span class="w">

            </span><span class="p">]</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nt">"thin_clients"</span><span class="p">:{</span><span class="w">
            </span><span class="nt">"thin_client"</span><span class="p">:[</span><span class="w">

            </span><span class="p">]</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nt">"tills"</span><span class="p">:{</span><span class="w">
            </span><span class="nt">"till"</span><span class="p">:[</span><span class="w">
               </span><span class="p">{</span><span class="w">
                  </span><span class="nt">"deviceId"</span><span class="p">:</span><span class="mi">202481601722905</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"org_id"</span><span class="p">:</span><span class="s2">"1199"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"source"</span><span class="p">:</span><span class="s2">"till"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"store_id"</span><span class="p">:</span><span class="s2">"12845453"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"store_server_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"till_id"</span><span class="p">:</span><span class="s2">"12845454"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"zone_id"</span><span class="p">:</span><span class="s2">"12839781"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"store_server_name"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"till_name"</span><span class="p">:</span><span class="s2">"lee.goa.panaji.1010803.1"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"store_name"</span><span class="p">:</span><span class="s2">"Lee VVC LIFESTYLE Goa"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="mi">1549737000</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"groupCountDetails"</span><span class="p">:[</span><span class="w">
                     </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"inCountDuo"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"inCountUno"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"inCountMore"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"inCountTriple"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"outCountDuo"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"outCountUno"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"outCountTriple"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"outCountMore"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"startDate"</span><span class="p">:</span><span class="mi">1549737000</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"endDate"</span><span class="p">:</span><span class="mi">1549740599</span><span class="w">
                     </span><span class="p">},</span><span class="w">
                     </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"inCountDuo"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"inCountUno"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"inCountMore"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"inCountTriple"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"outCountDuo"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"outCountUno"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"outCountTriple"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"outCountMore"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"startDate"</span><span class="p">:</span><span class="mi">1549740600</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"endDate"</span><span class="p">:</span><span class="mi">1549744199</span><span class="w">
                     </span><span class="p">},</span><span class="w">
                     </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"inCountDuo"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"inCountUno"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"inCountMore"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"inCountTriple"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"outCountDuo"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"outCountUno"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"outCountTriple"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"outCountMore"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"startDate"</span><span class="p">:</span><span class="mi">1549744200</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"endDate"</span><span class="p">:</span><span class="mi">1549747799</span><span class="w">
                     </span><span class="p">},</span><span class="w">
                     </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"inCountDuo"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"inCountUno"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"inCountMore"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"inCountTriple"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"outCountDuo"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"outCountUno"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"outCountTriple"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"outCountMore"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"startDate"</span><span class="p">:</span><span class="mi">1549747800</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"endDate"</span><span class="p">:</span><span class="mi">1549751399</span><span class="w">
                     </span><span class="p">},</span><span class="w">
                     </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"inCountDuo"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"inCountUno"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"inCountMore"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"inCountTriple"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"outCountDuo"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"outCountUno"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"outCountTriple"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"outCountMore"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"startDate"</span><span class="p">:</span><span class="mi">1549819800</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"endDate"</span><span class="p">:</span><span class="mi">1549823399</span><span class="w">
                     </span><span class="p">}</span><span class="w">
                  </span><span class="p">],</span><span class="w">
                  </span><span class="nt">"eventType"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"auto_update_time"</span><span class="p">:</span><span class="s2">"2019-02-11T02:10:35.858Z"</span><span class="w">
               </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nt">"store_servers"</span><span class="p">:{</span><span class="w">
            </span><span class="nt">"store_server"</span><span class="p">:[</span><span class="w">

            </span><span class="p">]</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/pages/ffcDetails?{param}={param_value}</code></td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>No</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<ul>
<li><strong>Rate limiter</strong> controls the number of incoming and outgoing traffic of a network</li>
<li><strong>Authentication</strong> verifies the identity of the current user or integration. See Introduction &gt; Authentication (Merchant Setup on Admin Portal) for more details</li>
</ul>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/pages/ffcDetails?{param}={param_value}</code></p>

<h3 id="request-path-parameters">Request Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orgId*</td>
<td>int</td>
<td>Specify the org id for which you want to fetch the data</td>
</tr>
<tr>
<td>date*</td>
<td>date</td>
<td>Specify the date in YYYY/MM/DD` format to fetch the data of that specific date</td>
</tr>
<tr>
<td>timezone*</td>
<td>string</td>
<td>Specify the UTC time zone of the device</td>
</tr>
<tr>
<td>deviceId*</td>
<td>string</td>
<td>Specify the device id for which you want to fetch the data</td>
</tr>
</tbody></table>

<aside class="notice">All parameters marked by * are mandatory.</aside>

<h2 id="add-group-count-v2-event-level">Add Group Count V2 (Event Level)</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight html"><code>https://sg.storecare.capillarytech.com/v2/add/ffcGroupCount?eventType=0

</code></pre>
<blockquote>
<p>Sample POST Request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"org_id"</span><span class="p">:</span><span class="s2">"781"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"till_id"</span><span class="p">:</span><span class="s2">"15000375"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"zone_id"</span><span class="p">:</span><span class="s2">"15000372"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"store_id"</span><span class="p">:</span><span class="s2">"15001861"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"source"</span><span class="p">:</span><span class="s2">"till"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"store_server_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
   </span><span class="nt">"store_server_name"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
   </span><span class="nt">"till_name"</span><span class="p">:</span><span class="s2">"kn.003"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"store_name"</span><span class="p">:</span><span class="s2">"KNIGHT_STOER_SERVER"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="mi">1550561898</span><span class="p">,</span><span class="w">
   </span><span class="nt">"deviceId"</span><span class="p">:</span><span class="mi">202481588574972</span><span class="p">,</span><span class="w">
   </span><span class="nt">"groupCountDetails"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"inCountUnoTimeStamps"</span><span class="p">:[</span><span class="w">
            </span><span class="mi">1540800006</span><span class="p">,</span><span class="w">
            </span><span class="mi">1540800011</span><span class="p">,</span><span class="w">
            </span><span class="mi">1540800045</span><span class="p">,</span><span class="w">
            </span><span class="mi">1540800048</span><span class="p">,</span><span class="w">
            </span><span class="mi">1540800051</span><span class="p">,</span><span class="w">
            </span><span class="mi">1540800122</span><span class="p">,</span><span class="w">
            </span><span class="mi">1540800129</span><span class="p">,</span><span class="w">
            </span><span class="mi">1540800179</span><span class="p">,</span><span class="w">
            </span><span class="mi">1540800447</span><span class="p">,</span><span class="w">
            </span><span class="mi">1540800519</span><span class="p">,</span><span class="w">
            </span><span class="mi">1540800526</span><span class="p">,</span><span class="w">
            </span><span class="mi">1540800541</span><span class="p">,</span><span class="w">
            </span><span class="mi">1540800597</span><span class="w">
         </span><span class="p">],</span><span class="w">
         </span><span class="nt">"inCountDuoTimeStamps"</span><span class="p">:[</span><span class="w">

         </span><span class="p">],</span><span class="w">
         </span><span class="nt">"inCountTripleTimeStamps"</span><span class="p">:[</span><span class="w">

         </span><span class="p">],</span><span class="w">
         </span><span class="nt">"inCountMoreTimeStamps"</span><span class="p">:[</span><span class="w">

         </span><span class="p">],</span><span class="w">
         </span><span class="nt">"outCountUnoTimeStamps"</span><span class="p">:[</span><span class="w">
            </span><span class="mi">1540800058</span><span class="p">,</span><span class="w">
            </span><span class="mi">1540800073</span><span class="p">,</span><span class="w">
            </span><span class="mi">1540800092</span><span class="p">,</span><span class="w">
            </span><span class="mi">1540800200</span><span class="p">,</span><span class="w">
            </span><span class="mi">1540800225</span><span class="p">,</span><span class="w">
            </span><span class="mi">1540800254</span><span class="p">,</span><span class="w">
            </span><span class="mi">1540800281</span><span class="p">,</span><span class="w">
            </span><span class="mi">1540800318</span><span class="p">,</span><span class="w">
            </span><span class="mi">1540800347</span><span class="p">,</span><span class="w">
            </span><span class="mi">1540800391</span><span class="p">,</span><span class="w">
            </span><span class="mi">1540800468</span><span class="p">,</span><span class="w">
            </span><span class="mi">1540800525</span><span class="p">,</span><span class="w">
            </span><span class="mi">1540800529</span><span class="p">,</span><span class="w">
            </span><span class="mi">1540800562</span><span class="p">,</span><span class="w">
            </span><span class="mi">1540800630</span><span class="p">,</span><span class="w">
            </span><span class="mi">1540800761</span><span class="p">,</span><span class="w">
            </span><span class="mi">1540800821</span><span class="w">
         </span><span class="p">],</span><span class="w">
         </span><span class="nt">"outCountDuoTimeStamps"</span><span class="p">:[</span><span class="w">
            </span><span class="mi">1540800258</span><span class="p">,</span><span class="w">
            </span><span class="mi">1540800589</span><span class="w">
         </span><span class="p">],</span><span class="w">
         </span><span class="nt">"outCountTripleTimeStamps"</span><span class="p">:[</span><span class="w">
            </span><span class="mi">1540800328</span><span class="w">
         </span><span class="p">],</span><span class="w">
         </span><span class="nt">"outCountMoreTimeStamps"</span><span class="p">:[</span><span class="w">

         </span><span class="p">],</span><span class="w">
         </span><span class="nt">"outCountTriple"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCountMore"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"outCountDuo"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCountUno"</span><span class="p">:</span><span class="mi">13</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCountTriple"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"outCountMore"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"inCountDuo"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nt">"outCountUno"</span><span class="p">:</span><span class="mi">17</span><span class="p">,</span><span class="w">
         </span><span class="nt">"startDate"</span><span class="p">:</span><span class="mi">1540800002</span><span class="p">,</span><span class="w">
         </span><span class="nt">"endDate"</span><span class="p">:</span><span class="mi">1540800902</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">


</span></code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"response"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:{</span><span class="w">
         </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
         </span><span class="nt">"code"</span><span class="p">:</span><span class="s2">"200"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Success"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/v2/add/ffcGroupCount?eventType=0</code></td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>No</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>POST</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<ul>
<li><strong>Rate limiter</strong> controls the number of incoming and outgoing traffic of a network</li>
<li><strong>Authentication</strong> verifies the identity of the current user or integration. See Introduction &gt; Authentication (Merchant Setup on Admin Portal) for more details</li>
</ul>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/v2/add/ffcGroupCount?eventType=0</code></p>

<h3 id="request-body-parameters">Request Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>org_id*</td>
<td>int</td>
<td>Unique id of the org for which you want to add group count</td>
</tr>
<tr>
<td>till_id</td>
<td>int</td>
<td>Unique id of the TILL where the device is installed</td>
</tr>
<tr>
<td>zone_id</td>
<td>int</td>
<td>Zone id associated to the TILL</td>
</tr>
<tr>
<td>store_id</td>
<td>int</td>
<td>Store id associated to the TILL</td>
</tr>
<tr>
<td>source</td>
<td>string</td>
<td>Source from which the Data is coming to the system. Value: <code class="prettyprint">till</code></td>
</tr>
<tr>
<td>store_server_id</td>
<td>string</td>
<td>Store server id if applicable</td>
</tr>
<tr>
<td>store_server_name</td>
<td>string</td>
<td>Name of the store server</td>
</tr>
<tr>
<td>till_name</td>
<td>string</td>
<td>Name of the TILL associated to the device</td>
</tr>
<tr>
<td>store_name</td>
<td>string</td>
<td>Name of the store in which the device is installed</td>
</tr>
<tr>
<td>inCountUnoTimeStamps</td>
<td>timestamp</td>
<td>Timestamps of the all in count events with group size 1</td>
</tr>
<tr>
<td>inCountDuoTimeStamps</td>
<td>timestamp</td>
<td>Timestamps of the all in count events with group size 2</td>
</tr>
<tr>
<td>inCountTripleTimeStamps</td>
<td>timestamp</td>
<td>Timestamps of the all in count events with group size 3</td>
</tr>
<tr>
<td>inCountMoreTimeStamps</td>
<td>timestamp</td>
<td>Timestamps of the all in count events with group size more than 3</td>
</tr>
<tr>
<td>outCountUnoTimeStamps</td>
<td>timestamp</td>
<td>Timestamps of the all out count events with group size more 1</td>
</tr>
<tr>
<td>outCountDuoTimeStamps</td>
<td>timestamp</td>
<td>Timestamps of the all out count events with group size 2</td>
</tr>
<tr>
<td>outCountTripleTimeStamps</td>
<td>timestamp</td>
<td>Timestamps of the all out count events with group size 3</td>
</tr>
<tr>
<td>outCountMoreTimeStamps</td>
<td>timestamp</td>
<td>Timestamps of the all out count events with group size more than 3</td>
</tr>
<tr>
<td>deviceId*</td>
<td>long</td>
<td>Unique id of the device</td>
</tr>
<tr>
<td>outCountTriple</td>
<td>int</td>
<td>Out count of group size 3</td>
</tr>
<tr>
<td>inCountTriple</td>
<td>int</td>
<td>In count of group size 3</td>
</tr>
<tr>
<td>inCountMore</td>
<td>int</td>
<td>In count of group size more than 3</td>
</tr>
<tr>
<td>outCountMore</td>
<td>int</td>
<td>Out count of group size more than 3</td>
</tr>
<tr>
<td>inCountDuo</td>
<td>int</td>
<td>In count of group size 2</td>
</tr>
<tr>
<td>outCountDuo</td>
<td>int</td>
<td>Out count of group size 2</td>
</tr>
<tr>
<td>inCountUno</td>
<td>int</td>
<td>In count of group size 1</td>
</tr>
<tr>
<td>outCountUno</td>
<td>int</td>
<td>Out count of group size 1</td>
</tr>
<tr>
<td>startDate*</td>
<td>date-time</td>
<td>Duration of the current data (between startDate - endDate)</td>
</tr>
<tr>
<td>endDate*</td>
<td>date-time</td>
<td>Duration of the current data (between startDate - endDate)</td>
</tr>
</tbody></table>

<h2 id="get-group-count-event-level">Get Group Count (Event Level)</h2>

<p>Retrieves both in and out count of groups at an event level. The groups have the buckets with size 1, 2, 3, 4 or more.</p>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight html"><code>https://sg.storecare.capillarytech.com/pages/v2/ffcGroupCount??orgId=7221<span class="err">&amp;</span>date=2019/02/12<span class="err">&amp;</span>timezone=UTC+0530<span class="err">&amp;</span>storeId=15001861 

</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"response"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:{</span><span class="w">
         </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
         </span><span class="nt">"code"</span><span class="p">:</span><span class="s2">"200"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Success"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"get_ffc_v2_groupCount"</span><span class="p">:{</span><span class="w">
         </span><span class="nt">"tills"</span><span class="p">:{</span><span class="w">
            </span><span class="nt">"till"</span><span class="p">:[</span><span class="w">
               </span><span class="p">{</span><span class="w">
                  </span><span class="nt">"deviceId"</span><span class="p">:</span><span class="mi">202481586113930</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"direction"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"eventTime"</span><span class="p">:</span><span class="s2">"2019-02-12T09:27:55.000Z"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"orgId"</span><span class="p">:</span><span class="mi">781</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"size"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"source"</span><span class="p">:</span><span class="s2">"till"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"storeId"</span><span class="p">:</span><span class="mi">15001861</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"storeServerId"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"tillId"</span><span class="p">:</span><span class="mi">15000375</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"zoneId"</span><span class="p">:</span><span class="mi">15000372</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="mi">1549963810</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"tillName"</span><span class="p">:</span><span class="s2">"kn.003"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"storeServerName"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"storeName"</span><span class="p">:</span><span class="s2">"KNIGHT_STOER_SERVER"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"eventType"</span><span class="p">:</span><span class="s2">"CUSTOMER"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"autoUpdateTime"</span><span class="p">:</span><span class="s2">"2019-02-12T09:34:29.157Z"</span><span class="w">
               </span><span class="p">},</span><span class="w">
               </span><span class="p">{</span><span class="w">
                  </span><span class="nt">"deviceId"</span><span class="p">:</span><span class="mi">202481586113930</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"direction"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"eventTime"</span><span class="p">:</span><span class="s2">"2019-02-12T09:23:14.000Z"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"orgId"</span><span class="p">:</span><span class="mi">781</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"size"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"source"</span><span class="p">:</span><span class="s2">"till"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"storeId"</span><span class="p">:</span><span class="mi">15001861</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"storeServerId"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"tillId"</span><span class="p">:</span><span class="mi">15000375</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"zoneId"</span><span class="p">:</span><span class="mi">15000372</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="mi">1549963810</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"tillName"</span><span class="p">:</span><span class="s2">"kn.003"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"storeServerName"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"storeName"</span><span class="p">:</span><span class="s2">"KNIGHT_STOER_SERVER"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"eventType"</span><span class="p">:</span><span class="s2">"CUSTOMER"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"count"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"autoUpdateTime"</span><span class="p">:</span><span class="s2">"2019-02-12T09:34:29.156Z"</span><span class="w">
               </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nt">"store_servers"</span><span class="p">:{</span><span class="w">
            </span><span class="nt">"store_server"</span><span class="p">:[</span><span class="w">

            </span><span class="p">]</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nt">"applications"</span><span class="p">:{</span><span class="w">
            </span><span class="nt">"application"</span><span class="p">:[</span><span class="w">

            </span><span class="p">]</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nt">"thin_clients"</span><span class="p">:{</span><span class="w">
            </span><span class="nt">"thin_client"</span><span class="p">:[</span><span class="w">

            </span><span class="p">]</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/pages/v2/ffcGroupCount?{param}={param_value}</code></td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>No</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<ul>
<li><strong>Rate limiter</strong> controls the number of incoming and outgoing traffic of a network</li>
<li><strong>Authentication</strong> verifies the identity of the current user or integration. See Introduction &gt; Authentication (Merchant Setup on Admin Portal) for more details</li>
</ul>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}//pages/v2/ffcGroupCount?{param1}={param_value1}&amp;{param2}={param_value2}...</code></p>

<h3 id="request-path-parameters">Request Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orgId*</td>
<td>int</td>
<td>Specify the org id for which you want to fetch the data</td>
</tr>
<tr>
<td>storeId*</td>
<td>int</td>
<td>Specify the store id for which you want to fetch the data</td>
</tr>
<tr>
<td>date</td>
<td>date</td>
<td>Specify the date in YYYY/MM/DD` format to fetch the data of that specific date</td>
</tr>
<tr>
<td>timezone</td>
<td>string</td>
<td>Specify the UTC time zone of the device</td>
</tr>
<tr>
<td>deviceId</td>
<td>string</td>
<td>Specify the device id for which you want to fetch the data</td>
</tr>
<tr>
<td>syncTimeFrom</td>
<td>timestamp</td>
<td>The duration (in UTC timestamp) for which the data is synced to the server (between syncTimeFrom and syncTimeTo)</td>
</tr>
<tr>
<td>syncTimeTo</td>
<td>timestamp</td>
<td>The period (in UTC timestamp) for which the data is synced to the server (between syncTimeFrom and syncTimeTo)</td>
</tr>
<tr>
<td>syncDate</td>
<td>timestamp</td>
<td>The data  synced on a specific date. Specify the date in <code class="prettyprint">YYYY-MM-DD</code> format. For example, if you pass <code class="prettyprint">timezone</code> is UTC+5:30 and syncDate is 2019-02-24, you will the entire data synced on 24th Feb 2019 of India timezone.</td>
</tr>
</tbody></table>

<aside class="notice">All parameters marked by * are mandatory.</aside>

<h2 id="get-notes">Get Notes</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight html"><code>https://sg.storecare.capillarytech.com/pages/notes
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"response"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:{</span><span class="w">
         </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
         </span><span class="nt">"code"</span><span class="p">:</span><span class="s2">"200"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Success"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"get_notes"</span><span class="p">:{</span><span class="w">
         </span><span class="nt">"store_servers"</span><span class="p">:{</span><span class="w">
            </span><span class="nt">"store_server"</span><span class="p">:[</span><span class="w">

            </span><span class="p">]</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nt">"applications"</span><span class="p">:{</span><span class="w">
            </span><span class="nt">"application"</span><span class="p">:[</span><span class="w">
               </span><span class="p">{</span><span class="w">
                  </span><span class="nt">"_id"</span><span class="p">:</span><span class="s2">"57ee62bfb5ae5f642762a331"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"deviceId"</span><span class="p">:</span><span class="s2">"987"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"notes_id"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"org_id"</span><span class="p">:</span><span class="s2">"905"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"source"</span><span class="p">:</span><span class="s2">"jar1"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"till_id"</span><span class="p">:</span><span class="s2">"12773786"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">"Demo store"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"zone_id"</span><span class="p">:</span><span class="s2">"12773779"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"store_id"</span><span class="p">:</span><span class="s2">"15000584"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"criticality"</span><span class="p">:</span><span class="s2">"FATAL"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"time"</span><span class="p">:</span><span class="s2">"1472541586"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"storeName"</span><span class="p">:</span><span class="s2">"JamesBond"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"entityIUN"</span><span class="p">:</span><span class="s2">"till.demo"</span><span class="w">
               </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nt">"thin_clients"</span><span class="p">:{</span><span class="w">
            </span><span class="nt">"thin_client"</span><span class="p">:[</span><span class="w">

            </span><span class="p">]</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nt">"tills"</span><span class="p">:{</span><span class="w">
            </span><span class="nt">"till"</span><span class="p">:[</span><span class="w">

            </span><span class="p">]</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/pages/notes</code></td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>No</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<ul>
<li><strong>Rate limiter</strong> controls the number of incoming and outgoing traffic of a network</li>
<li><strong>Authentication</strong> verifies the identity of the current user or integration. See Introduction &gt; Authentication (Merchant Setup on Admin Portal) for more details</li>
</ul>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/pages/notes</code></p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="json">json</a>
                <a href="#" data-language-name="xml">xml</a>
          </div>
      </div>
    </div>
	<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-136354191-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-136354191-1');
</script>

  </body>
</html>
